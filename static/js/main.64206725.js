/*! For license information please see main.64206725.js.LICENSE.txt */
!function(){var e={7757:function(e,t,n){e.exports=n(9727)},1975:function(e,t,n){"use strict";var r=n(8309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var s=u(t),v=u(n),y=0;y<o.length;++y){var m=o[y];if(!a[m]&&(!r||!r[m])&&(!v||!v[m])&&(!s||!s[m])){var g=h(n,m);try{c(t,m,g)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,_=n?Symbol.for("react.scope"):60119;function b(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case s:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case y:case v:case u:return e;default:return t}}case i:return t}}}function w(e){return b(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=y,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return w(e)||b(e)===l},t.isConcurrentMode=w,t.isContextConsumer=function(e){return b(e)===c},t.isContextProvider=function(e){return b(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return b(e)===h},t.isFragment=function(e){return b(e)===a},t.isLazy=function(e){return b(e)===y},t.isMemo=function(e){return b(e)===v},t.isPortal=function(e){return b(e)===i},t.isProfiler=function(e){return b(e)===s},t.isStrictMode=function(e){return b(e)===o},t.isSuspense=function(e){return b(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===s||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===_||e.$$typeof===m)},t.typeOf=b},8309:function(e,t,n){"use strict";e.exports=n(746)},908:function(e,t,n){var r=n(8136)(n(7009),"DataView");e.exports=r},9676:function(e,t,n){var r=n(5403),i=n(2747),a=n(6037),o=n(4154),s=n(7728);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=o,u.prototype.set=s,e.exports=u},8384:function(e,t,n){var r=n(3894),i=n(8699),a=n(4957),o=n(7184),s=n(7109);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=o,u.prototype.set=s,e.exports=u},5797:function(e,t,n){var r=n(8136)(n(7009),"Map");e.exports=r},8059:function(e,t,n){var r=n(4086),i=n(9255),a=n(9186),o=n(3423),s=n(3739);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=o,u.prototype.set=s,e.exports=u},8319:function(e,t,n){var r=n(8136)(n(7009),"Promise");e.exports=r},3924:function(e,t,n){var r=n(8136)(n(7009),"Set");e.exports=r},692:function(e,t,n){var r=n(8059),i=n(5774),a=n(1596);function o(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}o.prototype.add=o.prototype.push=i,o.prototype.has=a,e.exports=o},2854:function(e,t,n){var r=n(8384),i=n(511),a=n(835),o=n(707),s=n(8832),u=n(5077);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=a,c.prototype.get=o,c.prototype.has=s,c.prototype.set=u,e.exports=c},7197:function(e,t,n){var r=n(7009).Symbol;e.exports=r},6219:function(e,t,n){var r=n(7009).Uint8Array;e.exports=r},7091:function(e,t,n){var r=n(8136)(n(7009),"WeakMap");e.exports=r},4903:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}},7538:function(e,t,n){var r=n(6478),i=n(4963),a=n(3629),o=n(5174),s=n(6800),u=n(9102),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=a(e),l=!n&&i(e),f=!n&&!l&&o(e),h=!n&&!l&&!f&&u(e),d=n||l||f||h,p=d?r(e.length,String):[],v=p.length;for(var y in e)!t&&!c.call(e,y)||d&&("length"==y||f&&("offset"==y||"parent"==y)||h&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||s(y,v))||p.push(y);return p}},8950:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},1705:function(e){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},2095:function(e){e.exports=function(e,t,n,r){var i=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}},7897:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},4622:function(e){e.exports=function(e){return e.split("")}},240:function(e){var t=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;e.exports=function(e){return e.match(t)||[]}},7112:function(e,t,n){var r=n(9231);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},2526:function(e,t,n){var r=n(8528);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},5099:function(e,t,n){var r=n(372)();e.exports=r},5358:function(e,t,n){var r=n(5099),i=n(2742);e.exports=function(e,t){return e&&r(e,t,i)}},8667:function(e,t,n){var r=n(3082),i=n(9793);e.exports=function(e,t){for(var n=0,a=(t=r(t,e)).length;null!=e&&n<a;)e=e[i(t[n++])];return n&&n==a?e:void 0}},1986:function(e,t,n){var r=n(1705),i=n(3629);e.exports=function(e,t,n){var a=t(e);return i(e)?a:r(a,n(e))}},9066:function(e,t,n){var r=n(7197),i=n(1587),a=n(3581),o=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?i(e):a(e)}},7852:function(e){var t=Object.prototype.hasOwnProperty;e.exports=function(e,n){return null!=e&&t.call(e,n)}},529:function(e){e.exports=function(e,t){return null!=e&&t in Object(e)}},4906:function(e,t,n){var r=n(9066),i=n(3141);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},1848:function(e,t,n){var r=n(3355),i=n(3141);e.exports=function e(t,n,a,o,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!==t&&n!==n:r(t,n,a,o,e,s))}},3355:function(e,t,n){var r=n(2854),i=n(5305),a=n(2206),o=n(8078),s=n(8383),u=n(3629),c=n(5174),l=n(9102),f="[object Arguments]",h="[object Array]",d="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,v,y,m){var g=u(e),k=u(t),_=g?h:s(e),b=k?h:s(t),w=(_=_==f?d:_)==d,x=(b=b==f?d:b)==d,E=_==b;if(E&&c(e)){if(!c(t))return!1;g=!0,w=!1}if(E&&!w)return m||(m=new r),g||l(e)?i(e,t,n,v,y,m):a(e,t,_,n,v,y,m);if(!(1&n)){var T=w&&p.call(e,"__wrapped__"),C=x&&p.call(t,"__wrapped__");if(T||C){var S=T?e.value():e,I=C?t.value():t;return m||(m=new r),y(S,I,n,v,m)}}return!!E&&(m||(m=new r),o(e,t,n,v,y,m))}},8856:function(e,t,n){var r=n(2854),i=n(1848);e.exports=function(e,t,n,a){var o=n.length,s=o,u=!a;if(null==e)return!s;for(e=Object(e);o--;){var c=n[o];if(u&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<s;){var l=(c=n[o])[0],f=e[l],h=c[1];if(u&&c[2]){if(void 0===f&&!(l in e))return!1}else{var d=new r;if(a)var p=a(f,h,l,e,t,d);if(!(void 0===p?i(h,f,3,a,d):p))return!1}}return!0}},6703:function(e,t,n){var r=n(4786),i=n(257),a=n(8092),o=n(7907),s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,f=c.hasOwnProperty,h=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!a(e)||i(e))&&(r(e)?h:s).test(o(e))}},8150:function(e,t,n){var r=n(9066),i=n(4635),a=n(3141),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return a(e)&&i(e.length)&&!!o[r(e)]}},6025:function(e,t,n){var r=n(7080),i=n(4322),a=n(2100),o=n(3629),s=n(38);e.exports=function(e){return"function"==typeof e?e:null==e?a:"object"==typeof e?o(e)?i(e[0],e[1]):r(e):s(e)}},3654:function(e,t,n){var r=n(2936),i=n(8836),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))a.call(e,n)&&"constructor"!=n&&t.push(n);return t}},7080:function(e,t,n){var r=n(8856),i=n(9091),a=n(284);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?a(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},4322:function(e,t,n){var r=n(1848),i=n(6181),a=n(5658),o=n(5823),s=n(5072),u=n(284),c=n(9793);e.exports=function(e,t){return o(e)&&s(t)?u(c(e),t):function(n){var o=i(n,e);return void 0===o&&o===t?a(n,e):r(t,o,3)}}},9586:function(e){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},4084:function(e,t,n){var r=n(8667);e.exports=function(e){return function(t){return r(t,e)}}},4632:function(e){e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},2646:function(e){e.exports=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+t];return a}},6478:function(e){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},2446:function(e,t,n){var r=n(7197),i=n(8950),a=n(3629),o=n(152),s=r?r.prototype:void 0,u=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(a(t))return i(t,e)+"";if(o(t))return u?u.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n}},6194:function(e){e.exports=function(e){return function(t){return e(t)}}},75:function(e){e.exports=function(e,t){return e.has(t)}},3082:function(e,t,n){var r=n(3629),i=n(5823),a=n(170),o=n(3518);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:a(o(e))}},9813:function(e,t,n){var r=n(2646);e.exports=function(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:r(e,t,n)}},5525:function(e,t,n){var r=n(7009)["__core-js_shared__"];e.exports=r},372:function(e){e.exports=function(e){return function(t,n,r){for(var i=-1,a=Object(t),o=r(t),s=o.length;s--;){var u=o[e?s:++i];if(!1===n(a[u],u,a))break}return t}}},322:function(e,t,n){var r=n(9813),i=n(7302),a=n(7580),o=n(3518);e.exports=function(e){return function(t){t=o(t);var n=i(t)?a(t):void 0,s=n?n[0]:t.charAt(0),u=n?r(n,1).join(""):t.slice(1);return s[e]()+u}}},7810:function(e,t,n){var r=n(2095),i=n(4857),a=n(5660),o=RegExp("['\u2019]","g");e.exports=function(e){return function(t){return r(a(i(t).replace(o,"")),e,"")}}},5868:function(e,t,n){var r=n(4632)({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"});e.exports=r},8528:function(e,t,n){var r=n(8136),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=i},5305:function(e,t,n){var r=n(692),i=n(7897),a=n(75);e.exports=function(e,t,n,o,s,u){var c=1&n,l=e.length,f=t.length;if(l!=f&&!(c&&f>l))return!1;var h=u.get(e),d=u.get(t);if(h&&d)return h==t&&d==e;var p=-1,v=!0,y=2&n?new r:void 0;for(u.set(e,t),u.set(t,e);++p<l;){var m=e[p],g=t[p];if(o)var k=c?o(g,m,p,t,e,u):o(m,g,p,e,t,u);if(void 0!==k){if(k)continue;v=!1;break}if(y){if(!i(t,(function(e,t){if(!a(y,t)&&(m===e||s(m,e,n,o,u)))return y.push(t)}))){v=!1;break}}else if(m!==g&&!s(m,g,n,o,u)){v=!1;break}}return u.delete(e),u.delete(t),v}},2206:function(e,t,n){var r=n(7197),i=n(6219),a=n(9231),o=n(5305),s=n(234),u=n(2230),c=r?r.prototype:void 0,l=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,f,h){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!f(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return a(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var d=s;case"[object Set]":var p=1&r;if(d||(d=u),e.size!=t.size&&!p)return!1;var v=h.get(e);if(v)return v==t;r|=2,h.set(e,t);var y=o(d(e),d(t),r,c,f,h);return h.delete(e),y;case"[object Symbol]":if(l)return l.call(e)==l.call(t)}return!1}},8078:function(e,t,n){var r=n(8248),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,a,o,s){var u=1&n,c=r(e),l=c.length;if(l!=r(t).length&&!u)return!1;for(var f=l;f--;){var h=c[f];if(!(u?h in t:i.call(t,h)))return!1}var d=s.get(e),p=s.get(t);if(d&&p)return d==t&&p==e;var v=!0;s.set(e,t),s.set(t,e);for(var y=u;++f<l;){var m=e[h=c[f]],g=t[h];if(a)var k=u?a(g,m,h,t,e,s):a(m,g,h,e,t,s);if(!(void 0===k?m===g||o(m,g,n,a,s):k)){v=!1;break}y||(y="constructor"==h)}if(v&&!y){var _=e.constructor,b=t.constructor;_==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof b&&b instanceof b||(v=!1)}return s.delete(e),s.delete(t),v}},1032:function(e,t,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},8248:function(e,t,n){var r=n(1986),i=n(5918),a=n(2742);e.exports=function(e){return r(e,a,i)}},2799:function(e,t,n){var r=n(5964);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},9091:function(e,t,n){var r=n(5072),i=n(2742);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var a=t[n],o=e[a];t[n]=[a,o,r(o)]}return t}},8136:function(e,t,n){var r=n(6703),i=n(40);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},1587:function(e,t,n){var r=n(7197),i=Object.prototype,a=i.hasOwnProperty,o=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=a.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(u){}var i=o.call(e);return r&&(t?e[s]=n:delete e[s]),i}},5918:function(e,t,n){var r=n(4903),i=n(8174),a=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,s=o?function(e){return null==e?[]:(e=Object(e),r(o(e),(function(t){return a.call(e,t)})))}:i;e.exports=s},8383:function(e,t,n){var r=n(908),i=n(5797),a=n(8319),o=n(3924),s=n(7091),u=n(9066),c=n(7907),l="[object Map]",f="[object Promise]",h="[object Set]",d="[object WeakMap]",p="[object DataView]",v=c(r),y=c(i),m=c(a),g=c(o),k=c(s),_=u;(r&&_(new r(new ArrayBuffer(1)))!=p||i&&_(new i)!=l||a&&_(a.resolve())!=f||o&&_(new o)!=h||s&&_(new s)!=d)&&(_=function(e){var t=u(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case v:return p;case y:return l;case m:return f;case g:return h;case k:return d}return t}),e.exports=_},40:function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},6417:function(e,t,n){var r=n(3082),i=n(4963),a=n(3629),o=n(6800),s=n(4635),u=n(9793);e.exports=function(e,t,n){for(var c=-1,l=(t=r(t,e)).length,f=!1;++c<l;){var h=u(t[c]);if(!(f=null!=e&&n(e,h)))break;e=e[h]}return f||++c!=l?f:!!(l=null==e?0:e.length)&&s(l)&&o(h,l)&&(a(e)||i(e))}},7302:function(e){var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},7137:function(e){var t=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;e.exports=function(e){return t.test(e)}},5403:function(e,t,n){var r=n(9620);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},2747:function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},6037:function(e,t,n){var r=n(9620),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},4154:function(e,t,n){var r=n(9620),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},7728:function(e,t,n){var r=n(9620);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},6800:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},5823:function(e,t,n){var r=n(3629),i=n(152),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||(o.test(e)||!a.test(e)||null!=t&&e in Object(t))}},5964:function(e){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},257:function(e,t,n){var r=n(5525),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},2936:function(e){var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},5072:function(e,t,n){var r=n(8092);e.exports=function(e){return e===e&&!r(e)}},3894:function(e){e.exports=function(){this.__data__=[],this.size=0}},8699:function(e,t,n){var r=n(7112),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},4957:function(e,t,n){var r=n(7112);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},7184:function(e,t,n){var r=n(7112);e.exports=function(e){return r(this.__data__,e)>-1}},7109:function(e,t,n){var r=n(7112);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},4086:function(e,t,n){var r=n(9676),i=n(8384),a=n(5797);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(a||i),string:new r}}},9255:function(e,t,n){var r=n(2799);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},9186:function(e,t,n){var r=n(2799);e.exports=function(e){return r(this,e).get(e)}},3423:function(e,t,n){var r=n(2799);e.exports=function(e){return r(this,e).has(e)}},3739:function(e,t,n){var r=n(2799);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},234:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},284:function(e){e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},4634:function(e,t,n){var r=n(9151);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},9620:function(e,t,n){var r=n(8136)(Object,"create");e.exports=r},8836:function(e,t,n){var r=n(2709)(Object.keys,Object);e.exports=r},9494:function(e,t,n){e=n.nmd(e);var r=n(1032),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,o=a&&a.exports===i&&r.process,s=function(){try{var e=a&&a.require&&a.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(t){}}();e.exports=s},3581:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},2709:function(e){e.exports=function(e,t){return function(n){return e(t(n))}}},7009:function(e,t,n){var r=n(1032),i="object"==typeof self&&self&&self.Object===Object&&self,a=r||i||Function("return this")();e.exports=a},5774:function(e){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},1596:function(e){e.exports=function(e){return this.__data__.has(e)}},2230:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},511:function(e,t,n){var r=n(8384);e.exports=function(){this.__data__=new r,this.size=0}},835:function(e){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},707:function(e){e.exports=function(e){return this.__data__.get(e)}},8832:function(e){e.exports=function(e){return this.__data__.has(e)}},5077:function(e,t,n){var r=n(8384),i=n(5797),a=n(8059);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var o=n.__data__;if(!i||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new a(o)}return n.set(e,t),this.size=n.size,this}},7580:function(e,t,n){var r=n(4622),i=n(7302),a=n(2110);e.exports=function(e){return i(e)?a(e):r(e)}},170:function(e,t,n){var r=n(4634),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,o=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,n,r,i){t.push(r?i.replace(a,"$1"):n||e)})),t}));e.exports=o},9793:function(e,t,n){var r=n(152);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},7907:function(e){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},2110:function(e){var t="[\\ud800-\\udfff]",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",r="\\ud83c[\\udffb-\\udfff]",i="[^\\ud800-\\udfff]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",o="[\\ud800-\\udbff][\\udc00-\\udfff]",s="(?:"+n+"|"+r+")"+"?",u="[\\ufe0e\\ufe0f]?",c=u+s+("(?:\\u200d(?:"+[i,a,o].join("|")+")"+u+s+")*"),l="(?:"+[i+n+"?",n,a,o,t].join("|")+")",f=RegExp(r+"(?="+r+")|"+l+c,"g");e.exports=function(e){return e.match(f)||[]}},1029:function(e){var t="\\u2700-\\u27bf",n="a-z\\xdf-\\xf6\\xf8-\\xff",r="A-Z\\xc0-\\xd6\\xd8-\\xde",i="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",a="["+i+"]",o="\\d+",s="[\\u2700-\\u27bf]",u="["+n+"]",c="[^\\ud800-\\udfff"+i+o+t+n+r+"]",l="(?:\\ud83c[\\udde6-\\uddff]){2}",f="[\\ud800-\\udbff][\\udc00-\\udfff]",h="["+r+"]",d="(?:"+u+"|"+c+")",p="(?:"+h+"|"+c+")",v="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",y="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",m="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",g="[\\ufe0e\\ufe0f]?",k=g+m+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",l,f].join("|")+")"+g+m+")*"),_="(?:"+[s,l,f].join("|")+")"+k,b=RegExp([h+"?"+u+"+"+v+"(?="+[a,h,"$"].join("|")+")",p+"+"+y+"(?="+[a,h+d,"$"].join("|")+")",h+"?"+d+"+"+v,h+"+"+y,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",o,_].join("|"),"g");e.exports=function(e){return e.match(b)||[]}},567:function(e,t,n){var r=n(3131),i=n(7810)((function(e,t,n){return t=t.toLowerCase(),e+(n?r(t):t)}));e.exports=i},3131:function(e,t,n){var r=n(3518),i=n(2085);e.exports=function(e){return i(r(e).toLowerCase())}},4857:function(e,t,n){var r=n(5868),i=n(3518),a=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,o=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");e.exports=function(e){return(e=i(e))&&e.replace(a,r).replace(o,"")}},9231:function(e){e.exports=function(e,t){return e===t||e!==e&&t!==t}},6181:function(e,t,n){var r=n(8667);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},7805:function(e,t,n){var r=n(7852),i=n(6417);e.exports=function(e,t){return null!=e&&i(e,t,r)}},5658:function(e,t,n){var r=n(529),i=n(6417);e.exports=function(e,t){return null!=e&&i(e,t,r)}},2100:function(e){e.exports=function(e){return e}},4963:function(e,t,n){var r=n(4906),i=n(3141),a=Object.prototype,o=a.hasOwnProperty,s=a.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return i(e)&&o.call(e,"callee")&&!s.call(e,"callee")};e.exports=u},3629:function(e){var t=Array.isArray;e.exports=t},1473:function(e,t,n){var r=n(4786),i=n(4635);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},5174:function(e,t,n){e=n.nmd(e);var r=n(7009),i=n(9488),a=t&&!t.nodeType&&t,o=a&&e&&!e.nodeType&&e,s=o&&o.exports===a?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||i;e.exports=u},4786:function(e,t,n){var r=n(9066),i=n(8092);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},4635:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},8092:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},3141:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},152:function(e,t,n){var r=n(9066),i=n(3141);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},9102:function(e,t,n){var r=n(8150),i=n(6194),a=n(9494),o=a&&a.isTypedArray,s=o?i(o):r;e.exports=s},2742:function(e,t,n){var r=n(7538),i=n(3654),a=n(1473);e.exports=function(e){return a(e)?r(e):i(e)}},9029:function(e,t,n){var r=n(2526),i=n(5358),a=n(6025);e.exports=function(e,t){var n={};return t=a(t,3),i(e,(function(e,i,a){r(n,t(e,i,a),e)})),n}},7702:function(e,t,n){var r=n(2526),i=n(5358),a=n(6025);e.exports=function(e,t){var n={};return t=a(t,3),i(e,(function(e,i,a){r(n,i,t(e,i,a))})),n}},9151:function(e,t,n){var r=n(8059);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},38:function(e,t,n){var r=n(9586),i=n(4084),a=n(5823),o=n(9793);e.exports=function(e){return a(e)?r(o(e)):i(e)}},7499:function(e,t,n){var r=n(7810)((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));e.exports=r},8174:function(e){e.exports=function(){return[]}},9488:function(e){e.exports=function(){return!1}},3518:function(e,t,n){var r=n(2446);e.exports=function(e){return null==e?"":r(e)}},2085:function(e,t,n){var r=n(322)("toUpperCase");e.exports=r},5660:function(e,t,n){var r=n(240),i=n(7137),a=n(3518),o=n(1029);e.exports=function(e,t,n){return e=a(e),void 0===(t=n?void 0:t)?i(e)?o(e):r(e):e.match(t)||[]}},1725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,s,u=i(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(u[l]=o[l]);if(t){s=t(o);for(var f=0;f<s.length;f++)r.call(o,s[f])&&(u[s[f]]=o[s[f]])}}return u}},2758:function(e){"use strict";function t(e){this._maxSize=e,this.clear()}t.prototype.clear=function(){this._size=0,this._values=Object.create(null)},t.prototype.get=function(e){return this._values[e]},t.prototype.set=function(e,t){return this._size>=this._maxSize&&this.clear(),e in this._values||this._size++,this._values[e]=t};var n=/[^.^\]^[]+|(?=\[\]|\.\.)/g,r=/^\d+$/,i=/^\d/,a=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,o=/^\s*(['"]?)(.*?)(\1)\s*$/,s=new t(512),u=new t(512),c=new t(512);function l(e){return s.get(e)||s.set(e,f(e).map((function(e){return e.replace(o,"$2")})))}function f(e){return e.match(n)}function h(e){return"string"===typeof e&&e&&-1!==["'",'"'].indexOf(e.charAt(0))}function d(e){return!h(e)&&(function(e){return e.match(i)&&!e.match(r)}(e)||function(e){return a.test(e)}(e))}e.exports={Cache:t,split:f,normalizePath:l,setter:function(e){var t=l(e);return u.get(e)||u.set(e,(function(e,n){for(var r=0,i=t.length,a=e;r<i-1;){var o=t[r];if("__proto__"===o||"constructor"===o||"prototype"===o)return e;a=a[t[r++]]}a[t[r]]=n}))},getter:function(e,t){var n=l(e);return c.get(e)||c.set(e,(function(e){for(var r=0,i=n.length;r<i;){if(null==e&&t)return;e=e[n[r++]]}return e}))},join:function(e){return e.reduce((function(e,t){return e+(h(t)||r.test(t)?"["+t+"]":(e?".":"")+t)}),"")},forEach:function(e,t,n){!function(e,t,n){var r,i,a,o,s=e.length;for(i=0;i<s;i++)(r=e[i])&&(d(r)&&(r='"'+r+'"'),a=!(o=h(r))&&/^\d+$/.test(r),t.call(n,r,o,a,i,e))}(Array.isArray(e)?e:f(e),t,n)}}},4463:function(e,t,n){"use strict";var r=n(2791),i=n(1725),a=n(5296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function y(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new y(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new y(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new y(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new y(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new y(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new y(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new y(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new y(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new y(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}function _(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,k);m[t]=new y(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,k);m[t]=new y(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,k);m[t]=new y(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new y(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new y(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=60103,x=60106,E=60107,T=60108,C=60114,S=60109,I=60110,N=60112,A=60113,R=60120,O=60115,P=60116,D=60121,F=60128,L=60129,M=60130,j=60131;if("function"===typeof Symbol&&Symbol.for){var U=Symbol.for;w=U("react.element"),x=U("react.portal"),E=U("react.fragment"),T=U("react.strict_mode"),C=U("react.profiler"),S=U("react.provider"),I=U("react.context"),N=U("react.forward_ref"),A=U("react.suspense"),R=U("react.suspense_list"),O=U("react.memo"),P=U("react.lazy"),D=U("react.block"),U("react.scope"),F=U("react.opaque.id"),L=U("react.debug_trace_mode"),M=U("react.offscreen"),j=U("react.legacy_hidden")}var V,z="function"===typeof Symbol&&Symbol.iterator;function q(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=z&&e[z]||e["@@iterator"])?e:null}function B(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var W=!1;function H(e,t){if(!e||W)return"";W=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=s);break}}}finally{W=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function K(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=H(e.type,!1);case 11:return e=H(e.type.render,!1);case 22:return e=H(e.type._render,!1);case 1:return e=H(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case x:return"Portal";case C:return"Profiler";case T:return"StrictMode";case A:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case O:return G(e.type);case D:return G(e._render);case P:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function $(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=Q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=$(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&_(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=$(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,$(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+$(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:$(n)}}function ce(e,t){var n=$(t.value),r=$(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,ye,me=(ye=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ye(e,t)}))}:ye);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ke={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_e=["Webkit","ms","Moz","O"];function be(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ke.hasOwnProperty(e)&&ke[e]?(""+t).trim():t+"px"}function we(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=be(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ke).forEach((function(e){_e.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ke[t]=ke[e]}))}));var xe=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ee(e,t){if(t){if(xe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Te(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ce(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Ie=null,Ne=null;function Ae(e){if(e=ri(e)){if("function"!==typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=ai(t),Se(e.stateNode,e.type,t))}}function Re(e){Ie?Ne?Ne.push(e):Ne=[e]:Ie=e}function Oe(){if(Ie){var e=Ie,t=Ne;if(Ne=Ie=null,Ae(e),t)for(e=0;e<t.length;e++)Ae(t[e])}}function Pe(e,t){return e(t)}function De(e,t,n,r,i){return e(t,n,r,i)}function Fe(){}var Le=Pe,Me=!1,je=!1;function Ue(){null===Ie&&null===Ne||(Fe(),Oe())}function Ve(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var ze=!1;if(f)try{var qe={};Object.defineProperty(qe,"passive",{get:function(){ze=!0}}),window.addEventListener("test",qe,qe),window.removeEventListener("test",qe,qe)}catch(ye){ze=!1}function Be(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var We=!1,He=null,Ke=!1,Ge=null,$e={onError:function(e){We=!0,He=e}};function Qe(e,t,n,r,i,a,o,s,u){We=!1,He=null,Be.apply($e,arguments)}function Ye(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Xe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Je(e){if(Ye(e)!==e)throw Error(o(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ye(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Je(i),e;if(a===r)return Je(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],st=null,ut=null,ct=null,lt=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function yt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function mt(e){var t=ni(e.target);if(null!==t){var n=Ye(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Xe(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function kt(e,t,n){gt(e)&&n.delete(t)}function _t(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==st&&gt(st)&&(st=null),null!==ut&&gt(ut)&&(ut=null),null!==ct&&gt(ct)&&(ct=null),lt.forEach(kt),ft.forEach(kt)}function bt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,_t)))}function wt(e){function t(t){return bt(t,e)}if(0<ot.length){bt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&bt(st,e),null!==ut&&bt(ut,e),null!==ct&&bt(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)mt(n),null===n.blockedOn&&ht.shift()}function xt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Et={animationend:xt("Animation","AnimationEnd"),animationiteration:xt("Animation","AnimationIteration"),animationstart:xt("Animation","AnimationStart"),transitionend:xt("Transition","TransitionEnd")},Tt={},Ct={};function St(e){if(Tt[e])return Tt[e];if(!Et[e])return e;var t,n=Et[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ct)return Tt[e]=n[t];return e}f&&(Ct=document.createElement("div").style,"AnimationEvent"in window||(delete Et.animationend.animation,delete Et.animationiteration.animation,delete Et.animationstart.animation),"TransitionEvent"in window||delete Et.transitionend.transition);var It=St("animationend"),Nt=St("animationiteration"),At=St("animationstart"),Rt=St("transitionend"),Ot=new Map,Pt=new Map,Dt=["abort","abort",It,"animationEnd",Nt,"animationIteration",At,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Rt,"transitionEnd","waiting","waiting"];function Ft(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Pt.set(r,t),Ot.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Lt=8;function Mt(e){if(0!==(1&e))return Lt=15,1;if(0!==(2&e))return Lt=14,2;if(0!==(4&e))return Lt=13,4;var t=24&e;return 0!==t?(Lt=12,t):0!==(32&e)?(Lt=11,32):0!==(t=192&e)?(Lt=10,t):0!==(256&e)?(Lt=9,256):0!==(t=3584&e)?(Lt=8,t):0!==(4096&e)?(Lt=7,4096):0!==(t=4186112&e)?(Lt=6,t):0!==(t=62914560&e)?(Lt=5,t):67108864&e?(Lt=4,67108864):0!==(134217728&e)?(Lt=3,134217728):0!==(t=805306368&e)?(Lt=2,t):0!==(1073741824&e)?(Lt=1,1073741824):(Lt=8,e)}function jt(e,t){var n=e.pendingLanes;if(0===n)return Lt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,s=e.pingedLanes;if(0!==a)r=a,i=Lt=15;else if(0!==(a=134217727&n)){var u=a&~o;0!==u?(r=Mt(u),i=Lt):0!==(s&=a)&&(r=Mt(s),i=Lt)}else 0!==(a=n&~o)?(r=Mt(a),i=Lt):0!==s&&(r=Mt(s),i=Lt);if(0===r)return 0;if(r=n&((0>(r=31-Wt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Mt(t),i<=Lt)return t;Lt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Wt(t)),r|=e[n],t&=~i;return r}function Ut(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Vt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=zt(24&~t))?Vt(10,t):e;case 10:return 0===(e=zt(192&~t))?Vt(8,t):e;case 8:return 0===(e=zt(3584&~t))&&(0===(e=zt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=zt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function zt(e){return e&-e}function qt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Bt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Wt(t)]=n}var Wt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Ht(e)/Kt|0)|0},Ht=Math.log,Kt=Math.LN2;var Gt=a.unstable_UserBlockingPriority,$t=a.unstable_runWithPriority,Qt=!0;function Yt(e,t,n,r){Me||Fe();var i=Jt,a=Me;Me=!0;try{De(i,e,t,n,r)}finally{(Me=a)||Ue()}}function Xt(e,t,n,r){$t(Gt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var i;if(Qt)if((i=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=Zt(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=yt(st,e,t,n,r,i),!0;case"dragenter":return ut=yt(ut,e,t,n,r,i),!0;case"mouseover":return ct=yt(ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,yt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ft.set(a,yt(ft.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}Fr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=Ce(r);if(null!==(i=ni(i))){var a=Ye(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Xe(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Fr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function sn(){return!1}function un(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=un(hn),pn=i({},hn,{view:0,detail:0}),vn=un(pn),yn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),mn=un(yn),gn=un(i({},yn,{dataTransfer:0})),kn=un(i({},pn,{relatedTarget:0})),_n=un(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=un(bn),xn=un(i({},hn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Cn[e])&&!!t[e]}function In(){return Sn}var Nn=i({},pn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Tn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),An=un(Nn),Rn=un(i({},yn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),On=un(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),Pn=un(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=i({},yn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Fn=un(Dn),Ln=[9,13,27,32],Mn=f&&"CompositionEvent"in window,jn=null;f&&"documentMode"in document&&(jn=document.documentMode);var Un=f&&"TextEvent"in window&&!jn,Vn=f&&(!Mn||jn&&8<jn&&11>=jn),zn=String.fromCharCode(32),qn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Kn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Kn[e.type]:"textarea"===t}function $n(e,t,n,r){Re(r),0<(t=Mr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Qn=null,Yn=null;function Xn(e){Nr(e,0)}function Jn(e){if(X(ii(e)))return e}function Zn(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Qn&&(Qn.detachEvent("onpropertychange",ar),Yn=Qn=null)}function ar(e){if("value"===e.propertyName&&Jn(Yn)){var t=[];if($n(t,Yn,e,Ce(e)),e=Xn,Me)e(t);else{Me=!0;try{Pe(e,t)}finally{Me=!1,Ue()}}}}function or(e,t,n){"focusin"===e?(ir(),Yn=n,(Qn=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Yn)}function ur(e,t){if("click"===e)return Jn(t)}function cr(e,t){if("input"===e||"change"===e)return Jn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function hr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function yr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=f&&"documentMode"in document&&11>=document.documentMode,kr=null,_r=null,br=null,wr=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==kr||kr!==J(r)||("selectionStart"in(r=kr)&&mr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&hr(br,r)||(br=r,0<(r=Mr(_r,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kr)))}Ft("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Ft("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Ft(Dt,2);for(var Er="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Tr=0;Tr<Er.length;Tr++)Pt.set(Er[Tr],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cr));function Ir(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,c){if(Qe.apply(this,arguments),We){if(!We)throw Error(o(198));var l=He;We=!1,He=null,Ke||(Ke=!0,Ge=l)}}(r,t,void 0,e),e.currentTarget=null}function Nr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Ir(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Ir(i,s,c),a=u}}}if(Ke)throw e=Ge,Ke=!1,Ge=null,e}function Ar(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Dr(t,e,2,!1),n.add(r))}var Rr="_reactListening"+Math.random().toString(36).slice(2);function Or(e){e[Rr]||(e[Rr]=!0,s.forEach((function(t){Sr.has(t)||Pr(t,!1,e,null),Pr(t,!0,e,null)})))}function Pr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Sr.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=oi(a),s=e+"__"+(t?"capture":"bubble");o.has(s)||(t&&(i|=4),Dr(a,e,i,t),o.add(s))}function Dr(e,t,n,r){var i=Pt.get(t);switch(void 0===i?2:i){case 0:i=Yt;break;case 1:i=Xt;break;default:i=Jt}n=i.bind(null,t,n,e),i=void 0,!ze||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Fr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=ni(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(je)return e(t,n);je=!0;try{Le(e,t,n)}finally{je=!1,Ue()}}((function(){var r=a,i=Ce(n),o=[];e:{var s=Ot.get(e);if(void 0!==s){var u=dn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":u=An;break;case"focusin":c="focus",u=kn;break;case"focusout":c="blur",u=kn;break;case"beforeblur":case"afterblur":u=kn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=On;break;case It:case Nt:case At:u=_n;break;case Rt:u=Pn;break;case"scroll":u=vn;break;case"wheel":u=Fn;break;case"copy":case"cut":case"paste":u=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Rn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ve(p,h))&&l.push(Lr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(f=Ye(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=mn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Rn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:ii(u),d=null==c?s:ii(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,ni(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=jr(d))p++;for(d=0,v=h;v;v=jr(v))d++;for(;0<p-d;)l=jr(l),p--;for(;0<d-p;)h=jr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=jr(l),h=jr(h)}l=null}else l=null;null!==u&&Ur(o,s,u,l,!1),null!==c&&null!==f&&Ur(o,f,c,l,!0)}if("select"===(u=(s=r?ii(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var y=Zn;else if(Gn(s))if(er)y=cr;else{y=sr;var m=or}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(y=ur);switch(y&&(y=y(e,r))?$n(o,y,n,i):(m&&m(e,s,r),"focusout"===e&&(m=s._wrapperState)&&m.controlled&&"number"===s.type&&ie(s,"number",s.value)),m=r?ii(r):window,e){case"focusin":(Gn(m)||"true"===m.contentEditable)&&(kr=m,_r=r,br=null);break;case"focusout":br=_r=kr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,xr(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":xr(o,n,i)}var g;if(Mn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Hn?Bn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Vn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Hn&&(g=rn()):(tn="value"in(en=i)?en.value:en.textContent,Hn=!0)),0<(m=Mr(r,k)).length&&(k=new xn(k,e,null,n,i),o.push({event:k,listeners:m}),g?k.data=g:null!==(g=Wn(n))&&(k.data=g))),(g=Un?function(e,t){switch(e){case"compositionend":return Wn(t);case"keypress":return 32!==t.which?null:(qn=!0,zn);case"textInput":return(e=t.data)===zn&&qn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!Mn&&Bn(e,t)?(e=rn(),nn=tn=en=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Mr(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Nr(o,t)}))}function Lr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Mr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ve(e,n))&&r.unshift(Lr(e,a,i)),null!=(a=Ve(e,t))&&r.push(Lr(e,a,i))),e=e.return}return r}function jr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ur(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Ve(n,a))&&o.unshift(Lr(n,u,s)):i||null!=(u=Ve(n,a))&&o.push(Lr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Vr(){}var zr=null,qr=null;function Br(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Wr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Hr="function"===typeof setTimeout?setTimeout:void 0,Kr="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function $r(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Qr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Yr=0;var Xr=Math.random().toString(36).slice(2),Jr="__reactFiber$"+Xr,Zr="__reactProps$"+Xr,ei="__reactContainer$"+Xr,ti="__reactEvents$"+Xr;function ni(e){var t=e[Jr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Jr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Qr(e);null!==e;){if(n=e[Jr])return n;e=Qr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Jr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ai(e){return e[Zr]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var si=[],ui=-1;function ci(e){return{current:e}}function li(e){0>ui||(e.current=si[ui],si[ui]=null,ui--)}function fi(e,t){ui++,si[ui]=e.current,e.current=t}var hi={},di=ci(hi),pi=ci(!1),vi=hi;function yi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function mi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gi(){li(pi),li(di)}function ki(e,t,n){if(di.current!==hi)throw Error(o(168));fi(di,t),fi(pi,n)}function _i(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,G(t)||"Unknown",a));return i({},n,r)}function bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,vi=di.current,fi(di,e),fi(pi,pi.current),!0}function wi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=_i(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),fi(di,e)):li(pi),fi(pi,n)}var xi=null,Ei=null,Ti=a.unstable_runWithPriority,Ci=a.unstable_scheduleCallback,Si=a.unstable_cancelCallback,Ii=a.unstable_shouldYield,Ni=a.unstable_requestPaint,Ai=a.unstable_now,Ri=a.unstable_getCurrentPriorityLevel,Oi=a.unstable_ImmediatePriority,Pi=a.unstable_UserBlockingPriority,Di=a.unstable_NormalPriority,Fi=a.unstable_LowPriority,Li=a.unstable_IdlePriority,Mi={},ji=void 0!==Ni?Ni:function(){},Ui=null,Vi=null,zi=!1,qi=Ai(),Bi=1e4>qi?Ai:function(){return Ai()-qi};function Wi(){switch(Ri()){case Oi:return 99;case Pi:return 98;case Di:return 97;case Fi:return 96;case Li:return 95;default:throw Error(o(332))}}function Hi(e){switch(e){case 99:return Oi;case 98:return Pi;case 97:return Di;case 96:return Fi;case 95:return Li;default:throw Error(o(332))}}function Ki(e,t){return e=Hi(e),Ti(e,t)}function Gi(e,t,n){return e=Hi(e),Ci(e,t,n)}function $i(){if(null!==Vi){var e=Vi;Vi=null,Si(e)}Qi()}function Qi(){if(!zi&&null!==Ui){zi=!0;var e=0;try{var t=Ui;Ki(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ui=null}catch(n){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ci(Oi,$i),n}finally{zi=!1}}}var Yi=b.ReactCurrentBatchConfig;function Xi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ji=ci(null),Zi=null,ea=null,ta=null;function na(){ta=ea=Zi=null}function ra(e){var t=Ji.current;li(Ji),e.type._context._currentValue=t}function ia(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){Zi=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Mo=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===Zi)throw Error(o(308));ea=t,Zi.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var sa=!1;function ua(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ha(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var a=e.updateQueue;sa=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,u=a.shared.pending;if(null!==u){a.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?o=l:s.next=l,s=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==s&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(h=a.baseState,s=0,f=l=c=null;;){u=o.lane;var d=o.eventTime;if((r&u)===u){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(u=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,u);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(u="function"===typeof(p=v.payload)?p.call(d,h,u):p)||void 0===u)break e;h=i({},h,u);break e;case 2:sa=!0}}null!==o.callback&&(e.flags|=32,null===(u=a.effects)?a.effects=[o]:u.push(o))}else d={eventTime:d,lane:u,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,s|=u;if(null===(o=o.next)){if(null===(u=a.shared.pending))break;o=u.next,u.next=null,a.lastBaseUpdate=u,a.shared.pending=null}}null===f&&(c=h),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,zs|=s,e.lanes=s,e.memoizedState=h}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var va=(new r.Component).refs;function ya(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ma={isMounted:function(e){return!!(e=e._reactInternals)&&Ye(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),a=la(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),pu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),a=la(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),pu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hu(),r=du(e),i=la(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fa(e,i),pu(e,r,n)}};function ga(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,a))}function ka(e,t,n){var r=!1,i=hi,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(i=mi(t)?vi:di.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?yi(e,i):hi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ma,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function _a(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ma.enqueueReplaceState(t,t.state,null)}function ba(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=va,ua(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=oa(a):(a=mi(t)?vi:di.current,i.context=yi(e,a)),da(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ya(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ma.enqueueReplaceState(i,i.state,null),da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var wa=Array.isArray;function xa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===va&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ea(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Ta(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ku(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Yu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=xa(e,t,n),r.return=e,r):((r=Gu(n.type,n.key,n.props,null,e.mode,r)).ref=xa(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Xu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=$u(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Yu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Gu(t.type,t.key,t.props,null,e.mode,n)).ref=xa(e,null,t),n.return=e,n;case x:return(t=Xu(t,e.mode,n)).return=e,t}if(wa(t)||q(t))return(t=$u(t,e.mode,n,null)).return=e,t;Ea(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?n.type===E?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null}if(wa(n)||q(n))return null!==i?null:f(e,t,n,r,null);Ea(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return e=e.get(null===r.key?n:r.key)||null,r.type===E?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(wa(r)||q(r))return f(t,e=e.get(n)||null,r,i,null);Ea(t,r)}return null}function v(i,o,s,u){for(var c=null,l=null,f=o,v=o=0,y=null;null!==f&&v<s.length;v++){f.index>v?(y=f,f=null):y=f.sibling;var m=d(i,f,s[v],u);if(null===m){null===f&&(f=y);break}e&&f&&null===m.alternate&&t(i,f),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m,f=y}if(v===s.length)return n(i,f),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<s.length;v++)null!==(y=p(f,i,v,s[v],u))&&(e&&null!==y.alternate&&f.delete(null===y.key?v:y.key),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y);return e&&f.forEach((function(e){return t(i,e)})),c}function y(i,s,u,c){var l=q(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var f=l=null,v=s,y=s=0,m=null,g=u.next();null!==v&&!g.done;y++,g=u.next()){v.index>y?(m=v,v=null):m=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=m);break}e&&v&&null===k.alternate&&t(i,v),s=a(k,s,y),null===f?l=k:f.sibling=k,f=k,v=m}if(g.done)return n(i,v),l;if(null===v){for(;!g.done;y++,g=u.next())null!==(g=h(i,g.value,c))&&(s=a(g,s,y),null===f?l=g:f.sibling=g,f=g);return l}for(v=r(i,v);!g.done;y++,g=u.next())null!==(g=p(v,i,y,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?y:g.key),s=a(g,s,y),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,u){var c="object"===typeof a&&null!==a&&a.type===E&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case w:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===E){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=xa(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===E?((r=$u(a.props.children,e.mode,u,a.key)).return=e,e=r):((u=Gu(a.type,a.key,a.props,null,e.mode,u)).ref=xa(e,r,a),u.return=e,e=u)}return s(e);case x:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Xu(a,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Yu(a,e.mode,u)).return=e,e=r),s(e);if(wa(a))return v(e,r,a,u);if(q(a))return y(e,r,a,u);if(l&&Ea(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,G(e.type)||"Component"))}return n(e,r)}}var Ca=Ta(!0),Sa=Ta(!1),Ia={},Na=ci(Ia),Aa=ci(Ia),Ra=ci(Ia);function Oa(e){if(e===Ia)throw Error(o(174));return e}function Pa(e,t){switch(fi(Ra,t),fi(Aa,e),fi(Na,Ia),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Na),fi(Na,t)}function Da(){li(Na),li(Aa),li(Ra)}function Fa(e){Oa(Ra.current);var t=Oa(Na.current),n=pe(t,e.type);t!==n&&(fi(Aa,e),fi(Na,n))}function La(e){Aa.current===e&&(li(Na),li(Aa))}var Ma=ci(0);function ja(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ua=null,Va=null,za=!1;function qa(e,t){var n=Wu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ba(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Wa(e){if(za){var t=Va;if(t){var n=t;if(!Ba(e,t)){if(!(t=$r(n.nextSibling))||!Ba(e,t))return e.flags=-1025&e.flags|2,za=!1,void(Ua=e);qa(Ua,n)}Ua=e,Va=$r(t.firstChild)}else e.flags=-1025&e.flags|2,za=!1,Ua=e}}function Ha(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ua=e}function Ka(e){if(e!==Ua)return!1;if(!za)return Ha(e),za=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Wr(t,e.memoizedProps))for(t=Va;t;)qa(e,t),t=$r(t.nextSibling);if(Ha(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Va=$r(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Va=null}}else Va=Ua?$r(e.stateNode.nextSibling):null;return!0}function Ga(){Va=Ua=null,za=!1}var $a=[];function Qa(){for(var e=0;e<$a.length;e++)$a[e]._workInProgressVersionPrimary=null;$a.length=0}var Ya=b.ReactCurrentDispatcher,Xa=b.ReactCurrentBatchConfig,Ja=0,Za=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,a){if(Ja=a,Za=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ya.current=null===e||null===e.memoizedState?Po:Do,e=n(r,i),ro){a=0;do{if(ro=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,Ya.current=Fo,e=n(r,i)}while(ro)}if(Ya.current=Oo,t=null!==eo&&null!==eo.next,Ja=0,to=eo=Za=null,no=!1,t)throw Error(o(300));return e}function so(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Za.memoizedState=to=e:to=to.next=e,to}function uo(){if(null===eo){var e=Za.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?Za.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?Za.memoizedState=to=e:to=to.next=e}return to}function co(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=a=null,c=i;do{var l=c.lane;if((Ja&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=f,a=r):u=u.next=f,Za.lanes|=l,zs|=l}c=c.next}while(null!==c&&c!==i);null===u?a=r:u.next=s,lr(r,t.memoizedState)||(Mo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fo(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);lr(a,t.memoizedState)||(Mo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Ja&e)===e)&&(t._workInProgressVersionPrimary=r,$a.push(t))),e)return n(t._source);throw $a.push(t),Error(o(350))}function po(e,t,n,r){var i=Ps;if(null===i)throw Error(o(349));var a=t._getVersion,s=a(t._source),u=Ya.current,c=u.useState((function(){return ho(i,t,n)})),l=c[1],f=c[0];c=to;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var y=Za;return e.memoizedState={refs:d,source:t,subscribe:r},u.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!lr(s,e)){e=n(t._source),lr(f,e)||(l(e),e=du(y),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var u=31-Wt(o),c=1<<u;r[u]|=e,o&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=du(y);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:f}).dispatch=l=Ro.bind(null,Za,e),c.queue=e,c.baseQueue=null,f=ho(i,t,n),c.memoizedState=c.baseState=f),f}function vo(e,t,n){return po(uo(),e,t,n)}function yo(e){var t=so();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=Ro.bind(null,Za,e),[t.memoizedState,e]}function mo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Za.updateQueue)?(t={lastEffect:null},Za.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function go(e){return e={current:e},so().memoizedState=e}function ko(){return uo().memoizedState}function _o(e,t,n,r){var i=so();Za.flags|=e,i.memoizedState=mo(1|t,n,void 0,void 0===r?null:r)}function bo(e,t,n,r){var i=uo();r=void 0===r?null:r;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==r&&ao(r,o.deps))return void mo(t,n,a,r)}Za.flags|=e,i.memoizedState=mo(1|t,n,a,r)}function wo(e,t){return _o(516,4,e,t)}function xo(e,t){return bo(516,4,e,t)}function Eo(e,t){return bo(4,2,e,t)}function To(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Co(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,To.bind(null,t,e),n)}function So(){}function Io(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function No(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ao(e,t){var n=Wi();Ki(98>n?98:n,(function(){e(!0)})),Ki(97<n?97:n,(function(){var n=Xa.transition;Xa.transition=1;try{e(!1),t()}finally{Xa.transition=n}}))}function Ro(e,t,n){var r=hu(),i=du(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Za||null!==o&&o===Za)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=o(s,n);if(a.eagerReducer=o,a.eagerState=u,lr(u,s))return}catch(c){}pu(e,i,r)}}var Oo={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Po={readContext:oa,useCallback:function(e,t){return so().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:wo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,_o(4,2,To.bind(null,t,e),n)},useLayoutEffect:function(e,t){return _o(4,2,e,t)},useMemo:function(e,t){var n=so();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=so();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ro.bind(null,Za,e),[r.memoizedState,e]},useRef:go,useState:yo,useDebugValue:So,useDeferredValue:function(e){var t=yo(e),n=t[0],r=t[1];return wo((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=yo(!1),t=e[0];return go(e=Ao.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=so();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(za){var e=!1,t=function(e){return{$$typeof:F,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Yr++).toString(36))),Error(o(355))})),n=yo(t)[1];return 0===(2&Za.mode)&&(Za.flags|=516,mo(5,(function(){n("r:"+(Yr++).toString(36))}),void 0,null)),t}return yo(t="r:"+(Yr++).toString(36)),t},unstable_isNewReconciler:!1},Do={readContext:oa,useCallback:Io,useContext:oa,useEffect:xo,useImperativeHandle:Co,useLayoutEffect:Eo,useMemo:No,useReducer:lo,useRef:ko,useState:function(){return lo(co)},useDebugValue:So,useDeferredValue:function(e){var t=lo(co),n=t[0],r=t[1];return xo((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=lo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return lo(co)[0]},unstable_isNewReconciler:!1},Fo={readContext:oa,useCallback:Io,useContext:oa,useEffect:xo,useImperativeHandle:Co,useLayoutEffect:Eo,useMemo:No,useReducer:fo,useRef:ko,useState:function(){return fo(co)},useDebugValue:So,useDeferredValue:function(e){var t=fo(co),n=t[0],r=t[1];return xo((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=fo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return fo(co)[0]},unstable_isNewReconciler:!1},Lo=b.ReactCurrentOwner,Mo=!1;function jo(e,t,n,r){t.child=null===e?Sa(t,null,n,r):Ca(t,e.child,n,r)}function Uo(e,t,n,r,i){n=n.render;var a=t.ref;return aa(t,i),r=oo(e,t,n,r,a,i),null===e||Mo?(t.flags|=1,jo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Vo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Hu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gu(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,zo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?as(e,t,a):(t.flags|=1,(e=Ku(o,r)).ref=t.ref,e.return=t,t.child=e)}function zo(e,t,n,r,i,a){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(Mo=!1,0===(a&i))return t.lanes=e.lanes,as(e,t,a);0!==(16384&e.flags)&&(Mo=!0)}return Wo(e,t,n,r,a)}function qo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},wu(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},wu(t,e),null;t.memoizedState={baseLanes:0},wu(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,wu(t,r);return jo(e,t,i,n),t.child}function Bo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Wo(e,t,n,r,i){var a=mi(n)?vi:di.current;return a=yi(t,a),aa(t,i),n=oo(e,t,n,r,a,i),null===e||Mo?(t.flags|=1,jo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Ho(e,t,n,r,i){if(mi(n)){var a=!0;bi(t)}else a=!1;if(aa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ka(t,n,r),ba(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=oa(c):c=yi(t,c=mi(n)?vi:di.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&_a(t,o,r,c),sa=!1;var h=t.memoizedState;o.state=h,da(t,r,o,i),u=t.memoizedState,s!==r||h!==u||pi.current||sa?("function"===typeof l&&(ya(t,n,l,r),u=t.memoizedState),(s=sa||ga(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ca(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Xi(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=oa(u):u=yi(t,u=mi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&_a(t,o,r,u),sa=!1,h=t.memoizedState,o.state=h,da(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||pi.current||sa?("function"===typeof d&&(ya(t,n,d,r),p=t.memoizedState),(c=sa||ga(t,n,c,r,h,p,u))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Ko(e,t,n,r,a,i)}function Ko(e,t,n,r,i,a){Bo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&wi(t,n,!1),as(e,t,a);r=t.stateNode,Lo.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ca(t,e.child,null,a),t.child=Ca(t,null,s,a)):jo(e,t,s,a),t.memoizedState=r.state,i&&wi(t,n,!0),t.child}function Go(e){var t=e.stateNode;t.pendingContext?ki(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ki(0,t.context,!1),Pa(e,t.containerInfo)}var $o,Qo,Yo,Xo={dehydrated:null,retryLane:0};function Jo(e,t,n){var r,i=t.pendingProps,a=Ma.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),fi(Ma,1&a),null===e?(void 0!==i.fallback&&Wa(t),e=i.children,a=i.fallback,o?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xo,e):"number"===typeof i.unstable_expectedLoadTime?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xo,t.lanes=33554432,e):((n=Qu({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=ts(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Xo,i):(n=es(e,t,i.children,n),t.memoizedState=null,n))}function Zo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Qu(t,i,0,null),n=$u(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function es(e,t,n,r){var i=e.child;return e=i.sibling,n=Ku(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ts(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var s={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=s,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Ku(o,s),null!==e?r=Ku(e,r):(r=$u(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ns(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ia(e.return,t)}function rs(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function is(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(jo(e,t,r.children,n),0!==(2&(r=Ma.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(Ma,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ja(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rs(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ja(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rs(t,!0,n,null,a,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function as(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),zs|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ku(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ku(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function os(e,t){if(!za)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ss(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return mi(t.type)&&gi(),null;case 3:return Da(),li(pi),li(di),Qa(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ka(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:La(t);var a=Oa(Ra.current);if(n=t.type,null!==e&&null!=t.stateNode)Qo(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Oa(Na.current),Ka(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Jr]=t,r[Zr]=s,n){case"dialog":Ar("cancel",r),Ar("close",r);break;case"iframe":case"object":case"embed":Ar("load",r);break;case"video":case"audio":for(e=0;e<Cr.length;e++)Ar(Cr[e],r);break;case"source":Ar("error",r);break;case"img":case"image":case"link":Ar("error",r),Ar("load",r);break;case"details":Ar("toggle",r);break;case"input":ee(r,s),Ar("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ar("invalid",r);break;case"textarea":ue(r,s),Ar("invalid",r)}for(var c in Ee(n,s),e=null,s)s.hasOwnProperty(c)&&(a=s[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):u.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Ar("scroll",r));switch(n){case"input":Y(r),re(r,s,!0);break;case"textarea":Y(r),le(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Vr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Jr]=t,e[Zr]=r,$o(e,t),t.stateNode=e,c=Te(n,r),n){case"dialog":Ar("cancel",e),Ar("close",e),a=r;break;case"iframe":case"object":case"embed":Ar("load",e),a=r;break;case"video":case"audio":for(a=0;a<Cr.length;a++)Ar(Cr[a],e);a=r;break;case"source":Ar("error",e),a=r;break;case"img":case"image":case"link":Ar("error",e),Ar("load",e),a=r;break;case"details":Ar("toggle",e),a=r;break;case"input":ee(e,r),a=Z(e,r),Ar("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Ar("invalid",e);break;case"textarea":ue(e,r),a=se(e,r),Ar("invalid",e);break;default:a=r}Ee(n,a);var l=a;for(s in l)if(l.hasOwnProperty(s)){var f=l[s];"style"===s?we(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&me(e,f):"children"===s?"string"===typeof f?("textarea"!==n||""!==f)&&ge(e,f):"number"===typeof f&&ge(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=f&&"onScroll"===s&&Ar("scroll",e):null!=f&&_(e,s,f,c))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+$(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?oe(e,!!r.multiple,s,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Vr)}Br(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Yo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Oa(Ra.current),Oa(Na.current),Ka(t)?(r=t.stateNode,n=t.memoizedProps,r[Jr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Jr]=t,t.stateNode=r)}return null;case 13:return li(Ma),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ka(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Ma.current)?0===js&&(js=3):(0!==js&&3!==js||(js=4),null===Ps||0===(134217727&zs)&&0===(134217727&qs)||gu(Ps,Fs))),(r||n)&&(t.flags|=4),null);case 4:return Da(),null===e&&Or(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(li(Ma),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(c=r.rendering))if(s)os(r,!1);else{if(0!==js||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=ja(e))){for(t.flags|=64,os(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(Ma,1&Ma.current|2),t.child}e=e.sibling}null!==r.tail&&Bi()>Ks&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=ja(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),os(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!za)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Bi()-r.renderingStartTime>Ks&&1073741824!==n&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Bi(),n.sibling=null,t=Ma.current,fi(Ma,s?1&t|2:1&t),n):null;case 23:case 24:return xu(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function us(e){switch(e.tag){case 1:mi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Da(),li(pi),li(di),Qa(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return La(e),null;case 13:return li(Ma),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Ma),null;case 4:return Da(),null;case 10:return ra(e),null;case 23:case 24:return xu(),null;default:return null}}function cs(e,t){try{var n="",r=t;do{n+=K(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function ls(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}$o=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Qo=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Oa(Na.current);var o,s=null;switch(n){case"input":a=Z(e,a),r=Z(e,r),s=[];break;case"option":a=ae(e,a),r=ae(e,r),s=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":a=se(e,a),r=se(e,r),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Vr)}for(f in Ee(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(u.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(u.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Ar("scroll",e),s||c===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===F?l.toString():(s=s||[]).push(f,l))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}},Yo=function(e,t,n,r){n!==r&&(t.flags|=4)};var fs="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=la(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ys||(Ys=!0,Xs=r),ls(0,t)},n}function ds(e,t,n){(n=la(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ls(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Js?Js=new Set([this]):Js.add(this),ls(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ps="function"===typeof WeakSet?WeakSet:Set;function vs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Vu(e,n)}else t.current=null}function ys(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Xi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gr(t.stateNode.containerInfo))}throw Error(o(163))}function ms(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Mu(n,e),Lu(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Xi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Br(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&wt(n)))))}throw Error(o(163))}function gs(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=be("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ks(e,t){if(Ei&&"function"===typeof Ei.onCommitFiberUnmount)try{Ei.onCommitFiberUnmount(xi,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Mu(t,n);else{r=t;try{i()}catch(a){Vu(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vs(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Vu(t,a)}break;case 5:vs(t);break;case 4:Ts(e,t)}}function _s(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function bs(e){return 5===e.tag||3===e.tag||4===e.tag}function ws(e){e:{for(var t=e.return;null!==t;){if(bs(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||bs(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?xs(e,n,t):Es(e,n,t)}function xs(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Vr));else if(4!==r&&null!==(e=e.child))for(xs(e,t,n),e=e.sibling;null!==e;)xs(e,t,n),e=e.sibling}function Es(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Es(e,t,n),e=e.sibling;null!==e;)Es(e,t,n),e=e.sibling}function Ts(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,c=u;;)if(ks(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ks(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Cs(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Zr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Te(e,i),t=Te(e,r),i=0;i<a.length;i+=2){var s=a[i],u=a[i+1];"style"===s?we(n,u):"dangerouslySetInnerHTML"===s?me(n,u):"children"===s?ge(n,u):_(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,wt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Hs=Bi(),gs(t.child,!0)),void Ss(t);case 19:return void Ss(t);case 23:case 24:return void gs(t,null!==t.memoizedState)}throw Error(o(163))}function Ss(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ps),t.forEach((function(t){var r=qu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Is(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Ns=Math.ceil,As=b.ReactCurrentDispatcher,Rs=b.ReactCurrentOwner,Os=0,Ps=null,Ds=null,Fs=0,Ls=0,Ms=ci(0),js=0,Us=null,Vs=0,zs=0,qs=0,Bs=0,Ws=null,Hs=0,Ks=1/0;function Gs(){Ks=Bi()+500}var $s,Qs=null,Ys=!1,Xs=null,Js=null,Zs=!1,eu=null,tu=90,nu=[],ru=[],iu=null,au=0,ou=null,su=-1,uu=0,cu=0,lu=null,fu=!1;function hu(){return 0!==(48&Os)?Bi():-1!==su?su:su=Bi()}function du(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Wi()?1:2;if(0===uu&&(uu=Vs),0!==Yi.transition){0!==cu&&(cu=null!==Ws?Ws.pendingLanes:0),e=uu;var t=4186112&~cu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Wi(),0!==(4&Os)&&98===e?e=Vt(12,uu):e=Vt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),uu),e}function pu(e,t,n){if(50<au)throw au=0,ou=null,Error(o(185));if(null===(e=vu(e,t)))return null;Bt(e,t,n),e===Ps&&(qs|=t,4===js&&gu(e,Fs));var r=Wi();1===t?0!==(8&Os)&&0===(48&Os)?ku(e):(yu(e,n),0===Os&&(Gs(),$i())):(0===(4&Os)||98!==r&&99!==r||(null===iu?iu=new Set([e]):iu.add(e)),yu(e,n)),Ws=e}function vu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function yu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-Wt(s),c=1<<u,l=a[u];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Mt(c);var f=Lt;a[u]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);s&=~c}if(r=jt(e,e===Ps?Fs:0),t=Lt,0===r)null!==n&&(n!==Mi&&Si(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Mi&&Si(n)}15===t?(n=ku.bind(null,e),null===Ui?(Ui=[n],Vi=Ci(Oi,Qi)):Ui.push(n),n=Mi):14===t?n=Gi(99,ku.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Gi(n,mu.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function mu(e){if(su=-1,cu=uu=0,0!==(48&Os))throw Error(o(327));var t=e.callbackNode;if(Fu()&&e.callbackNode!==t)return null;var n=jt(e,e===Ps?Fs:0);if(0===n)return null;var r=n,i=Os;Os|=16;var a=Cu();for(Ps===e&&Fs===r||(Gs(),Eu(e,r));;)try{Nu();break}catch(u){Tu(e,u)}if(na(),As.current=a,Os=i,null!==Ds?r=0:(Ps=null,Fs=0,r=js),0!==(Vs&qs))Eu(e,0);else if(0!==r){if(2===r&&(Os|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(n=Ut(e))&&(r=Su(e,n))),1===r)throw t=Us,Eu(e,0),gu(e,n),yu(e,Bi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Ou(e);break;case 3:if(gu(e,n),(62914560&n)===n&&10<(r=Hs+500-Bi())){if(0!==jt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Hr(Ou.bind(null,e),r);break}Ou(e);break;case 4:if(gu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Wt(n);a=1<<s,(s=r[s])>i&&(i=s),n&=~a}if(n=i,10<(n=(120>(n=Bi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ns(n/1960))-n)){e.timeoutHandle=Hr(Ou.bind(null,e),n);break}Ou(e);break;default:throw Error(o(329))}}return yu(e,Bi()),e.callbackNode===t?mu.bind(null,e):null}function gu(e,t){for(t&=~Bs,t&=~qs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Wt(t),r=1<<n;e[n]=-1,t&=~r}}function ku(e){if(0!==(48&Os))throw Error(o(327));if(Fu(),e===Ps&&0!==(e.expiredLanes&Fs)){var t=Fs,n=Su(e,t);0!==(Vs&qs)&&(n=Su(e,t=jt(e,t)))}else n=Su(e,t=jt(e,0));if(0!==e.tag&&2===n&&(Os|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(t=Ut(e))&&(n=Su(e,t))),1===n)throw n=Us,Eu(e,0),gu(e,t),yu(e,Bi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ou(e),yu(e,Bi()),null}function _u(e,t){var n=Os;Os|=1;try{return e(t)}finally{0===(Os=n)&&(Gs(),$i())}}function bu(e,t){var n=Os;Os&=-2,Os|=8;try{return e(t)}finally{0===(Os=n)&&(Gs(),$i())}}function wu(e,t){fi(Ms,Ls),Ls|=t,Vs|=t}function xu(){Ls=Ms.current,li(Ms)}function Eu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Kr(n)),null!==Ds)for(n=Ds.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gi();break;case 3:Da(),li(pi),li(di),Qa();break;case 5:La(r);break;case 4:Da();break;case 13:case 19:li(Ma);break;case 10:ra(r);break;case 23:case 24:xu()}n=n.return}Ps=e,Ds=Ku(e.current,null),Fs=Ls=Vs=t,js=0,Us=null,Bs=qs=zs=0}function Tu(e,t){for(;;){var n=Ds;try{if(na(),Ya.current=Oo,no){for(var r=Za.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if(Ja=0,to=eo=Za=null,ro=!1,Rs.current=null,null===n||null===n.return){js=1,Us=t,Ds=null;break}e:{var a=e,o=n.return,s=n,u=t;if(t=Fs,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!==(1&Ma.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var y=h.updateQueue;if(null===y){var m=new Set;m.add(c),h.updateQueue=m}else y.add(c);if(0===(2&h.mode)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var g=la(-1,1);g.tag=2,fa(s,g)}s.lanes|=1;break e}u=void 0,s=t;var k=a.pingCache;if(null===k?(k=a.pingCache=new fs,u=new Set,k.set(c,u)):void 0===(u=k.get(c))&&(u=new Set,k.set(c,u)),!u.has(s)){u.add(s);var _=zu.bind(null,a,c,s);c.then(_,_)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);u=Error((G(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==js&&(js=2),u=cs(u,s),h=o;do{switch(h.tag){case 3:a=u,h.flags|=4096,t&=-t,h.lanes|=t,ha(h,hs(0,a,t));break e;case 1:a=u;var b=h.type,w=h.stateNode;if(0===(64&h.flags)&&("function"===typeof b.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Js||!Js.has(w)))){h.flags|=4096,t&=-t,h.lanes|=t,ha(h,ds(h,a,t));break e}}h=h.return}while(null!==h)}Ru(n)}catch(x){t=x,Ds===n&&null!==n&&(Ds=n=n.return);continue}break}}function Cu(){var e=As.current;return As.current=Oo,null===e?Oo:e}function Su(e,t){var n=Os;Os|=16;var r=Cu();for(Ps===e&&Fs===t||Eu(e,t);;)try{Iu();break}catch(i){Tu(e,i)}if(na(),Os=n,As.current=r,null!==Ds)throw Error(o(261));return Ps=null,Fs=0,js}function Iu(){for(;null!==Ds;)Au(Ds)}function Nu(){for(;null!==Ds&&!Ii();)Au(Ds)}function Au(e){var t=$s(e.alternate,e,Ls);e.memoizedProps=e.pendingProps,null===t?Ru(e):Ds=t,Rs.current=null}function Ru(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ss(n,t,Ls)))return void(Ds=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ls)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=us(t)))return n.flags&=2047,void(Ds=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ds=t);Ds=t=e}while(null!==t);0===js&&(js=5)}function Ou(e){var t=Wi();return Ki(99,Pu.bind(null,e,t)),null}function Pu(e,t){do{Fu()}while(null!==eu);if(0!==(48&Os))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<a;){var c=31-Wt(a),l=1<<c;i[c]=0,s[c]=-1,u[c]=-1,a&=~l}if(null!==iu&&0===(24&r)&&iu.has(e)&&iu.delete(e),e===Ps&&(Ds=Ps=null,Fs=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Os,Os|=32,Rs.current=null,zr=Qt,mr(s=yr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(C){u=null;break e}var f=0,h=-1,d=-1,p=0,v=0,y=s,m=null;t:for(;;){for(var g;y!==u||0!==a&&3!==y.nodeType||(h=f+a),y!==c||0!==l&&3!==y.nodeType||(d=f+l),3===y.nodeType&&(f+=y.nodeValue.length),null!==(g=y.firstChild);)m=y,y=g;for(;;){if(y===s)break t;if(m===u&&++p===a&&(h=f),m===c&&++v===l&&(d=f),null!==(g=y.nextSibling))break;m=(y=m).parentNode}y=g}u=-1===h||-1===d?null:{start:h,end:d}}else u=null;u=u||{start:0,end:0}}else u=null;qr={focusedElem:s,selectionRange:u},Qt=!1,lu=null,fu=!1,Qs=r;do{try{Du()}catch(C){if(null===Qs)throw Error(o(330));Vu(Qs,C),Qs=Qs.nextEffect}}while(null!==Qs);lu=null,Qs=r;do{try{for(s=e;null!==Qs;){var k=Qs.flags;if(16&k&&ge(Qs.stateNode,""),128&k){var _=Qs.alternate;if(null!==_){var b=_.ref;null!==b&&("function"===typeof b?b(null):b.current=null)}}switch(1038&k){case 2:ws(Qs),Qs.flags&=-3;break;case 6:ws(Qs),Qs.flags&=-3,Cs(Qs.alternate,Qs);break;case 1024:Qs.flags&=-1025;break;case 1028:Qs.flags&=-1025,Cs(Qs.alternate,Qs);break;case 4:Cs(Qs.alternate,Qs);break;case 8:Ts(s,u=Qs);var w=u.alternate;_s(u),null!==w&&_s(w)}Qs=Qs.nextEffect}}catch(C){if(null===Qs)throw Error(o(330));Vu(Qs,C),Qs=Qs.nextEffect}}while(null!==Qs);if(b=qr,_=yr(),k=b.focusedElem,s=b.selectionRange,_!==k&&k&&k.ownerDocument&&vr(k.ownerDocument.documentElement,k)){null!==s&&mr(k)&&(_=s.start,void 0===(b=s.end)&&(b=_),"selectionStart"in k?(k.selectionStart=_,k.selectionEnd=Math.min(b,k.value.length)):(b=(_=k.ownerDocument||document)&&_.defaultView||window).getSelection&&(b=b.getSelection(),u=k.textContent.length,w=Math.min(s.start,u),s=void 0===s.end?w:Math.min(s.end,u),!b.extend&&w>s&&(u=s,s=w,w=u),u=pr(k,w),a=pr(k,s),u&&a&&(1!==b.rangeCount||b.anchorNode!==u.node||b.anchorOffset!==u.offset||b.focusNode!==a.node||b.focusOffset!==a.offset)&&((_=_.createRange()).setStart(u.node,u.offset),b.removeAllRanges(),w>s?(b.addRange(_),b.extend(a.node,a.offset)):(_.setEnd(a.node,a.offset),b.addRange(_))))),_=[];for(b=k;b=b.parentNode;)1===b.nodeType&&_.push({element:b,left:b.scrollLeft,top:b.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<_.length;k++)(b=_[k]).element.scrollLeft=b.left,b.element.scrollTop=b.top}Qt=!!zr,qr=zr=null,e.current=n,Qs=r;do{try{for(k=e;null!==Qs;){var x=Qs.flags;if(36&x&&ms(k,Qs.alternate,Qs),128&x){_=void 0;var E=Qs.ref;if(null!==E){var T=Qs.stateNode;Qs.tag,_=T,"function"===typeof E?E(_):E.current=_}}Qs=Qs.nextEffect}}catch(C){if(null===Qs)throw Error(o(330));Vu(Qs,C),Qs=Qs.nextEffect}}while(null!==Qs);Qs=null,ji(),Os=i}else e.current=n;if(Zs)Zs=!1,eu=e,tu=t;else for(Qs=r;null!==Qs;)t=Qs.nextEffect,Qs.nextEffect=null,8&Qs.flags&&((x=Qs).sibling=null,x.stateNode=null),Qs=t;if(0===(r=e.pendingLanes)&&(Js=null),1===r?e===ou?au++:(au=0,ou=e):au=0,n=n.stateNode,Ei&&"function"===typeof Ei.onCommitFiberRoot)try{Ei.onCommitFiberRoot(xi,n,void 0,64===(64&n.current.flags))}catch(C){}if(yu(e,Bi()),Ys)throw Ys=!1,e=Xs,Xs=null,e;return 0!==(8&Os)||$i(),null}function Du(){for(;null!==Qs;){var e=Qs.alternate;fu||null===lu||(0!==(8&Qs.flags)?et(Qs,lu)&&(fu=!0):13===Qs.tag&&Is(e,Qs)&&et(Qs,lu)&&(fu=!0));var t=Qs.flags;0!==(256&t)&&ys(e,Qs),0===(512&t)||Zs||(Zs=!0,Gi(97,(function(){return Fu(),null}))),Qs=Qs.nextEffect}}function Fu(){if(90!==tu){var e=97<tu?97:tu;return tu=90,Ki(e,ju)}return!1}function Lu(e,t){nu.push(t,e),Zs||(Zs=!0,Gi(97,(function(){return Fu(),null})))}function Mu(e,t){ru.push(t,e),Zs||(Zs=!0,Gi(97,(function(){return Fu(),null})))}function ju(){if(null===eu)return!1;var e=eu;if(eu=null,0!==(48&Os))throw Error(o(331));var t=Os;Os|=32;var n=ru;ru=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===a)throw Error(o(330));Vu(a,c)}}for(n=nu,nu=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var u=i.create;i.destroy=u()}catch(c){if(null===a)throw Error(o(330));Vu(a,c)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Os=t,$i(),!0}function Uu(e,t,n){fa(e,t=hs(0,t=cs(n,t),1)),t=hu(),null!==(e=vu(e,1))&&(Bt(e,1,t),yu(e,t))}function Vu(e,t){if(3===e.tag)Uu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Uu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Js||!Js.has(r))){var i=ds(n,e=cs(t,e),1);if(fa(n,i),i=hu(),null!==(n=vu(n,1)))Bt(n,1,i),yu(n,i);else if("function"===typeof r.componentDidCatch&&(null===Js||!Js.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function zu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hu(),e.pingedLanes|=e.suspendedLanes&n,Ps===e&&(Fs&n)===n&&(4===js||3===js&&(62914560&Fs)===Fs&&500>Bi()-Hs?Eu(e,0):Bs|=n),yu(e,t)}function qu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Wi()?1:2:(0===uu&&(uu=Vs),0===(t=zt(62914560&~uu))&&(t=4194304))),n=hu(),null!==(e=vu(e,t))&&(Bt(e,t,n),yu(e,n))}function Bu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Wu(e,t,n,r){return new Bu(e,t,n,r)}function Hu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ku(e,t){var n=e.alternate;return null===n?((n=Wu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gu(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Hu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case E:return $u(n.children,i,a,t);case L:s=8,i|=16;break;case T:s=8,i|=1;break;case C:return(e=Wu(12,n,t,8|i)).elementType=C,e.type=C,e.lanes=a,e;case A:return(e=Wu(13,n,t,i)).type=A,e.elementType=A,e.lanes=a,e;case R:return(e=Wu(19,n,t,i)).elementType=R,e.lanes=a,e;case M:return Qu(n,i,a,t);case j:return(e=Wu(24,n,t,i)).elementType=j,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:s=10;break e;case I:s=9;break e;case N:s=11;break e;case O:s=14;break e;case P:s=16,r=null;break e;case D:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Wu(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function $u(e,t,n,r){return(e=Wu(7,e,r,t)).lanes=n,e}function Qu(e,t,n,r){return(e=Wu(23,e,r,t)).elementType=M,e.lanes=n,e}function Yu(e,t,n){return(e=Wu(6,e,null,t)).lanes=n,e}function Xu(e,t,n){return(t=Wu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ju(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=qt(0),this.expirationTimes=qt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qt(0),this.mutableSourceEagerHydrationData=null}function Zu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,a=hu(),s=du(i);e:if(n){t:{if(Ye(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(mi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(o(171))}if(1===n.tag){var c=n.type;if(mi(c)){n=_i(n,c,u);break e}}n=u}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=la(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fa(i,t),pu(i,s,a),s}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Ju(e,t,null!=n&&!0===n.hydrate),t=Wu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ua(t),e[ei]=n.current,Or(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ac(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=tc(o);s.call(e)}}ec(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var u=i;i=function(){var e=tc(o);u.call(e)}}bu((function(){ec(t,o,e,i)}))}return tc(o)}function sc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ac(t))throw Error(o(200));return Zu(e,t,null,n)}$s=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Mo=!0;else{if(0===(n&r)){switch(Mo=!1,t.tag){case 3:Go(t),Ga();break;case 5:Fa(t);break;case 1:mi(t.type)&&bi(t);break;case 4:Pa(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi(Ji,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Jo(e,t,n):(fi(Ma,1&Ma.current),null!==(t=as(e,t,n))?t.sibling:null);fi(Ma,1&Ma.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return is(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(Ma,Ma.current),r)break;return null;case 23:case 24:return t.lanes=0,qo(e,t,n)}return as(e,t,n)}Mo=0!==(16384&e.flags)}else Mo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=yi(t,di.current),aa(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,mi(r)){var a=!0;bi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ua(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&ya(t,r,s,e),i.updater=ma,t.stateNode=i,i._reactInternals=t,ba(t,r,e,n),t=Ko(null,t,r,!0,a,n)}else t.tag=0,jo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Hu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===O)return 14}return 2}(i),e=Xi(i,e),a){case 0:t=Wo(null,t,i,e,n);break e;case 1:t=Ho(null,t,i,e,n);break e;case 11:t=Uo(null,t,i,e,n);break e;case 14:t=Vo(null,t,i,Xi(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Wo(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ho(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 3:if(Go(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ca(e,t),da(t,r,null,n),(r=t.memoizedState.element)===i)Ga(),t=as(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Va=$r(t.stateNode.containerInfo.firstChild),Ua=t,a=za=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],$a.push(a);for(n=Sa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else jo(e,t,r,n),Ga();t=t.child}return t;case 5:return Fa(t),null===e&&Wa(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,Wr(r,i)?s=null:null!==a&&Wr(r,a)&&(t.flags|=16),Bo(e,t),jo(e,t,s,n),t.child;case 6:return null===e&&Wa(t),null;case 13:return Jo(e,t,n);case 4:return Pa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ca(t,null,r,n):jo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Uo(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 7:return jo(e,t,t.pendingProps,n),t.child;case 8:case 12:return jo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value;var u=t.type._context;if(fi(Ji,u._currentValue),u._currentValue=a,null!==s)if(u=s.value,0===(a=lr(u,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,a):1073741823))){if(s.children===i.children&&!pi.current){t=as(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===u.tag&&((l=la(-1,n&-n)).tag=2,fa(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),ia(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}jo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(i=oa(i,a.unstable_observedBits)),t.flags|=1,jo(e,t,r,n),t.child;case 14:return a=Xi(i=t.type,t.pendingProps),Vo(e,t,i,a=Xi(i.type,a),r,n);case 15:return zo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,mi(r)?(e=!0,bi(t)):e=!1,aa(t,n),ka(t,r,i),ba(t,r,i,n),Ko(null,t,r,!0,e,n);case 19:return is(e,t,n);case 23:case 24:return qo(e,t,n)}throw Error(o(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(pu(e,4,hu()),rc(e,4))},nt=function(e){13===e.tag&&(pu(e,67108864,hu()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=hu(),n=du(e);pu(e,n,t),rc(e,n)}},it=function(e,t){return t()},Se=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(o(90));X(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Pe=_u,De=function(e,t,n,r,i){var a=Os;Os|=4;try{return Ki(98,e.bind(null,t,n,r,i))}finally{0===(Os=a)&&(Gs(),$i())}},Fe=function(){0===(49&Os)&&(function(){if(null!==iu){var e=iu;iu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,yu(e,Bi())}))}$i()}(),Fu())},Le=function(e,t){var n=Os;Os|=2;try{return e(t)}finally{0===(Os=n)&&(Gs(),$i())}};var uc={Events:[ri,ii,ai,Re,Oe,Fu,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{xi=fc.inject(lc),Ei=fc}catch(ye){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uc,t.createPortal=sc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Os;if(0!==(48&n))return e(t);Os|=1;try{if(e)return Ki(99,e.bind(null,t))}finally{Os=n,$i()}},t.hydrate=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ac(e))throw Error(o(40));return!!e._reactRootContainer&&(bu((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=_u,t.unstable_createPortal=function(e,t){return sc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ac(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},77:function(e){"use strict";var t=Array.isArray,n=Object.keys,r=Object.prototype.hasOwnProperty,i="undefined"!==typeof Element;function a(e,o){if(e===o)return!0;if(e&&o&&"object"==typeof e&&"object"==typeof o){var s,u,c,l=t(e),f=t(o);if(l&&f){if((u=e.length)!=o.length)return!1;for(s=u;0!==s--;)if(!a(e[s],o[s]))return!1;return!0}if(l!=f)return!1;var h=e instanceof Date,d=o instanceof Date;if(h!=d)return!1;if(h&&d)return e.getTime()==o.getTime();var p=e instanceof RegExp,v=o instanceof RegExp;if(p!=v)return!1;if(p&&v)return e.toString()==o.toString();var y=n(e);if((u=y.length)!==n(o).length)return!1;for(s=u;0!==s--;)if(!r.call(o,y[s]))return!1;if(i&&e instanceof Element&&o instanceof Element)return e===o;for(s=u;0!==s--;)if(("_owner"!==(c=y[s])||!e.$$typeof)&&!a(e[c],o[c]))return!1;return!0}return e!==e&&o!==o}e.exports=function(e,t){try{return a(e,t)}catch(n){if(n.message&&n.message.match(/stack|recursion/i)||-2146828260===n.number)return console.warn("Warning: react-fast-compare does not handle circular references.",n.name,n.message),!1;throw n}}},6374:function(e,t,n){"use strict";n(1725);var r=n(2791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},9117:function(e,t,n){"use strict";var r=n(1725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,s=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),s=f("react.context"),u=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function m(){}function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},m.prototype=y.prototype;var k=g.prototype=new m;k.constructor=g,r(k,y.prototype),k.isPureReactComponent=!0;var _={current:null},b=Object.prototype.hasOwnProperty,w={key:!0,ref:!0,__self:!0,__source:!0};function x(e,t,n){var r,a={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)b.call(t,r)&&!w.hasOwnProperty(r)&&(a[r]=t[r]);var u=arguments.length-2;if(1===u)a.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===a[r]&&(a[r]=u[r]);return{$$typeof:i,type:e,key:o,ref:s,props:a,_owner:_.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function S(e,t,n,r,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case a:u=!0}}if(u)return o=o(u=e),e=""===r?"."+C(u,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(T,"$&/")+"/"),S(o,t,n,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+C(s=e[c],c);u+=S(s,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=S(s=s.value,t,n,l=r+C(s,c++),o);else if("object"===s)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function I(e,t,n){if(null==e)return e;var r=[],i=0;return S(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var A={current:null};function R(){var e=A.current;if(null===e)throw Error(d(321));return e}var O={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:_,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:I,forEach:function(e,t,n){I(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return I(e,(function(){t++})),t},toArray:function(e){return I(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error(d(143));return e}},t.Component=y,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=_.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)b.call(t,l)&&!w.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:s,props:a,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=x,t.createFactory=function(e){var t=x.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return R().useCallback(e,t)},t.useContext=function(e,t){return R().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return R().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return R().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return R().useLayoutEffect(e,t)},t.useMemo=function(e,t){return R().useMemo(e,t)},t.useReducer=function(e,t,n){return R().useReducer(e,t,n)},t.useRef=function(e){return R().useRef(e)},t.useState=function(e){return R().useState(e)},t.version="17.0.2"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},9727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(R){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),o=new I(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return A()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=T(o,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=l(e,t,n);if("normal"===u.type){if(r=n.done?p:h,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(R){return{type:"throw",arg:R}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function y(){}function m(){}function g(){}var k={};u(k,a,(function(){return this}));var _=Object.getPrototypeOf,b=_&&_(_(N([])));b&&b!==n&&r.call(b,a)&&(k=b);var w=g.prototype=y.prototype=Object.create(k);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(i,a,o,s){var u=l(e[i],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(u.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function T(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,T(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function N(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:A}}function A(){return{value:t,done:!0}}return m.prototype=g,u(w,"constructor",g),u(g,"constructor",m),m.displayName=u(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,s,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},x(E.prototype),u(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new E(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},x(w),u(w,s,"Generator"),u(w,a,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:N(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},6813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,y=null,m=-1,g=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var _=new MessageChannel,b=_.port2;_.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();k=e+g;try{y(!0,e)?b.postMessage(null):(v=!1,y=null)}catch(n){throw b.postMessage(null),n}}else v=!1},n=function(e){y=e,v||(v=!0,b.postMessage(null))},r=function(e,n){m=h((function(){e(t.unstable_now())}),n)},i=function(){d(m),m=-1}}function w(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<T(i,t)))break e;e[r]=t,e[n]=i,n=r}}function x(e){return void 0===(e=e[0])?null:e}function E(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],s=a+1,u=e[s];if(void 0!==o&&0>T(o,n))void 0!==u&&0>T(u,o)?(e[r]=u,e[s]=n,r=s):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==u&&0>T(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function T(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var C=[],S=[],I=1,N=null,A=3,R=!1,O=!1,P=!1;function D(e){for(var t=x(S);null!==t;){if(null===t.callback)E(S);else{if(!(t.startTime<=e))break;E(S),t.sortIndex=t.expirationTime,w(C,t)}t=x(S)}}function F(e){if(P=!1,D(e),!O)if(null!==x(C))O=!0,n(L);else{var t=x(S);null!==t&&r(F,t.startTime-e)}}function L(e,n){O=!1,P&&(P=!1,i()),R=!0;var a=A;try{for(D(n),N=x(C);null!==N&&(!(N.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=N.callback;if("function"===typeof o){N.callback=null,A=N.priorityLevel;var s=o(N.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?N.callback=s:N===x(C)&&E(C),D(n)}else E(C);N=x(C)}if(null!==N)var u=!0;else{var c=x(S);null!==c&&r(F,c.startTime-n),u=!1}return u}finally{N=null,A=a,R=!1}}var M=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){O||R||(O=!0,n(L))},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_getFirstCallbackNode=function(){return x(C)},t.unstable_next=function(e){switch(A){case 1:case 2:case 3:var t=3;break;default:t=A}var n=A;A=t;try{return e()}finally{A=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=M,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=A;A=e;try{return t()}finally{A=n}},t.unstable_scheduleCallback=function(e,a,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:I++,callback:a,priorityLevel:e,startTime:o,expirationTime:u=o+u,sortIndex:-1},o>s?(e.sortIndex=o,w(S,e),null===x(C)&&e===x(S)&&(P?i():P=!0,r(F,o-s))):(e.sortIndex=u,w(C,e),O||R||(O=!0,n(L))),e},t.unstable_wrapCallback=function(e){var t=A;return function(){var n=A;A=t;try{return e.apply(this,arguments)}finally{A=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},6514:function(e){function t(e,t){var n=e.length,r=new Array(n),i={},a=n,o=function(e){for(var t=new Map,n=0,r=e.length;n<r;n++){var i=e[n];t.has(i[0])||t.set(i[0],new Set),t.has(i[1])||t.set(i[1],new Set),t.get(i[0]).add(i[1])}return t}(t),s=function(e){for(var t=new Map,n=0,r=e.length;n<r;n++)t.set(e[n],n);return t}(e);for(t.forEach((function(e){if(!s.has(e[0])||!s.has(e[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")}));a--;)i[a]||u(e[a],a,new Set);return r;function u(e,t,a){if(a.has(e)){var c;try{c=", node was:"+JSON.stringify(e)}catch(h){c=""}throw new Error("Cyclic dependency"+c)}if(!s.has(e))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(e));if(!i[t]){i[t]=!0;var l=o.get(e)||new Set;if(t=(l=Array.from(l)).length){a.add(e);do{var f=l[--t];u(f,s.get(f),a)}while(t);a.delete(e)}r[--n]=e}}}e.exports=function(e){return t(function(e){for(var t=new Set,n=0,r=e.length;n<r;n++){var i=e[n];t.add(i[0]),t.add(i[1])}return Array.from(t)}(e),e)},e.exports.array=t},5293:function(e,t,n){"use strict";e.exports=n.p+"static/media/1.26dd2f320f5d75b2124c.png"},8074:function(e,t,n){"use strict";e.exports=n.p+"static/media/2.e2a457a2dfffe878b293.png"},9279:function(e,t,n){"use strict";e.exports=n.p+"static/media/3.fa6ee7606f79fe188a8e.png"},5223:function(e,t,n){"use strict";e.exports=n.p+"static/media/4.bc60942f9314ceeed296.png"},111:function(e,t,n){"use strict";e.exports=n.p+"static/media/5.97c304e28974b56e8dc5.png"},9502:function(e,t,n){"use strict";e.exports=n.p+"static/media/6.d3da50a4dd8a9346dc34.png"},7417:function(e,t,n){"use strict";e.exports=n.p+"static/media/7.c13f9900d938db6d2a23.png"},4196:function(e,t,n){"use strict";e.exports=n.p+"static/media/8.bbaae238efd4bff32917.png"},831:function(e,t,n){"use strict";e.exports=n.p+"static/media/9.9edae11cef7f9d33df4d.png"},8081:function(e,t,n){"use strict";e.exports=n.p+"static/media/sizes_women.9e1652c85867d2f9da64.jpg"}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r](a,a.exports,n),a.loaded=!0,a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.p="/shine/",function(){"use strict";var e=n(2791),t=n(4164);function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}var s,u=s||(s={});u.Pop="POP",u.Push="PUSH",u.Replace="REPLACE";var c=function(e){return e};function l(e){e.preventDefault(),e.returnValue=""}function f(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function h(){return Math.random().toString(36).substr(2,8)}function d(e){var t=e.pathname;t=void 0===t?"/":t;var n=e.search;return n=void 0===n?"":n,e=void 0===(e=e.hash)?"":e,n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),e&&"#"!==e&&(t+="#"===e.charAt(0)?e:"#"+e),t}function p(e){var t={};if(e){var n=e.indexOf("#");0<=n&&(t.hash=e.substr(n),e=e.substr(0,n)),0<=(n=e.indexOf("?"))&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function v(e,t){if(!e)throw new Error(t)}var y=(0,e.createContext)(null);var m=(0,e.createContext)(null);var g=(0,e.createContext)({outlet:null,matches:[]});function k(t){var n=t.to,r=t.replace,i=t.state;T()||v(!1);var a=S();return(0,e.useEffect)((function(){a(n,{replace:r,state:i})})),null}function _(t){return function(t){var n=(0,e.useContext)(g).outlet;if(n)return(0,e.createElement)(I.Provider,{value:t},n);return n}(t.context)}function b(e){v(!1)}function w(t){var n=t.basename,r=void 0===n?"/":n,i=t.children,a=void 0===i?null:i,o=t.location,u=t.navigationType,c=void 0===u?s.Pop:u,l=t.navigator,f=t.static,h=void 0!==f&&f;T()&&v(!1);var d=z(r),g=(0,e.useMemo)((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof o&&(o=p(o));var k=o,_=k.pathname,b=void 0===_?"/":_,w=k.search,x=void 0===w?"":w,E=k.hash,C=void 0===E?"":E,S=k.state,I=void 0===S?null:S,N=k.key,A=void 0===N?"default":N,R=(0,e.useMemo)((function(){var e=U(b,d);return null==e?null:{pathname:e,search:x,hash:C,state:I,key:A}}),[d,b,x,C,I,A]);return null==R?null:(0,e.createElement)(y.Provider,{value:g},(0,e.createElement)(m.Provider,{children:a,value:{location:R,navigationType:c}}))}function x(t){var n=t.children,r=t.location;return function(t,n){T()||v(!1);var r=(0,e.useContext)(g).matches,i=r[r.length-1],a=i?i.params:{},o=(i&&i.pathname,i?i.pathnameBase:"/");i&&i.route;0;var s,u=C();if(n){var c,l="string"===typeof n?p(n):n;"/"===o||(null==(c=l.pathname)?void 0:c.startsWith(o))||v(!1),s=l}else s=u;var f=s.pathname||"/",h="/"===o?f:f.slice(o.length)||"/",d=function(e,t,n){void 0===n&&(n="/");var r=U(("string"===typeof t?p(t):t).pathname||"/",n);if(null==r)return null;var i=R(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=F(i[o],r);return a}(t,{pathname:h});0;return L(d&&d.map((function(e){return Object.assign({},e,{params:Object.assign({},a,e.params),pathname:V([o,e.pathname]),pathnameBase:"/"===e.pathnameBase?o:V([o,e.pathnameBase])})})),r)}(A(n),r)}function E(t){T()||v(!1);var n=(0,e.useContext)(y),r=n.basename,i=n.navigator,a=N(t),o=a.hash,s=a.pathname,u=a.search,c=s;if("/"!==r){var l=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?p(e).pathname:e.pathname}(t),f=null!=l&&l.endsWith("/");c="/"===s?r+(f?"/":""):V([r,s])}return i.createHref({pathname:c,search:u,hash:o})}function T(){return null!=(0,e.useContext)(m)}function C(){return T()||v(!1),(0,e.useContext)(m).location}function S(){T()||v(!1);var t=(0,e.useContext)(y),n=t.basename,r=t.navigator,i=(0,e.useContext)(g).matches,a=C().pathname,o=JSON.stringify(i.map((function(e){return e.pathnameBase}))),s=(0,e.useRef)(!1);(0,e.useEffect)((function(){s.current=!0}));var u=(0,e.useCallback)((function(e,t){if(void 0===t&&(t={}),s.current)if("number"!==typeof e){var i=j(e,JSON.parse(o),a);"/"!==n&&(i.pathname=V([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state)}else r.go(e)}),[n,r,o,a]);return u}var I=(0,e.createContext)(null);function N(t){var n=(0,e.useContext)(g).matches,r=C().pathname,i=JSON.stringify(n.map((function(e){return e.pathnameBase})));return(0,e.useMemo)((function(){return j(t,JSON.parse(i),r)}),[t,i,r])}function A(t){var n=[];return e.Children.forEach(t,(function(t){if((0,e.isValidElement)(t))if(t.type!==e.Fragment){t.type!==b&&v(!1);var r={caseSensitive:t.props.caseSensitive,element:t.props.element,index:t.props.index,path:t.props.path};t.props.children&&(r.children=A(t.props.children)),n.push(r)}else n.push.apply(n,A(t.props.children))})),n}function R(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||v(!1),a.relativePath=a.relativePath.slice(r.length));var o=V([r,a.relativePath]),s=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&v(!1),R(e.children,t,s,o)),(null!=e.path||e.index)&&t.push({path:o,score:D(o,e.index),routesMeta:s})})),t}var O=/^:\w+$/,P=function(e){return"*"===e};function D(e,t){var n=e.split("/"),r=n.length;return n.some(P)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!P(e)})).reduce((function(e,t){return e+(O.test(t)?3:""===t?1:10)}),r)}function F(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=M({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;a.push({params:r,pathname:V([i,l.pathname]),pathnameBase:V([i,l.pathnameBase]),route:f}),"/"!==l.pathnameBase&&(i=V([i,l.pathnameBase]))}return a}function L(t,n){return void 0===n&&(n=[]),null==t?null:t.reduceRight((function(r,i,a){return(0,e.createElement)(g.Provider,{children:void 0!==i.route.element?i.route.element:(0,e.createElement)(_,null),value:{outlet:r,matches:n.concat(t.slice(0,a+1))}})}),null)}function M(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=a(n,2),i=r[0],o=r[1],s=t.match(i);if(!s)return null;var u=s[0],c=u.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:o.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";c=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(ok){return e}}(l[n]||""),e}),{}),pathname:u,pathnameBase:c,pattern:e}}function j(e,t,n){var r,i="string"===typeof e?p(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var s=a.split("/");".."===s[0];)s.shift(),o-=1;i.pathname=s.join("/")}r=o>=0?t[o]:"/"}var u=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?p(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:q(a),hash:B(s)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!u.pathname.endsWith("/")&&(u.pathname+="/"),u}function U(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var V=function(e){return e.join("/").replace(/\/\/+/g,"/")},z=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},q=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},B=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function W(){return W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W.apply(this,arguments)}function H(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var K=["onClick","reloadDocument","replace","state","target","to"];function G(t){var n=t.basename,r=t.children,i=t.window,u=(0,e.useRef)();null==u.current&&(u.current=function(e){function t(){var e=u.location,t=v.state||{};return[t.idx,c({pathname:e.pathname,search:e.search,hash:e.hash,state:t.usr||null,key:t.key||"default"})]}function n(e){return"string"===typeof e?e:d(e)}function r(e,t){return void 0===t&&(t=null),c(o({pathname:k.pathname,hash:"",search:""},"string"===typeof e?p(e):e,{state:t,key:h()}))}function i(e){m=e,e=t(),g=e[0],k=e[1],_.call({action:m,location:k})}function a(e){v.go(e)}void 0===e&&(e={});var u=void 0===(e=e.window)?document.defaultView:e,v=u.history,y=null;u.addEventListener("popstate",(function(){if(y)b.call(y),y=null;else{var e=s.Pop,n=t(),r=n[0];if(n=n[1],b.length){if(null!=r){var o=g-r;o&&(y={action:e,location:n,retry:function(){a(-1*o)}},a(o))}}else i(e)}}));var m=s.Pop,g=(e=t())[0],k=e[1],_=f(),b=f();return null==g&&(g=0,v.replaceState(o({},v.state,{idx:g}),"")),{get action(){return m},get location(){return k},createHref:n,push:function e(t,a){var o=s.Push,c=r(t,a);if(!b.length||(b.call({action:o,location:c,retry:function(){e(t,a)}}),0)){var l=[{usr:c.state,key:c.key,idx:g+1},n(c)];c=l[0],l=l[1];try{v.pushState(c,"",l)}catch(dl){u.location.assign(l)}i(o)}},replace:function e(t,a){var o=s.Replace,u=r(t,a);b.length&&(b.call({action:o,location:u,retry:function(){e(t,a)}}),1)||(u=[{usr:u.state,key:u.key,idx:g},n(u)],v.replaceState(u[0],"",u[1]),i(o))},go:a,back:function(){a(-1)},forward:function(){a(1)},listen:function(e){return _.push(e)},block:function(e){var t=b.push(e);return 1===b.length&&u.addEventListener("beforeunload",l),function(){t(),b.length||u.removeEventListener("beforeunload",l)}}}}({window:i}));var v=u.current,y=a((0,e.useState)({action:v.action,location:v.location}),2),m=y[0],g=y[1];return(0,e.useLayoutEffect)((function(){return v.listen(g)}),[v]),(0,e.createElement)(w,{basename:n,children:r,location:m.location,navigationType:m.action,navigator:v})}var $=(0,e.forwardRef)((function(t,n){var r=t.onClick,i=t.reloadDocument,a=t.replace,o=void 0!==a&&a,s=t.state,u=t.target,c=t.to,l=H(t,K),f=E(c),h=function(t,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,s=S(),u=C(),c=N(t);return(0,e.useCallback)((function(e){if(0===e.button&&(!i||"_self"===i)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)){e.preventDefault();var n=!!a||d(u)===d(c);s(t,{replace:n,state:o})}}),[u,s,c,a,o,i,t])}(c,{replace:o,state:s,target:u});return(0,e.createElement)("a",W({},l,{href:f,onClick:function(e){r&&r(e),e.defaultPrevented||i||h(e)},ref:n,target:u}))}));function Q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function X(e,t,n){return t&&Y(e.prototype,t),n&&Y(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function J(e,t){return J=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},J(e,t)}function Z(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&J(e,t)}function ee(e){return ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ee(e)}function te(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ne(e){return ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ne(e)}function re(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ie(e,t){if(t&&("object"===ne(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return re(e)}function ae(e){var t=te();return function(){var n,r=ee(e);if(t){var i=ee(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ie(this,n)}}function oe(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=i(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}function se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ue=n(7757),ce=n.n(ue);function le(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fe(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(ok){return void n(ok)}s.done?t(u):Promise.resolve(u).then(r,i)}function he(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){fe(a,r,i,o,s,"next",e)}function s(e){fe(a,r,i,o,s,"throw",e)}o(void 0)}))}}function de(e,t,n){return de=te()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&J(i,n.prototype),i},de.apply(null,arguments)}function pe(e){var t="function"===typeof Map?new Map:void 0;return pe=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return de(e,arguments,ee(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),J(n,e)},pe(e)}var ve=!1,ye=!1,me="${JSCORE_VERSION}",ge=function(e,t){if(!e)throw ke(t)},ke=function(e){return new Error("Firebase Database ("+me+") INTERNAL ASSERT FAILED: "+e)},_e=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},be={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(_e(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},we=function(e){var t=_e(e);return be.encodeByteArray(t,!0)},xe=function(e){try{return be.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Ee(e){return Te(void 0,e)}function Te(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Te(e[n],t[n]));return e}var Ce=function(){function e(){var t=this;Q(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return X(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Se(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ie(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Se())}function Ne(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Ae(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Re(){var e=Se();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Oe(){return!0===ve||!0===ye}var Pe=function(e){Z(n,e);var t=ae(n);function n(e,r,i){var a;return Q(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(re(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(re(a),De.prototype.create),a}return X(n)}(pe(Error)),De=function(){function e(t,n,r){Q(this,e),this.service=t,this.serviceName=n,this.errors=r}return X(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Fe(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Pe(n,a,t);return o}}]),e}();function Fe(e,t){return e.replace(Le,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Le=/\{\$([^}]+)}/g;function Me(e){return JSON.parse(e)}function je(e){return JSON.stringify(e)}var Ue=function(e){var t={},n={},r={},i="";try{var a=e.split(".");t=Me(xe(a[0])||""),n=Me(xe(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch(o){}return{header:t,claims:n,data:r,signature:i}};function Ve(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ze(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function qe(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Be(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function We(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(He(s)&&He(u)){if(!We(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function He(e){return null!==e&&"object"===typeof e}function Ke(e){for(var t=[],n=function(){var e=a(i[r],2),n=e[0],o=e[1];Array.isArray(o)?o.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Ge(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=a(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function $e(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var Qe=function(){function e(){Q(this,e),this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return X(e,[{key:"reset",value:function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}},{key:"compress_",value:function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var a=16;a<80;a++){var o=n[a-3]^n[a-8]^n[a-14]^n[a-16];n[a]=4294967295&(o<<1|o>>>31)}for(var s,u,c=this.chain_[0],l=this.chain_[1],f=this.chain_[2],h=this.chain_[3],d=this.chain_[4],p=0;p<80;p++){p<40?p<20?(s=h^l&(f^h),u=1518500249):(s=l^f^h,u=1859775393):p<60?(s=l&f|h&(l|f),u=2400959708):(s=l^f^h,u=3395469782);var v=(c<<5|c>>>27)+s+d+u+n[p]&4294967295;d=h,h=f,f=4294967295&(l<<30|l>>>2),l=c,c=v}this.chain_[0]=this.chain_[0]+c&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}},{key:"update",value:function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,a=this.inbuf_;r<t;){if(0===a)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[a]=e.charCodeAt(r),++r,++a===this.blockSize){this.compress_(i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++r,++a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=t}}},{key:"digest",value:function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var a=24;a>=0;a-=8)e[r]=this.chain_[i]>>a&255,++r;return e}}]),e}();var Ye=function(){function e(t,n){var r=this;Q(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return X(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=oe(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Xe),void 0===r.error&&(r.error=Xe),void 0===r.complete&&(r.complete=Xe);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Xe(){}function Je(e,t){return"".concat(e," failed: ").concat(t," argument ")}var Ze=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function et(e){return e&&e._delegate?e._delegate:e}var tt=function(){function e(t,n,r){Q(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return X(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),nt="[DEFAULT]",rt=function(){function e(t,n){Q(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return X(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Ce;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:nt})}catch(c){}var t,n=oe(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=a(t.value,2),i=r[0],o=r[1],s=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:s});o.resolve(u)}catch(c){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=he(ue.mark((function e(){var t;return ue.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(le(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),le(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,o=this.getOrInitializeService({instanceIdentifier:r,options:n}),s=oe(this.instancesDeferred.entries());try{for(s.s();!(i=s.n()).done;){var u=a(i.value,2),c=u[0],l=u[1],f=this.normalizeInstanceIdentifier(c);r===f&&l.resolve(o)}}catch(h){s.e(h)}finally{s.f()}return o}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=oe(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(nm){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===nt?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(nm){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt;return this.component?this.component.multipleInstances?e:nt:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var it,at,ot=function(){function e(t){Q(this,e),this.name=t,this.providers=new Map}return X(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new rt(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),st=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(at||(at={}));var ut,ct,lt={debug:at.DEBUG,verbose:at.VERBOSE,info:at.INFO,warn:at.WARN,error:at.ERROR,silent:at.SILENT},ft=at.INFO,ht=(se(it={},at.DEBUG,"log"),se(it,at.VERBOSE,"log"),se(it,at.INFO,"info"),se(it,at.WARN,"warn"),se(it,at.ERROR,"error"),it),dt=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=ht[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},pt=function(){function e(t){Q(this,e),this.name=t,this._logLevel=ft,this._logHandler=dt,this._userLogHandler=null,st.push(this)}return X(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in at))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?lt[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,at.DEBUG].concat(t)),this._logHandler.apply(this,[this,at.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,at.VERBOSE].concat(t)),this._logHandler.apply(this,[this,at.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,at.INFO].concat(t)),this._logHandler.apply(this,[this,at.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,at.WARN].concat(t)),this._logHandler.apply(this,[this,at.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,at.ERROR].concat(t)),this._logHandler.apply(this,[this,at.ERROR].concat(t))}}]),e}();var vt=function(){function e(t){Q(this,e),this.container=t}return X(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var yt="@firebase/app",mt="0.7.15",gt=new pt("@firebase/app"),kt="[DEFAULT]",_t=(se(ut={},yt,"fire-core"),se(ut,"@firebase/app-compat","fire-core-compat"),se(ut,"@firebase/analytics","fire-analytics"),se(ut,"@firebase/analytics-compat","fire-analytics-compat"),se(ut,"@firebase/app-check","fire-app-check"),se(ut,"@firebase/app-check-compat","fire-app-check-compat"),se(ut,"@firebase/auth","fire-auth"),se(ut,"@firebase/auth-compat","fire-auth-compat"),se(ut,"@firebase/database","fire-rtdb"),se(ut,"@firebase/database-compat","fire-rtdb-compat"),se(ut,"@firebase/functions","fire-fn"),se(ut,"@firebase/functions-compat","fire-fn-compat"),se(ut,"@firebase/installations","fire-iid"),se(ut,"@firebase/installations-compat","fire-iid-compat"),se(ut,"@firebase/messaging","fire-fcm"),se(ut,"@firebase/messaging-compat","fire-fcm-compat"),se(ut,"@firebase/performance","fire-perf"),se(ut,"@firebase/performance-compat","fire-perf-compat"),se(ut,"@firebase/remote-config","fire-rc"),se(ut,"@firebase/remote-config-compat","fire-rc-compat"),se(ut,"@firebase/storage","fire-gcs"),se(ut,"@firebase/storage-compat","fire-gcs-compat"),se(ut,"@firebase/firestore","fire-fst"),se(ut,"@firebase/firestore-compat","fire-fst-compat"),se(ut,"fire-js","fire-js"),se(ut,"firebase","fire-js-all"),ut),bt=new Map,wt=new Map;function xt(e,t){try{e.container.addComponent(t)}catch(n){gt.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Et(e){var t=e.name;if(wt.has(t))return gt.debug("There were multiple attempts to register component ".concat(t,".")),!1;wt.set(t,e);var n,r=oe(bt.values());try{for(r.s();!(n=r.n()).done;){xt(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Tt(e,t){return e.container.getProvider(t)}var Ct,St=(se(ct={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),se(ct,"bad-app-name","Illegal App name: '{$appName}"),se(ct,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),se(ct,"app-deleted","Firebase App named '{$appName}' already deleted"),se(ct,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),se(ct,"invalid-log-argument","First argument to `onLog` must be null or a function."),ct),It=new De("app","Firebase",St),Nt=function(){function e(t,n,r){var i=this;Q(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new tt("app",(function(){return i}),"PUBLIC"))}return X(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw It.create("app-deleted",{appName:this._name})}}]),e}(),At="9.6.5";function Rt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt,t=bt.get(e);if(!t)throw It.create("no-app",{appName:e});return t}function Ot(e,t,n){var r,i=null!==(r=_t[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void gt.warn(s.join(" "))}Et(new tt("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}Ct="",Et(new tt("platform-logger",(function(e){return new vt(e)}),"PRIVATE")),Ot(yt,mt,Ct),Ot(yt,mt,"esm2017"),Ot("fire-js","");function Pt(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ee(e)););return e}function Dt(){return Dt="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Pt(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Dt.apply(this,arguments)}Ot("firebase","9.6.5","app");function Ft(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Lt;Object.create;function Mt(){return se({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var jt=Mt,Ut=new De("auth","Firebase",Mt()),Vt=new pt("@firebase/auth");function zt(e){if(Vt.logLevel<=at.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Vt.error.apply(Vt,["Auth (".concat(At,"): ").concat(e)].concat(n))}}function qt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Ht.apply(void 0,[e].concat(n))}function Bt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ht.apply(void 0,[e].concat(n))}function Wt(e,t,n){var r=Object.assign(Object.assign({},jt()),se({},t,n));return new De("auth","Firebase",r).create(t,{appName:e.name})}function Ht(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=le(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(le(o)))}return Ut.create.apply(Ut,[e].concat(n))}function Kt(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Ht.apply(void 0,[t].concat(r))}}function Gt(e){var t="INTERNAL ASSERTION FAILED: "+e;throw zt(t),new Error(t)}function $t(e,t){e||Gt(t)}var Qt=new Map;function Yt(e){$t(e instanceof Function,"Expected a class definition");var t=Qt.get(e);return t?($t(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Qt.set(e,t),t)}function Xt(e,t){var n=Tt(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(We(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;qt(r,"already-initialized")}return n.initialize({options:t})}function Jt(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Zt(){return"http:"===en()||"https:"===en()}function en(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var tn=function(){function e(t,n){Q(this,e),this.shortDelay=t,this.longDelay=n,$t(n>t,"Short delay should be less than long delay!"),this.isMobile=Ie()||Ae()}return X(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Zt()||Ne()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function nn(e,t){$t(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var rn=function(){function e(){Q(this,e)}return X(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Gt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Gt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Gt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),an=(se(Lt={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),se(Lt,"MISSING_CUSTOM_TOKEN","internal-error"),se(Lt,"INVALID_IDENTIFIER","invalid-email"),se(Lt,"MISSING_CONTINUE_URI","internal-error"),se(Lt,"INVALID_PASSWORD","wrong-password"),se(Lt,"MISSING_PASSWORD","internal-error"),se(Lt,"EMAIL_EXISTS","email-already-in-use"),se(Lt,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),se(Lt,"INVALID_IDP_RESPONSE","invalid-credential"),se(Lt,"INVALID_PENDING_TOKEN","invalid-credential"),se(Lt,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),se(Lt,"MISSING_REQ_TYPE","internal-error"),se(Lt,"EMAIL_NOT_FOUND","user-not-found"),se(Lt,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),se(Lt,"EXPIRED_OOB_CODE","expired-action-code"),se(Lt,"INVALID_OOB_CODE","invalid-action-code"),se(Lt,"MISSING_OOB_CODE","internal-error"),se(Lt,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),se(Lt,"INVALID_ID_TOKEN","invalid-user-token"),se(Lt,"TOKEN_EXPIRED","user-token-expired"),se(Lt,"USER_NOT_FOUND","user-token-expired"),se(Lt,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),se(Lt,"INVALID_CODE","invalid-verification-code"),se(Lt,"INVALID_SESSION_INFO","invalid-verification-id"),se(Lt,"INVALID_TEMPORARY_PROOF","invalid-credential"),se(Lt,"MISSING_SESSION_INFO","missing-verification-id"),se(Lt,"SESSION_EXPIRED","code-expired"),se(Lt,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),se(Lt,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),se(Lt,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),se(Lt,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),se(Lt,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),se(Lt,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),se(Lt,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),se(Lt,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),se(Lt,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),se(Lt,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),se(Lt,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Lt),on=new tn(3e4,6e4);function sn(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function un(e,t,n,r){return cn.apply(this,arguments)}function cn(){return cn=he(ce().mark((function e(t,n,r,i){var a,o=arguments;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",ln(t,a,he(ce().mark((function e(){var a,o,s,u;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=Ke(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",rn.fetch()(pn(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),cn.apply(this,arguments)}function ln(e,t,n){return fn.apply(this,arguments)}function fn(){return fn=he(ce().mark((function e(t,n,r){var i,o,s,u,c,l,f,h,d,p;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},an),n),e.prev=2,o=new vn(t),e.next=6,Promise.race([r(),o.promise]);case 6:return s=e.sent,o.clearNetworkTimeout(),e.next=10,s.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw yn(t,"account-exists-with-different-credential",u);case 13:if(!s.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(c=s.ok?u.errorMessage:u.error.message,l=c.split(" : "),f=a(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw yn(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==h){e.next=25;break}throw yn(t,"email-already-in-use",u);case 25:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=30;break}throw Wt(t,p,d);case 30:qt(t,p);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof Pe)){e.next=37;break}throw e.t0;case 37:qt(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])}))),fn.apply(this,arguments)}function hn(e,t,n,r){return dn.apply(this,arguments)}function dn(){return dn=he(ce().mark((function e(t,n,r,i){var a,o,s=arguments;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,un(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&qt(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),dn.apply(this,arguments)}function pn(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?nn(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var vn=function(){function e(t){var n=this;Q(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Bt(n.auth,"network-request-failed"))}),on.get())}))}return X(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function yn(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Bt(e,t,r);return i.customData._tokenResponse=n,i}function mn(e,t){return gn.apply(this,arguments)}function gn(){return gn=he(ce().mark((function e(t,n){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",un(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),gn.apply(this,arguments)}function kn(e,t){return _n.apply(this,arguments)}function _n(){return _n=he(ce().mark((function e(t,n){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",un(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),_n.apply(this,arguments)}function bn(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function wn(){return wn=he(ce().mark((function e(t){var n,r,i,a,o,s,u=arguments;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=et(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Kt((a=En(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:bn(xn(a.auth_time)),issuedAtTime:bn(xn(a.iat)),expirationTime:bn(xn(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),wn.apply(this,arguments)}function xn(e){return 1e3*Number(e)}function En(e){var t=a(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return zt("JWT malformed, contained fewer than 3 sections"),null;try{var o=xe(r);return o?JSON.parse(o):(zt("Failed to decode base64 JWT payload"),null)}catch(s){return zt("Caught error parsing JWT payload as JSON",s),null}}function Tn(e,t){return Cn.apply(this,arguments)}function Cn(){return Cn=he(ce().mark((function e(t,n){var r=arguments;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Pe&&Sn(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Cn.apply(this,arguments)}function Sn(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var In=function(){function e(t){Q(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return X(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(he(ce().mark((function t(){return ce().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=he(ce().mark((function e(){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Nn=function(){function e(t,n){Q(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return X(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=bn(this.lastLoginAt),this.creationTime=bn(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function An(e){return Rn.apply(this,arguments)}function Rn(){return Rn=he(ce().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,h;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Tn(t,kn(r,{idToken:i}));case 6:Kt(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?Dn(o.providerUserInfo):[],u=Pn(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Nn(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Rn.apply(this,arguments)}function On(){return(On=he(ce().mark((function e(t){var n;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=et(t),e.next=3,An(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pn(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(le(n),le(t))}function Dn(e){return e.map((function(e){var t=e.providerId,n=Ft(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function Fn(e,t){return Ln.apply(this,arguments)}function Ln(){return Ln=he(ce().mark((function e(t,n){var r;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ln(t,{},he(ce().mark((function e(){var r,i,a,o,s,u;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ke({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=pn(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",rn.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),Ln.apply(this,arguments)}var Mn=function(){function e(){Q(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return X(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Kt(e.idToken,"internal-error"),Kt("undefined"!==typeof e.idToken,"internal-error"),Kt("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=En(e);return Kt(t,"internal-error"),Kt("undefined"!==typeof t.exp,"internal-error"),Kt("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=he(ce().mark((function e(t){var n,r=arguments;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Kt(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=he(ce().mark((function e(t,n){var r,i,a,o;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fn(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Gt("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Kt("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Kt("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Kt("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function jn(e,t){Kt("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Un=function(){function e(t){Q(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Ft(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new In(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.metadata=new Nn(a.createdAt||void 0,a.lastLoginAt||void 0)}return X(e,[{key:"getIdToken",value:function(){var e=he(ce().mark((function e(t){var n;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tn(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Kt(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return wn.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return On.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Kt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Kt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=he(ce().mark((function e(t){var n,r,i=arguments;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,An(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=he(ce().mark((function e(){var t;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Tn(this,mn(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,y=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,m=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,_=n.emailVerified,b=n.isAnonymous,w=n.providerData,x=n.stsTokenManager;Kt(k&&x,t,"internal-error");var E=Mn.fromJSON(this.name,x);Kt("string"===typeof k,t,"internal-error"),jn(f,t.name),jn(h,t.name),Kt("boolean"===typeof _,t,"internal-error"),Kt("boolean"===typeof b,t,"internal-error"),jn(d,t.name),jn(p,t.name),jn(v,t.name),jn(y,t.name),jn(m,t.name),jn(g,t.name);var T=new e({uid:k,auth:t,email:h,emailVerified:_,displayName:f,isAnonymous:b,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:E,createdAt:m,lastLoginAt:g});return w&&Array.isArray(w)&&(T.providerData=w.map((function(e){return Object.assign({},e)}))),y&&(T._redirectEventId=y),T}},{key:"_fromIdTokenResponse",value:function(){var t=he(ce().mark((function t(n,r){var i,a,o,s=arguments;return ce().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new Mn).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,An(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Vn=function(){function e(){Q(this,e),this.type="NONE",this.storage={}}return X(e,[{key:"_isAvailable",value:function(){var e=he(ce().mark((function e(){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=he(ce().mark((function e(t,n){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=he(ce().mark((function e(t){var n;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=he(ce().mark((function e(t){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Vn.type="NONE";var zn=Vn;function qn(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Bn=function(){function e(t,n,r){Q(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=qn(this.userKey,a.apiKey,o),this.fullPersistenceKey=qn("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return X(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=he(ce().mark((function e(){var t;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Un._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=he(ce().mark((function e(t){var n;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=he(ce().mark((function t(n,r){var i,a,o,s,u,c,l,f,h,d,p,v=arguments;return ce().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Yt(zn),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=he(ce().mark((function e(t){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Yt(zn),s=qn(i,n.config.apiKey,n.name),u=null,c=oe(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(h=t.sent)){t.next=23;break}return d=Un._fromJSON(n,h),f!==o&&(u=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=he(ce().mark((function e(t){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Wn(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if($n(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Hn(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Yn(t))return"Blackberry";if(Xn(t))return"Webos";if(Kn(t))return"Safari";if((t.includes("chrome/")||Gn(t))&&!t.includes("edge/"))return"Chrome";if(Qn(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Hn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se();return/firefox\//i.test(e)}function Kn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Gn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se();return/crios\//i.test(e)}function $n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se();return/iemobile/i.test(e)}function Qn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se();return/android/i.test(e)}function Yn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se();return/blackberry/i.test(e)}function Xn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se();return/webos/i.test(e)}function Jn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se();return/iphone|ipad|ipod/i.test(e)}function Zn(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se();return Jn(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function er(){return Re()&&10===document.documentMode}function tr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se();return Jn(e)||Qn(e)||Xn(e)||Yn(e)||/windows phone/i.test(e)||$n(e)}function nr(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Wn(Se());break;case"Worker":t="".concat(Wn(Se()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(At,"/").concat(r)}var rr=function(){function e(t,n){Q(this,e),this.app=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ar(this),this.idTokenSubscription=new ar(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ut,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=n.sdkClientVersion}return X(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Yt(t)),this._initializationPromise=this.queue(he(ce().mark((function r(){var i,a;return ce().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Bn.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=he(ce().mark((function e(){var t;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=he(ce().mark((function e(t){var n,r,i,a,o;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return Kt(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=he(ce().mark((function e(t){var n;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=he(ce().mark((function e(t){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,An(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=he(ce().mark((function e(){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=he(ce().mark((function e(t){var n;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?et(t):null)&&Kt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=he(ce().mark((function e(t){var n=this;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&Kt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(he(ce().mark((function e(){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=he(ce().mark((function e(){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(he(ce().mark((function n(){return ce().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Yt(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new De("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=he(ce().mark((function e(t,n){var r;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=he(ce().mark((function e(t){var n;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Kt(n=t&&Yt(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Bn.create(this,[Yt(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=he(ce().mark((function e(t){var n,r;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(he(ce().mark((function e(){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=he(ce().mark((function e(t){var n=this;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(he(ce().mark((function e(){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Kt(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=he(ce().mark((function e(t){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Kt(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=nr(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=he(ce().mark((function e(){var t;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=se({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function ir(e){return et(e)}var ar=function(){function e(t){var n=this;Q(this,e),this.auth=t,this.observer=null,this.addObserver=function(e,t){var n=new Ye(e,t);return n.subscribe.bind(n)}((function(e){return n.observer=e}))}return X(e,[{key:"next",get:function(){return Kt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();var or=function(){function e(t,n){Q(this,e),this.providerId=t,this.signInMethod=n}return X(e,[{key:"toJSON",value:function(){return Gt("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Gt("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Gt("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Gt("not implemented")}}]),e}();function sr(e,t){return ur.apply(this,arguments)}function ur(){return ur=he(ce().mark((function e(t,n){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",un(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),ur.apply(this,arguments)}function cr(e,t){return lr.apply(this,arguments)}function lr(){return lr=he(ce().mark((function e(t,n){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hn(t,"POST","/v1/accounts:signInWithPassword",sn(t,n)));case 1:case"end":return e.stop()}}),e)}))),lr.apply(this,arguments)}function fr(e,t){return hr.apply(this,arguments)}function hr(){return hr=he(ce().mark((function e(t,n){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hn(t,"POST","/v1/accounts:signInWithEmailLink",sn(t,n)));case 1:case"end":return e.stop()}}),e)}))),hr.apply(this,arguments)}function dr(e,t){return pr.apply(this,arguments)}function pr(){return pr=he(ce().mark((function e(t,n){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hn(t,"POST","/v1/accounts:signInWithEmailLink",sn(t,n)));case 1:case"end":return e.stop()}}),e)}))),pr.apply(this,arguments)}var vr=function(e){Z(n,e);var t=ae(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Q(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return X(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=he(ce().mark((function e(t){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",cr(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",fr(t,{email:this._email,oobCode:this._password}));case 5:qt(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=he(ce().mark((function e(t,n){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",sr(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",dr(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:qt(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(or);function yr(e,t){return mr.apply(this,arguments)}function mr(){return mr=he(ce().mark((function e(t,n){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hn(t,"POST","/v1/accounts:signInWithIdp",sn(t,n)));case 1:case"end":return e.stop()}}),e)}))),mr.apply(this,arguments)}var gr=function(e){Z(n,e);var t=ae(n);function n(){var e;return Q(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return X(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return yr(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,yr(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,yr(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ke(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):qt("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Ft(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(or);function kr(e,t){return _r.apply(this,arguments)}function _r(){return _r=he(ce().mark((function e(t,n){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",un(t,"POST","/v1/accounts:sendVerificationCode",sn(t,n)));case 1:case"end":return e.stop()}}),e)}))),_r.apply(this,arguments)}function br(){return br=he(ce().mark((function e(t,n){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hn(t,"POST","/v1/accounts:signInWithPhoneNumber",sn(t,n)));case 1:case"end":return e.stop()}}),e)}))),br.apply(this,arguments)}function wr(){return wr=he(ce().mark((function e(t,n){var r;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hn(t,"POST","/v1/accounts:signInWithPhoneNumber",sn(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw yn(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),wr.apply(this,arguments)}var xr=se({},"USER_NOT_FOUND","user-not-found");function Er(){return Er=he(ce().mark((function e(t,n){var r;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",hn(t,"POST","/v1/accounts:signInWithPhoneNumber",sn(t,r),xr));case 2:case"end":return e.stop()}}),e)}))),Er.apply(this,arguments)}var Tr=function(e){Z(n,e);var t=ae(n);function n(e){var r;return Q(this,n),(r=t.call(this,"phone","phone")).params=e,r}return X(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return br.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return wr.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Er.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(or);var Cr=function(){function e(t){var n,r,i,a,o,s;Q(this,e);var u=Ge($e(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);Kt(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return X(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Ge($e(e)).link,n=t?Ge($e(t)).deep_link_id:null,r=Ge($e(e)).deep_link_id;return(r?Ge($e(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(nm){return null}}}]),e}();var Sr=function(){function e(){Q(this,e),this.providerId=e.PROVIDER_ID}return X(e,null,[{key:"credential",value:function(e,t){return vr._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Cr.parseLink(t);return Kt(n,"argument-error"),vr._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Sr.PROVIDER_ID="password",Sr.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Sr.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Ir=function(){function e(t){Q(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return X(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Nr=function(e){Z(n,e);var t=ae(n);function n(){var e;return Q(this,n),(e=t.apply(this,arguments)).scopes=[],e}return X(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return le(this.scopes)}}]),n}(Ir),Ar=function(e){Z(n,e);var t=ae(n);function n(){return Q(this,n),t.call(this,"facebook.com")}return X(n,null,[{key:"credential",value:function(e){return gr._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(nm){return null}}}]),n}(Nr);Ar.FACEBOOK_SIGN_IN_METHOD="facebook.com",Ar.PROVIDER_ID="facebook.com";var Rr=function(e){Z(n,e);var t=ae(n);function n(){var e;return Q(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return X(n,null,[{key:"credential",value:function(e,t){return gr._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(nm){return null}}}]),n}(Nr);Rr.GOOGLE_SIGN_IN_METHOD="google.com",Rr.PROVIDER_ID="google.com";var Or=function(e){Z(n,e);var t=ae(n);function n(){return Q(this,n),t.call(this,"github.com")}return X(n,null,[{key:"credential",value:function(e){return gr._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(nm){return null}}}]),n}(Nr);Or.GITHUB_SIGN_IN_METHOD="github.com",Or.PROVIDER_ID="github.com";var Pr=function(e){Z(n,e);var t=ae(n);function n(){return Q(this,n),t.call(this,"twitter.com")}return X(n,null,[{key:"credential",value:function(e,t){return gr._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(nm){return null}}}]),n}(Nr);function Dr(e,t){return Fr.apply(this,arguments)}function Fr(){return Fr=he(ce().mark((function e(t,n){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hn(t,"POST","/v1/accounts:signUp",sn(t,n)));case 1:case"end":return e.stop()}}),e)}))),Fr.apply(this,arguments)}Pr.TWITTER_SIGN_IN_METHOD="twitter.com",Pr.PROVIDER_ID="twitter.com";var Lr=function(){function e(t){Q(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return X(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=he(ce().mark((function t(n,r,i){var a,o,s,u,c=arguments;return ce().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Un._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=Mr(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=he(ce().mark((function t(n,r,i){var a;return ce().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Mr(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Mr(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var jr=function(e){Z(n,e);var t=ae(n);function n(e,r,i,a){var o,s;return Q(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(re(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return X(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Pe);function Ur(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw jr._fromErrorAndOperation(e,n,t,r);throw n}))}function Vr(e,t){return zr.apply(this,arguments)}function zr(){return zr=he(ce().mark((function e(t,n){var r,i,a=arguments;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Tn,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Lr._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),zr.apply(this,arguments)}function qr(e,t){return Br.apply(this,arguments)}function Br(){return Br=he(ce().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Tn(t,Ur(i,a,n,t),r);case 6:return Kt((o=e.sent).idToken,i,"internal-error"),Kt(s=En(o.idToken),i,"internal-error"),u=s.sub,Kt(t.uid===u,i,"user-mismatch"),e.abrupt("return",Lr._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&qt(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Br.apply(this,arguments)}function Wr(e,t){return Hr.apply(this,arguments)}function Hr(){return Hr=he(ce().mark((function e(t,n){var r,i,a,o,s=arguments;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,Ur(t,i,n);case 4:return a=e.sent,e.next=7,Lr._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Hr.apply(this,arguments)}function Kr(e,t){return Gr.apply(this,arguments)}function Gr(){return Gr=he(ce().mark((function e(t,n){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wr(ir(t),n));case 1:case"end":return e.stop()}}),e)}))),Gr.apply(this,arguments)}function $r(e,t,n){return Qr.apply(this,arguments)}function Qr(){return Qr=he(ce().mark((function e(t,n,r){var i,a,o;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ir(t),e.next=3,Dr(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,Lr._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),Qr.apply(this,arguments)}function Yr(e,t,n){return Kr(et(e),Sr.credential(t,n))}function Xr(e,t){return Jr.apply(this,arguments)}function Jr(){return Jr=he(ce().mark((function e(t,n){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",un(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Jr.apply(this,arguments)}function Zr(e,t){return ei.apply(this,arguments)}function ei(){return(ei=he(ce().mark((function e(t,n){var r,i,a,o,s,u,c;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=et(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Tn(a,Xr(a.auth,s));case 10:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ti(e,t){return un(e,"POST","/v2/accounts/mfaEnrollment:start",sn(e,t))}new WeakMap;var ni="__sak",ri=function(){function e(t,n){Q(this,e),this.storageRetriever=t,this.type=n}return X(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(ni,"1"),this.storage.removeItem(ni),Promise.resolve(!0)):Promise.resolve(!1)}catch(nm){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var ii=function(e){Z(n,e);var t=ae(n);function n(){var e;return Q(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Se();return Kn(e)||Jn(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=tr(),e._shouldAllowMigration=!0,e}return X(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);er()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=he(ce().mark((function e(t,r){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dt(ee(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=he(ce().mark((function e(t){var r;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dt(ee(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=he(ce().mark((function e(t){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dt(ee(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(ri);ii.type="LOCAL";var ai=ii,oi=function(e){Z(n,e);var t=ae(n);function n(){return Q(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return X(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(ri);oi.type="SESSION";var si=oi;function ui(e){return Promise.all(e.map(function(){var e=he(ce().mark((function e(t){var n;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var ci=function(){function e(t){Q(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return X(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=he(ce().mark((function e(t){var n,r,i,a,o,s,u,c;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=he(ce().mark((function e(t){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,ui(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function li(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}ci.receivers=[];var fi=function(){function e(t){Q(this,e),this.target=t,this.handlers=new Set}return X(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=he(ce().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=li("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function hi(){return window}function di(){return"undefined"!==typeof hi().WorkerGlobalScope&&"function"===typeof hi().importScripts}function pi(){return vi.apply(this,arguments)}function vi(){return(vi=he(ce().mark((function e(){var t;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function yi(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var mi="firebaseLocalStorageDb",gi="firebaseLocalStorage",ki="fbase_key",_i=function(){function e(t){Q(this,e),this.request=t}return X(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function bi(e,t){return e.transaction([gi],t?"readwrite":"readonly").objectStore(gi)}function wi(){var e=indexedDB.deleteDatabase(mi);return new _i(e).toPromise()}function xi(){var e=indexedDB.open(mi,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(gi,{keyPath:ki})}catch(r){n(r)}})),e.addEventListener("success",he(ce().mark((function n(){var r;return ce().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(gi)){n.next=12;break}return r.close(),n.next=5,wi();case 5:return n.t0=t,n.next=8,xi();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Ei(e,t,n){return Ti.apply(this,arguments)}function Ti(){return Ti=he(ce().mark((function e(t,n,r){var i,a;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=bi(t,!0).put((se(i={},ki,n),se(i,"value",r),i)),e.abrupt("return",new _i(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Ti.apply(this,arguments)}function Ci(e,t){return Si.apply(this,arguments)}function Si(){return Si=he(ce().mark((function e(t,n){var r,i;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=bi(t,!1).get(n),e.next=3,new _i(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Si.apply(this,arguments)}function Ii(e,t){var n=bi(e,!0).delete(t);return new _i(n).toPromise()}var Ni=function(){function e(){Q(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return X(e,[{key:"_openDb",value:function(){var e=he(ce().mark((function e(){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,xi();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=he(ce().mark((function e(t){var n,r;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=he(ce().mark((function e(){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",di()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=he(ce().mark((function e(){var t=this;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=ci._getInstance(di()?self:null),this.receiver._subscribe("keyChanged",function(){var e=he(ce().mark((function e(n,r){var i;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=he(ce().mark((function e(t,n){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=he(ce().mark((function e(){var t,n,r;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pi();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new fi(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=he(ce().mark((function e(t){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&yi()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=he(ce().mark((function e(){var t;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,xi();case 5:return t=e.sent,e.next=8,Ei(t,ni,"1");case 8:return e.next=10,Ii(t,ni);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=he(ce().mark((function e(t){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=he(ce().mark((function e(t,n){var r=this;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(he(ce().mark((function e(){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Ei(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=he(ce().mark((function e(t){var n;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Ci(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=he(ce().mark((function e(t){var n=this;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(he(ce().mark((function e(){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Ii(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=he(ce().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=bi(e,!1).getAll();return new _i(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=oe(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(he(ce().mark((function t(){return ce().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Ni.type="LOCAL";var Ai=Ni;function Ri(e,t){return un(e,"POST","/v2/accounts/mfaSignIn:start",sn(e,t))}function Oi(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Bt("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Pi(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}Pi("rcb"),new tn(3e4,6e4);var Di="recaptcha";function Fi(e,t,n){return Li.apply(this,arguments)}function Li(){return Li=he(ce().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Kt("string"===typeof a,t,"argument-error"),Kt(r.type===Di,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return Kt("enroll"===s.type,t,"internal-error"),e.next=13,ti(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return Kt("signin"===s.type,t,"internal-error"),Kt(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Ri(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,kr(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Li.apply(this,arguments)}var Mi=function(){function e(t){Q(this,e),this.providerId=e.PROVIDER_ID,this.auth=ir(t)}return X(e,[{key:"verifyPhoneNumber",value:function(e,t){return Fi(this.auth,e,et(t))}}],[{key:"credential",value:function(e,t){return Tr._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Tr._fromTokenResponse(n,r):null}}]),e}();function ji(e,t){return t?Yt(t):(Kt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Mi.PROVIDER_ID="phone",Mi.PHONE_SIGN_IN_METHOD="phone";var Ui=function(e){Z(n,e);var t=ae(n);function n(e){var r;return Q(this,n),(r=t.call(this,"custom","custom")).params=e,r}return X(n,[{key:"_getIdTokenResponse",value:function(e){return yr(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return yr(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return yr(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(or);function Vi(e){return Wr(e.auth,new Ui(e),e.bypassAuthState)}function zi(e){var t=e.auth,n=e.user;return Kt(n,t,"internal-error"),qr(n,new Ui(e),e.bypassAuthState)}function qi(e){return Bi.apply(this,arguments)}function Bi(){return Bi=he(ce().mark((function e(t){var n,r;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Kt(r=t.user,n,"internal-error"),e.abrupt("return",Vr(r,new Ui(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),Bi.apply(this,arguments)}var Wi=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Q(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return X(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=he(ce().mark((function t(n,r){return ce().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=he(ce().mark((function e(t){var n,r,i,a,o,s,u;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Vi;case"linkViaPopup":case"linkViaRedirect":return qi;case"reauthViaPopup":case"reauthViaRedirect":return zi;default:qt(this.auth,"internal-error")}}},{key:"resolve",value:function(e){$t(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){$t(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Hi=new tn(2e3,1e4);var Ki=function(e){Z(n,e);var t=ae(n);function n(e,r,i,a,o){var s;return Q(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=re(s),s}return X(n,[{key:"executeNotNull",value:function(){var e=he(ce().mark((function e(){var t;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Kt(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=he(ce().mark((function e(){var t,n=this;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $t(1===this.filter.length,"Popup operations only handle one event"),t=li(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Bt(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Bt(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Bt(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Hi.get())}()}}]),n}(Wi);Ki.currentPopupAction=null;var Gi=new Map,$i=function(e){Z(n,e);var t=ae(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Q(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return X(n,[{key:"execute",value:function(){var e=he(ce().mark((function e(){var t,r;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Gi.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Qi(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Dt(ee(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Gi.set(this.auth._key(),t);case 21:return this.bypassAuthState||Gi.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=he(ce().mark((function e(t){var r;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Dt(ee(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Dt(ee(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=he(ce().mark((function e(){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Wi);function Qi(e,t){return Yi.apply(this,arguments)}function Yi(){return Yi=he(ce().mark((function e(t,n){var r,i,a;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ji(n),i=Xi(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),Yi.apply(this,arguments)}function Xi(e){return Yt(e._redirectPersistence)}function Ji(e){return qn("pendingRedirect",e.config.apiKey,e.name)}function Zi(e,t){return ea.apply(this,arguments)}function ea(){return ea=he(ce().mark((function e(t,n){var r,i,a,o,s,u=arguments;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=ir(t),a=ji(i,n),o=new $i(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),ea.apply(this,arguments)}var ta=function(){function e(t){Q(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return X(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ra(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!ra(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Bt(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(na(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(na(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function na(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function ra(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function ia(e){return aa.apply(this,arguments)}function aa(){return aa=he(ce().mark((function e(t){var n,r=arguments;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",un(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),aa.apply(this,arguments)}var oa=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sa=/^https?/;function ua(){return ua=he(ce().mark((function e(t){var n,r,i,a,o;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,ia(t);case 4:n=e.sent,r=n.authorizedDomains,i=oe(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!ca(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:qt(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),ua.apply(this,arguments)}function ca(e){var t=Jt(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!sa.test(r))return!1;if(oa.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var la=new tn(3e4,6e4);function fa(){var e=hi().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=le(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var ha=null;function da(e){return ha=ha||function(e){return new Promise((function(t,n){var r,i,a;function o(){fa(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){fa(),n(Bt(e,"network-request-failed"))},timeout:la.get()})}if(null===(i=null===(r=hi().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=hi().gapi)||void 0===a?void 0:a.load)){var s=Pi("iframefcb");return hi()[s]=function(){gapi.load?o():n(Bt(e,"network-request-failed"))},Oi("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw ha=null,e}))}(e),ha}var pa=new tn(5e3,15e3),va={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ya=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ma(e){var t=e.config;Kt(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?nn(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:At},i=ya.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Ke(r).slice(1))}function ga(e){return ka.apply(this,arguments)}function ka(){return ka=he(ce().mark((function e(t){var n,r;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,da(t);case 2:return n=e.sent,Kt(r=hi().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:ma(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:va,dontclear:!0},(function(e){return new Promise(function(){var n=he(ce().mark((function n(r,i){var a,o,s;return ce().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){hi().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Bt(t,"network-request-failed"),o=hi().setTimeout((function(){i(a)}),pa.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),ka.apply(this,arguments)}var _a={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ba="_blank",wa="http://localhost",xa=function(){function e(t){Q(this,e),this.window=t,this.associatedEvent=null}return X(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Ea(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",c=Object.assign(Object.assign({},_a),{width:r.toString(),height:i.toString(),top:o,left:s}),l=Se().toLowerCase();n&&(u=Gn(l)?ba:n),Hn(l)&&(t=t||wa,c.scrollbars="yes");var f=Object.entries(c).reduce((function(e,t){var n=a(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(Zn(l)&&"_self"!==u)return Ta(t||"",u),new xa(null);var h=window.open(t||"",u,f);Kt(h,e,"popup-blocked");try{h.focus()}catch(d){}return new xa(h)}function Ta(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Ca="__/auth/handler",Sa="emulator/auth/handler";function Ia(e,t,n,r,i,o){Kt(e.config.authDomain,e,"auth-domain-config-required"),Kt(e.config.apiKey,e,"invalid-api-key");var s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:At,eventId:i};if(t instanceof Ir){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",qe(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,c=Object.entries(o||{});u<c.length;u++){var l=a(c[u],2),f=l[0],h=l[1];s[f]=h}}if(t instanceof Nr){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(s.scopes=d.join(","))}e.tenantId&&(s.tid=e.tenantId);for(var p=s,v=0,y=Object.keys(p);v<y.length;v++){var m=y[v];void 0===p[m]&&delete p[m]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Ca);return nn(t,Sa)}(e),"?").concat(Ke(p).slice(1))}var Na="webStorageSupport",Aa=function(){function e(){Q(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=si,this._completeRedirectFn=Zi}return X(e,[{key:"_openPopup",value:function(){var e=he(ce().mark((function e(t,n,r,i){var a,o;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $t(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=Ia(t,n,r,Jt(),i),e.abrupt("return",Ea(t,o,li()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=he(ce().mark((function e(t,n,r,i){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Ia(t,n,r,Jt(),i),hi().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):($t(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=he(ce().mark((function e(t){var n,r;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ga(t);case 2:return n=e.sent,r=new ta(t),n.register("authEvent",(function(e){return Kt(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Na,{type:Na},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),qt(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return ua.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return tr()||Kn()||Jn()}}]),e}(),Ra=Aa,Oa=function(){function e(t){Q(this,e),this.factorId=t}return X(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Gt("unexpected MultiFactorSessionType")}}}]),e}(),Pa=function(e){Z(n,e);var t=ae(n);function n(e){var r;return Q(this,n),(r=t.call(this,"phone")).credential=e,r}return X(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return un(e,"POST","/v2/accounts/mfaEnrollment:finalize",sn(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return un(e,"POST","/v2/accounts/mfaSignIn:finalize",sn(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(Oa);(function(){function e(){Q(this,e)}return X(e,null,[{key:"assertion",value:function(e){return Pa._fromCredential(e)}}]),e}()).FACTOR_ID="phone";var Da,Fa="@firebase/auth",La="0.19.7",Ma=function(){function e(t){Q(this,e),this.auth=t,this.internalListeners=new Map}return X(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=he(ce().mark((function e(t){var n;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Kt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();Da="Browser",Et(new tt("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=r.options,a=i.apiKey,o=i.authDomain;return function(e){Kt(a&&!a.includes(":"),"invalid-api-key",{appName:e.name}),Kt(!(null===o||void 0===o?void 0:o.includes(":")),"argument-error",{appName:e.name});var t={apiKey:a,authDomain:o,clientPlatform:Da,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nr(Da)},r=new rr(e,t);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Yt);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(r,n),r}(r)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Et(new tt("auth-internal",(function(e){return function(e){return new Ma(e)}(ir(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Ot(Fa,La,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Da)),Ot(Fa,La,"esm2017");var ja,Ua="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Va={},za=za||{},qa=Ua||self;function Ba(){}function Wa(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Ha(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Ka="closure_uid_"+(1e9*Math.random()>>>0),Ga=0;function $a(e,t,n){return e.call.apply(e.bind,arguments)}function Qa(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Ya(e,t,n){return(Ya=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?$a:Qa).apply(null,arguments)}function Xa(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Ja(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Za(){this.s=this.s,this.o=this.o}var eo={};Za.prototype.s=!1,Za.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Ka)&&e[Ka]||(e[Ka]=++Ga)}(this);delete eo[e]}},Za.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var to=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},no=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function ro(e){return Array.prototype.concat.apply([],arguments)}function io(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function ao(e){return/^[\s\xa0]*$/.test(e)}var oo,so=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function uo(e,t){return-1!=e.indexOf(t)}function co(e,t){return e<t?-1:e>t?1:0}e:{var lo=qa.navigator;if(lo){var fo=lo.userAgent;if(fo){oo=fo;break e}}oo=""}function ho(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function po(e){var t={};for(var n in e)t[n]=e[n];return t}var vo="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yo(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<vo.length;a++)n=vo[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function mo(e){return mo[" "](e),e}mo[" "]=Ba;var go,ko=uo(oo,"Opera"),_o=uo(oo,"Trident")||uo(oo,"MSIE"),bo=uo(oo,"Edge"),wo=bo||_o,xo=uo(oo,"Gecko")&&!(uo(oo.toLowerCase(),"webkit")&&!uo(oo,"Edge"))&&!(uo(oo,"Trident")||uo(oo,"MSIE"))&&!uo(oo,"Edge"),Eo=uo(oo.toLowerCase(),"webkit")&&!uo(oo,"Edge");function To(){var e=qa.document;return e?e.documentMode:void 0}e:{var Co="",So=function(){var e=oo;return xo?/rv:([^\);]+)(\)|;)/.exec(e):bo?/Edge\/([\d\.]+)/.exec(e):_o?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Eo?/WebKit\/(\S+)/.exec(e):ko?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(So&&(Co=So?So[1]:""),_o){var Io=To();if(null!=Io&&Io>parseFloat(Co)){go=String(Io);break e}}go=Co}var No,Ao={};function Ro(){return function(e){var t=Ao;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=so(String(go)).split("."),n=so("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=co(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||co(0==a[2].length,0==o[2].length)||co(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(qa.document&&_o){var Oo=To();No=Oo||(parseInt(go,10)||void 0)}else No=void 0;var Po=No,Do=function(){if(!qa.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{qa.addEventListener("test",Ba,t),qa.removeEventListener("test",Ba,t)}catch(n){}return e}();function Fo(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Lo(e,t){if(Fo.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(xo){e:{try{mo(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Mo[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Lo.Z.h.call(this)}}Fo.prototype.h=function(){this.defaultPrevented=!0},Ja(Lo,Fo);var Mo={2:"touch",3:"pen",4:"mouse"};Lo.prototype.h=function(){Lo.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var jo="closure_listenable_"+(1e6*Math.random()|0),Uo=0;function Vo(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Uo,this.ca=this.fa=!1}function zo(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function qo(e){this.src=e,this.g={},this.h=0}function Bo(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=to(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(zo(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Wo(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}qo.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Wo(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Vo(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var Ho="closure_lm_"+(1e6*Math.random()|0),Ko={};function Go(e,t,n,r,i){if(r&&r.once)return Qo(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Go(e,t[a],n,r,i);return null}return n=ns(n),e&&e[jo]?e.N(t,n,Ha(r)?!!r.capture:!!r,i):$o(e,t,n,!1,r,i)}function $o(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Ha(i)?!!i.capture:!!i,s=es(e);if(s||(e[Ho]=s=new qo(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Zo;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Do||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Jo(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Qo(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Qo(e,t[a],n,r,i);return null}return n=ns(n),e&&e[jo]?e.O(t,n,Ha(r)?!!r.capture:!!r,i):$o(e,t,n,!0,r,i)}function Yo(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Yo(e,t[a],n,r,i);else r=Ha(r)?!!r.capture:!!r,n=ns(n),e&&e[jo]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Wo(a=e.g[t],n,r,i))&&(zo(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=es(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Wo(t,n,r,i)),(n=-1<e?t[e]:null)&&Xo(n))}function Xo(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[jo])Bo(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Jo(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=es(t))?(Bo(n,e),0==n.h&&(n.src=null,t[Ho]=null)):zo(e)}}}function Jo(e){return e in Ko?Ko[e]:Ko[e]="on"+e}function Zo(e,t){if(e.ca)e=!0;else{t=new Lo(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Xo(e),e=n.call(r,t)}return e}function es(e){return(e=e[Ho])instanceof qo?e:null}var ts="__closure_events_fn_"+(1e9*Math.random()>>>0);function ns(e){return"function"===typeof e?e:(e[ts]||(e[ts]=function(t){return e.handleEvent(t)}),e[ts])}function rs(){Za.call(this),this.i=new qo(this),this.P=this,this.I=null}function is(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Fo(t,e);else if(t instanceof Fo)t.target=t.target||e;else{var i=t;yo(t=new Fo(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=as(o,r,!0,t)&&i}if(i=as(o=t.g=e,r,!0,t)&&i,i=as(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=as(o=t.g=n[a],r,!1,t)&&i}function as(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var s=o.listener,u=o.ia||o.src;o.fa&&Bo(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Ja(rs,Za),rs.prototype[jo]=!0,rs.prototype.removeEventListener=function(e,t,n,r){Yo(this,e,t,n,r)},rs.prototype.M=function(){if(rs.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)zo(n[r]);delete t.g[e],t.h--}}this.I=null},rs.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},rs.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var os=qa.JSON.stringify;function ss(){var e=vs,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var us,cs=function(){function e(){Q(this,e),this.h=this.g=null}return X(e,[{key:"add",value:function(e,t){var n=ls.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),ls=new(function(){function e(t,n){Q(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return X(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new fs}),(function(e){return e.reset()})),fs=function(){function e(){Q(this,e),this.next=this.g=this.h=null}return X(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function hs(e){qa.setTimeout((function(){throw e}),0)}function ds(e,t){us||function(){var e=qa.Promise.resolve(void 0);us=function(){e.then(ys)}}(),ps||(us(),ps=!0),vs.add(e,t)}var ps=!1,vs=new cs;function ys(){for(var e;e=ss();){try{e.h.call(e.g)}catch(n){hs(n)}var t=ls;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}ps=!1}function ms(e,t){rs.call(this),this.h=e||1,this.g=t||qa,this.j=Ya(this.kb,this),this.l=Date.now()}function gs(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function ks(e,t,n){if("function"===typeof e)n&&(e=Ya(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Ya(e.handleEvent,e)}return 2147483647<Number(t)?-1:qa.setTimeout(e,t||0)}function _s(e){e.g=ks((function(){e.g=null,e.i&&(e.i=!1,_s(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Ja(ms,rs),(ja=ms.prototype).da=!1,ja.S=null,ja.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),is(this,"tick"),this.da&&(gs(this),this.start()))}},ja.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ja.M=function(){ms.Z.M.call(this),gs(this),delete this.g};var bs=function(e){Z(n,e);var t=ae(n);function n(e,r){var i;return Q(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return X(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:_s(this)}},{key:"M",value:function(){Dt(ee(n.prototype),"M",this).call(this),this.g&&(qa.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Za);function ws(e){Za.call(this),this.h=e,this.g={}}Ja(ws,Za);var xs=[];function Es(e,t,n,r){Array.isArray(n)||(n&&(xs[0]=n.toString()),n=xs);for(var i=0;i<n.length;i++){var a=Go(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Ts(e){ho(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Xo(e)}),e),e.g={}}function Cs(){this.g=!0}function Ss(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return os(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}ws.prototype.M=function(){ws.Z.M.call(this),Ts(this)},ws.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Cs.prototype.Aa=function(){this.g=!1},Cs.prototype.info=function(){};var Is={},Ns=null;function As(){return Ns=Ns||new rs}function Rs(e){Fo.call(this,Is.Ma,e)}function Os(e){var t=As();is(t,new Rs(t,e))}function Ps(e,t){Fo.call(this,Is.STAT_EVENT,e),this.stat=t}function Ds(e){var t=As();is(t,new Ps(t,e))}function Fs(e,t){Fo.call(this,Is.Na,e),this.size=t}function Ls(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return qa.setTimeout((function(){e()}),t)}Is.Ma="serverreachability",Ja(Rs,Fo),Is.STAT_EVENT="statevent",Ja(Ps,Fo),Is.Na="timingevent",Ja(Fs,Fo);var Ms={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},js={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Us(){}function Vs(e){return e.h||(e.h=e.i())}function zs(){}Us.prototype.h=null;var qs,Bs={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Ws(){Fo.call(this,"d")}function Hs(){Fo.call(this,"c")}function Ks(){}function Gs(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new ws(this),this.P=Qs,e=wo?125:void 0,this.W=new ms(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new $s}function $s(){this.i=null,this.g="",this.h=!1}Ja(Ws,Fo),Ja(Hs,Fo),Ja(Ks,Us),Ks.prototype.g=function(){return new XMLHttpRequest},Ks.prototype.i=function(){return{}},qs=new Ks;var Qs=45e3,Ys={},Xs={};function Js(e,t,n){e.K=1,e.v=bu(vu(t)),e.s=n,e.U=!0,Zs(e,null)}function Zs(e,t){e.F=Date.now(),ru(e),e.A=vu(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Du(n.h,"t",r),e.C=0,n=e.l.H,e.h=new $s,e.g=Lc(e.l,n?t:null,!e.s),0<e.O&&(e.L=new bs(Ya(e.Ia,e,e.g),e.O)),Es(e.V,e.g,"readystatechange",e.gb),t=e.H?po(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Os(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function eu(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function tu(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=nu(e,n))==Xs){4==t&&(e.o=4,Ds(14),i=!1),Ss(e.j,e.m,null,"[Incomplete Response]");break}if(r==Ys){e.o=4,Ds(15),Ss(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Ss(e.j,e.m,r,null),uu(e,r)}eu(e)&&r!=Xs&&r!=Ys&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Ds(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ic(t),t.L=!0,Ds(11))):(Ss(e.j,e.m,n,"[Invalid Chunked Response]"),su(e),ou(e))}function nu(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Xs:(n=Number(t.substring(n,r)),isNaN(n)?Ys:(r+=1)+n>t.length?Xs:(t=t.substr(r,n),e.C=r+n,t))}function ru(e){e.Y=Date.now()+e.P,iu(e,e.P)}function iu(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ls(Ya(e.eb,e),t)}function au(e){e.B&&(qa.clearTimeout(e.B),e.B=null)}function ou(e){0==e.l.G||e.I||Rc(e.l,e)}function su(e){au(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,gs(e.W),Ts(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function uu(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||qu(n.i,e)))if(n.I=e.N,!e.J&&qu(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Ac(n),kc(n)}Sc(n),Ds(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Ls(Ya(n.ab,n),6e3));if(1>=zu(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else Pc(n,11)}else if((e.J||n.g==e)&&Ac(n),!ao(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var s=a[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(uo(l,"spdy")||uo(l,"quic")||uo(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(Bu(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,_u(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=Fc(r,r.H?r.la:null,r.W),d.J){Wu(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(au(p),ru(p)),r.g=d}else Cc(r);0<n.l.length&&wc(n)}else"stop"!=a[0]&&"close"!=a[0]||Pc(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Pc(n,7):gc(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}Os(4)}catch(a){}}function cu(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Wa(e)||"string"===typeof e)no(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Wa(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(Wa(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function lu(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof lu)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function fu(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];hu(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)hu(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function hu(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(ja=Gs.prototype).setTimeout=function(e){this.P=e},ja.gb=function(e){e=e.target;var t=this.L;t&&3==dc(e)?t.l():this.Ia(e)},ja.Ia=function(e){try{if(e==this.g)e:{var t=dc(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||wo||this.g&&(this.h.h||this.g.ga()||pc(this.g)))){this.I||4!=t||7==n||Os(8==n||0>=r?3:2),au(this);var i=this.g.ba();this.N=i;t:if(eu(this)){var a=pc(this.g);e="";var o=a.length,s=4==dc(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){su(this),ou(this);var u="";break t}this.h.i=new qa.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:s&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ao(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,Ds(12),su(this),ou(this);break e}Ss(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,uu(this,i)}this.U?(tu(this,t,u),wo&&this.i&&3==t&&(Es(this.V,this.W,"tick",this.fb),this.W.start())):(Ss(this.j,this.m,u,null),uu(this,u)),4==t&&su(this),this.i&&!this.I&&(4==t?Rc(this.l,this):(this.i=!1,ru(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,Ds(12)):(this.o=0,Ds(13)),su(this),ou(this)}}}catch(t){}},ja.fb=function(){if(this.g){var e=dc(this.g),t=this.g.ga();this.C<t.length&&(au(this),tu(this,e,t),this.i&&4!=e&&ru(this))}},ja.cancel=function(){this.I=!0,su(this)},ja.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Os(3),Ds(17)),su(this),this.o=2,ou(this)):iu(this,this.Y-e)},(ja=lu.prototype).R=function(){fu(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},ja.T=function(){return fu(this),this.g.concat()},ja.get=function(e,t){return hu(this.h,e)?this.h[e]:t},ja.set=function(e,t){hu(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},ja.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var du=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function pu(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof pu){this.g=void 0!==t?t:e.g,yu(this,e.j),this.s=e.s,mu(this,e.i),gu(this,e.m),this.l=e.l,t=e.h;var n=new Au;n.i=t.i,t.g&&(n.g=new lu(t.g),n.h=t.h),ku(this,n),this.o=e.o}else e&&(n=String(e).match(du))?(this.g=!!t,yu(this,n[1]||"",!0),this.s=wu(n[2]||""),mu(this,n[3]||"",!0),gu(this,n[4]),this.l=wu(n[5]||"",!0),ku(this,n[6]||"",!0),this.o=wu(n[7]||"")):(this.g=!!t,this.h=new Au(null,this.g))}function vu(e){return new pu(e)}function yu(e,t,n){e.j=n?wu(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function mu(e,t,n){e.i=n?wu(t,!0):t}function gu(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function ku(e,t,n){t instanceof Au?(e.h=t,function(e,t){t&&!e.j&&(Ru(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Ou(this,t),Du(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=xu(t,Iu)),e.h=new Au(t,e.g))}function _u(e,t,n){e.h.set(t,n)}function bu(e){return _u(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function wu(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function xu(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Eu),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Eu(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}pu.prototype.toString=function(){var e=[],t=this.j;t&&e.push(xu(t,Tu,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(xu(t,Tu,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(xu(n,"/"==n.charAt(0)?Su:Cu,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",xu(n,Nu)),e.join("")};var Tu=/[#\/\?@]/g,Cu=/[#\?:]/g,Su=/[#\?]/g,Iu=/[#\?@]/g,Nu=/#/g;function Au(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Ru(e){e.g||(e.g=new lu,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Ou(e,t){Ru(e),t=Fu(e,t),hu(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,hu((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&fu(e)))}function Pu(e,t){return Ru(e),t=Fu(e,t),hu(e.g.h,t)}function Du(e,t,n){Ou(e,t),0<n.length&&(e.i=null,e.g.set(Fu(e,t),io(n)),e.h+=n.length)}function Fu(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(ja=Au.prototype).add=function(e,t){Ru(this),this.i=null,e=Fu(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},ja.forEach=function(e,t){Ru(this),this.g.forEach((function(n,r){no(n,(function(n){e.call(t,n,r,this)}),this)}),this)},ja.T=function(){Ru(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},ja.R=function(e){Ru(this);var t=[];if("string"===typeof e)Pu(this,e)&&(t=ro(t,this.g.get(Fu(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=ro(t,e[n])}return t},ja.set=function(e,t){return Ru(this),this.i=null,Pu(this,e=Fu(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},ja.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},ja.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var Lu=X((function e(t,n){Q(this,e),this.h=t,this.g=n}));function Mu(e){this.l=e||Uu,qa.PerformanceNavigationTiming?e=0<(e=qa.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(qa.g&&qa.g.Ea&&qa.g.Ea()&&qa.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var ju,Uu=10;function Vu(e){return!!e.h||!!e.g&&e.g.size>=e.j}function zu(e){return e.h?1:e.g?e.g.size:0}function qu(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Bu(e,t){e.g?e.g.add(t):e.h=t}function Wu(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Hu(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=oe(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return io(e.i)}function Ku(){}function Gu(){this.g=new Ku}function $u(e,t,n){var r=n||"";try{cu(e,(function(e,n){var i=e;Ha(e)&&(i=os(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Qu(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Yu(e){this.l=e.$b||null,this.j=e.ib||!1}function Xu(e,t){rs.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Ju,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Mu.prototype.cancel=function(){if(this.i=Hu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=oe(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Ku.prototype.stringify=function(e){return qa.JSON.stringify(e,void 0)},Ku.prototype.parse=function(e){return qa.JSON.parse(e,void 0)},Ja(Yu,Us),Yu.prototype.g=function(){return new Xu(this.l,this.j)},Yu.prototype.i=(ju={},function(){return ju}),Ja(Xu,rs);var Ju=0;function Zu(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function ec(e){e.readyState=4,e.l=null,e.j=null,e.A=null,tc(e)}function tc(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(ja=Xu.prototype).open=function(e,t){if(this.readyState!=Ju)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,tc(this)},ja.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||qa).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},ja.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ec(this)),this.readyState=Ju},ja.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,tc(this)),this.g&&(this.readyState=3,tc(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof qa.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Zu(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},ja.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?ec(this):tc(this),3==this.readyState&&Zu(this)}},ja.Ua=function(e){this.g&&(this.response=this.responseText=e,ec(this))},ja.Ta=function(e){this.g&&(this.response=e,ec(this))},ja.ha=function(){this.g&&ec(this)},ja.setRequestHeader=function(e,t){this.v.append(e,t)},ja.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},ja.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Xu.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var nc=qa.JSON.parse;function rc(e){rs.call(this),this.headers=new lu,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ic,this.K=this.L=!1}Ja(rc,rs);var ic="",ac=/^https?$/i,oc=["POST","PUT"];function sc(e){return"content-type"==e.toLowerCase()}function uc(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,cc(e),fc(e)}function cc(e){e.D||(e.D=!0,is(e,"complete"),is(e,"error"))}function lc(e){if(e.h&&"undefined"!=typeof za&&(!e.C[1]||4!=dc(e)||2!=e.ba()))if(e.v&&4==dc(e))ks(e.Fa,0,e);else if(is(e,"readystatechange"),4==dc(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(du)[1]||null;if(!a&&qa.self&&qa.self.location){var o=qa.self.location.protocol;a=o.substr(0,o.length-1)}i=!ac.test(a?a.toLowerCase():"")}t=i}if(t)is(e,"complete"),is(e,"success");else{e.m=6;try{var s=2<dc(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.ba()+"]",cc(e)}}finally{fc(e)}}}function fc(e,t){if(e.g){hc(e);var n=e.g,r=e.C[0]?Ba:null;e.g=null,e.C=null,t||is(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function hc(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(qa.clearTimeout(e.A),e.A=null)}function dc(e){return e.g?e.g.readyState:0}function pc(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case ic:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function vc(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return ho(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):_u(e,t,n))}function yc(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function mc(e){this.za=0,this.l=[],this.h=new Cs,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=yc("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=yc("baseRetryDelayMs",5e3,e),this.$a=yc("retryDelaySeedMs",1e4,e),this.Ya=yc("forwardChannelMaxRetries",2,e),this.ra=yc("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Mu(e&&e.concurrentRequestLimit),this.Ca=new Gu,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function gc(e){if(_c(e),3==e.G){var t=e.V++,n=vu(e.F);_u(n,"SID",e.J),_u(n,"RID",t),_u(n,"TYPE","terminate"),Ec(e,n),(t=new Gs(e,e.h,t,void 0)).K=2,t.v=bu(vu(n)),n=!1,qa.navigator&&qa.navigator.sendBeacon&&(n=qa.navigator.sendBeacon(t.v.toString(),"")),!n&&qa.Image&&((new Image).src=t.v,n=!0),n||(t.g=Lc(t.l,null),t.g.ea(t.v)),t.F=Date.now(),ru(t)}Dc(e)}function kc(e){e.g&&(Ic(e),e.g.cancel(),e.g=null)}function _c(e){kc(e),e.u&&(qa.clearTimeout(e.u),e.u=null),Ac(e),e.i.cancel(),e.m&&("number"===typeof e.m&&qa.clearTimeout(e.m),e.m=null)}function bc(e,t){e.l.push(new Lu(e.Za++,t)),3==e.G&&wc(e)}function wc(e){Vu(e.i)||e.m||(e.m=!0,ds(e.Ha,e),e.C=0)}function xc(e,t){var n;n=t?t.m:e.V++;var r=vu(e.F);_u(r,"SID",e.J),_u(r,"RID",n),_u(r,"AID",e.U),Ec(e,r),e.o&&e.s&&vc(r,e.o,e.s),n=new Gs(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Tc(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Bu(e.i,n),Js(n,r,t)}function Ec(e,t){e.j&&cu({},(function(e,n){_u(t,n,e)}))}function Tc(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Ya(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{$u(l,o,"req"+c+"_")}catch(dl){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Cc(e){e.g||e.u||(e.Y=1,ds(e.Ga,e),e.A=0)}function Sc(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Ls(Ya(e.Ga,e),Oc(e,e.A)),e.A++,!0)}function Ic(e){null!=e.B&&(qa.clearTimeout(e.B),e.B=null)}function Nc(e){e.g=new Gs(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=vu(e.oa);_u(t,"RID","rpc"),_u(t,"SID",e.J),_u(t,"CI",e.N?"0":"1"),_u(t,"AID",e.U),Ec(e,t),_u(t,"TYPE","xmlhttp"),e.o&&e.s&&vc(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=bu(vu(t)),n.s=null,n.U=!0,Zs(n,e)}function Ac(e){null!=e.v&&(qa.clearTimeout(e.v),e.v=null)}function Rc(e,t){var n=null;if(e.g==t){Ac(e),Ic(e),e.g=null;var r=2}else{if(!qu(e.i,t))return;n=t.D,Wu(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;is(r=As(),new Fs(r,n,t,i)),wc(e)}else Cc(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(zu(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Ls(Ya(e.Ha,e,t),Oc(e,e.C)),e.C++,!0))}(e,t)||2==r&&Sc(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Pc(e,5);break;case 4:Pc(e,10);break;case 3:Pc(e,6);break;default:Pc(e,2)}}function Oc(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Pc(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Ya(e.jb,e);n||(n=new pu("//www.google.com/images/cleardot.gif"),qa.location&&"http"==qa.location.protocol||yu(n,"https"),bu(n)),function(e,t){var n=new Cs;if(qa.Image){var r=new Image;r.onload=Xa(Qu,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Xa(Qu,n,r,"TestLoadImage: error",!1,t),r.onabort=Xa(Qu,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Xa(Qu,n,r,"TestLoadImage: timeout",!1,t),qa.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Ds(2);e.G=0,e.j&&e.j.va(t),Dc(e),_c(e)}function Dc(e){e.G=0,e.I=-1,e.j&&(0==Hu(e.i).length&&0==e.l.length||(e.i.i.length=0,io(e.l),e.l.length=0),e.j.ua())}function Fc(e,t,n){var r=function(e){return e instanceof pu?vu(e):new pu(e,void 0)}(n);if(""!=r.i)t&&mu(r,t+"."+r.i),gu(r,r.m);else{var i=qa.location;r=function(e,t,n,r){var i=new pu(null,void 0);return e&&yu(i,e),t&&mu(i,t),n&&gu(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&ho(e.aa,(function(e,t){_u(r,t,e)})),t=e.D,n=e.sa,t&&n&&_u(r,t,n),_u(r,"VER",e.ma),Ec(e,r),r}function Lc(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new rc(new Yu({ib:!0})):new rc(e.qa)).L=e.H,t}function Mc(){}function jc(){if(_o&&!(10<=Number(Po)))throw Error("Environmental error: no available transport.")}function Uc(e,t){rs.call(this),this.g=new mc(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!ao(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!ao(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new qc(this)}function Vc(e){Ws.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function zc(){Hs.call(this),this.status=1}function qc(e){this.g=e}(ja=rc.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():qs.g(),this.C=this.u?Vs(this.u):Vs(qs),this.g.onreadystatechange=Ya(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void uc(this,a)}e=n||"";var i=new lu(this.headers);r&&cu(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=sc,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=qa.FormData&&e instanceof qa.FormData,!(0<=to(oc,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{hc(this),0<this.B&&((this.K=function(e){return _o&&Ro()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ya(this.pa,this)):this.A=ks(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){uc(this,a)}},ja.pa=function(){"undefined"!=typeof za&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,is(this,"timeout"),this.abort(8))},ja.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,is(this,"complete"),is(this,"abort"),fc(this))},ja.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),fc(this,!0)),rc.Z.M.call(this)},ja.Fa=function(){this.s||(this.F||this.v||this.l?lc(this):this.cb())},ja.cb=function(){lc(this)},ja.ba=function(){try{return 2<dc(this)?this.g.status:-1}catch(ju){return-1}},ja.ga=function(){try{return this.g?this.g.responseText:""}catch(ju){return""}},ja.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),nc(t)}},ja.Da=function(){return this.m},ja.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(ja=mc.prototype).ma=8,ja.G=1,ja.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},ja.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Gs(this,this.h,e,void 0),n=this.s;if(this.P&&(n?yo(n=po(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Tc(this,t,r),_u(i=vu(this.F),"RID",e),_u(i,"CVER",22),this.D&&_u(i,"X-HTTP-Session-Id",this.D),Ec(this,i),this.o&&n&&vc(i,this.o,n),Bu(this.i,t),this.Ra&&_u(i,"TYPE","init"),this.ja?(_u(i,"$req",r),_u(i,"SID","null"),t.$=!0,Js(t,i,null)):Js(t,i,r),this.G=2}}else 3==this.G&&(e?xc(this,e):0==this.l.length||Vu(this.i)||xc(this))},ja.Ga=function(){if(this.u=null,Nc(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Ls(Ya(this.bb,this),e)}},ja.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ds(10),kc(this),Nc(this))},ja.ab=function(){null!=this.v&&(this.v=null,kc(this),Sc(this),Ds(19))},ja.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Ds(2)):(this.h.info("Failed to ping google.com"),Ds(1))},(ja=Mc.prototype).xa=function(){},ja.wa=function(){},ja.va=function(){},ja.ua=function(){},ja.Oa=function(){},jc.prototype.g=function(e,t){return new Uc(e,t)},Ja(Uc,rs),Uc.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),ds(Ya(e.hb,e,t))),Ds(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Fc(e,null,e.W),wc(e)},Uc.prototype.close=function(){gc(this.g)},Uc.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,bc(this.g,t)}else this.v?((t={}).__data__=os(e),bc(this.g,t)):bc(this.g,e)},Uc.prototype.M=function(){this.g.j=null,delete this.j,gc(this.g),delete this.g,Uc.Z.M.call(this)},Ja(Vc,Ws),Ja(zc,Hs),Ja(qc,Mc),qc.prototype.xa=function(){is(this.g,"a")},qc.prototype.wa=function(e){is(this.g,new Vc(e))},qc.prototype.va=function(e){is(this.g,new zc(e))},qc.prototype.ua=function(){is(this.g,"b")},jc.prototype.createWebChannel=jc.prototype.g,Uc.prototype.send=Uc.prototype.u,Uc.prototype.open=Uc.prototype.m,Uc.prototype.close=Uc.prototype.close,Ms.NO_ERROR=0,Ms.TIMEOUT=8,Ms.HTTP_ERROR=6,js.COMPLETE="complete",zs.EventType=Bs,Bs.OPEN="a",Bs.CLOSE="b",Bs.ERROR="c",Bs.MESSAGE="d",rs.prototype.listen=rs.prototype.N,rc.prototype.listenOnce=rc.prototype.O,rc.prototype.getLastError=rc.prototype.La,rc.prototype.getLastErrorCode=rc.prototype.Da,rc.prototype.getStatus=rc.prototype.ba,rc.prototype.getResponseJson=rc.prototype.Qa,rc.prototype.getResponseText=rc.prototype.ga,rc.prototype.send=rc.prototype.ea;var Bc=Va.createWebChannelTransport=function(){return new jc},Wc=Va.getStatEventTarget=function(){return As()},Hc=Va.ErrorCode=Ms,Kc=Va.EventType=js,Gc=Va.Event=Is,$c=Va.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Qc=Va.FetchXmlHttpFactory=Yu,Yc=Va.WebChannel=zs,Xc=Va.XhrIo=rc,Jc="@firebase/firestore",Zc=function(){function e(t){Q(this,e),this.uid=t}return X(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Zc.UNAUTHENTICATED=new Zc(null),Zc.GOOGLE_CREDENTIALS=new Zc("google-credentials-uid"),Zc.FIRST_PARTY=new Zc("first-party-uid"),Zc.MOCK_USER=new Zc("mock-user");var el="9.6.5",tl=new pt("@firebase/firestore");function nl(){return tl.logLevel}function rl(e){if(tl.logLevel<=at.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(ol);tl.debug.apply(tl,["Firestore (".concat(el,"): ").concat(e)].concat(le(i)))}}function il(e){if(tl.logLevel<=at.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(ol);tl.error.apply(tl,["Firestore (".concat(el,"): ").concat(e)].concat(le(i)))}}function al(e){if(tl.logLevel<=at.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(ol);tl.warn.apply(tl,["Firestore (".concat(el,"): ").concat(e)].concat(le(i)))}}function ol(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function sl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(el,") INTERNAL ASSERTION FAILED: ")+e;throw il(t),new Error(t)}function ul(e,t){e||sl()}function cl(e,t){return e}var ll={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},fl=function(e){Z(n,e);var t=ae(n);function n(e,r){var i;return Q(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return X(n)}(Pe),hl=X((function e(){var t=this;Q(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),dl=X((function e(t,n){Q(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),pl=function(){function e(){Q(this,e)}return X(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Zc.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),vl=function(){function e(t){Q(this,e),this.t=t,this.currentUser=Zc.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return X(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new hl;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new hl,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(he(ce().mark((function e(){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){rl("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(rl("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new hl)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(rl("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(ul("string"==typeof n.accessToken),new dl(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return ul(null===e||"string"==typeof e),new Zc(e)}}]),e}(),yl=X((function e(t,n,r){Q(this,e),this.type="FirstParty",this.user=Zc.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),ml=function(){function e(t,n,r){Q(this,e),this.h=t,this.l=n,this.m=r}return X(e,[{key:"getToken",value:function(){return Promise.resolve(new yl(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Zc.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),gl=X((function e(t){Q(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),kl=function(){function e(t){Q(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null}return X(e,[{key:"start",value:function(e,t){var n=this;this.o=function(n){e.enqueueRetryable((function(){return function(e){return null!=e.error&&rl("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message)),t(e.token)}(n)}))};var r=function(e){rl("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return r(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?r(e):rl("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((function(e){return e?(ul("string"==typeof e.token),new gl(e.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),_l=function(){function e(t,n){var r=this;Q(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.p(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return X(e,[{key:"p",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function bl(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}_l.I=-1;var wl=function(){function e(){Q(this,e)}return X(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=bl(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function xl(e,t){return e<t?-1:e>t?1:0}function El(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}var Tl=function(){function e(t,n){if(Q(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new fl(ll.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fl(ll.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new fl(ll.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new fl(ll.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return X(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?xl(this.nanoseconds,e.nanoseconds):xl(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Cl=function(){function e(t){Q(this,e),this.timestamp=t}return X(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Tl(0,0))}}]),e}();function Sl(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Il(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Nl(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Al=function(){function e(t,n,r){Q(this,e),void 0===n?n=0:n>t.length&&sl(),void 0===r?r=t.length-n:r>t.length-n&&sl(),this.segments=t,this.offset=n,this.len=r}return X(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Rl=function(e){Z(n,e);var t=ae(n);function n(){return Q(this,n),t.apply(this,arguments)}return X(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new fl(ll.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,le(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Al),Ol=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Pl=function(e){Z(n,e);var t=ae(n);function n(){return Q(this,n),t.apply(this,arguments)}return X(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Ol.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new fl(ll.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new fl(ll.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new fl(ll.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new fl(ll.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Al),Dl=function(){function e(t){Q(this,e),this.fields=t,t.sort(Pl.comparator)}return X(e,[{key:"covers",value:function(e){var t,n=oe(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return El(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var Fl=function(e){function t(e){Q(this,t),this.binaryString=e}return X(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return xl(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Fl.EMPTY_BYTE_STRING=new Fl("");var Ll=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ml(e){if(ul(!!e),"string"==typeof e){var t=0,n=Ll.exec(e);if(ul(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:jl(e.seconds),nanos:jl(e.nanos)}}function jl(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Ul(e){return"string"==typeof e?Fl.fromBase64String(e):Fl.fromUint8Array(e)}function Vl(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function zl(e){var t=e.mapValue.fields.__previous_value__;return Vl(t)?zl(t):t}function ql(e){var t=Ml(e.mapValue.fields.__local_write_time__.timestampValue);return new Tl(t.seconds,t.nanos)}function Bl(e){return null==e}function Wl(e){return 0===e&&1/e==-1/0}function Hl(e){return"number"==typeof e&&Number.isInteger(e)&&!Wl(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Kl=function(){function e(t){Q(this,e),this.path=t}return X(e,[{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"isEqual",value:function(e){return null!==e&&0===Rl.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Rl.fromString(t))}},{key:"fromName",value:function(t){return new e(Rl.fromString(t).popFirst(5))}},{key:"comparator",value:function(e,t){return Rl.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Rl(t.slice()))}}]),e}();function Gl(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Vl(e)?4:10:sl()}function $l(e,t){if(e===t)return!0;var n=Gl(e);if(n!==Gl(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ql(e).isEqual(ql(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Ml(e.timestampValue),r=Ml(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Ul(e.bytesValue).isEqual(Ul(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return jl(e.geoPointValue.latitude)===jl(t.geoPointValue.latitude)&&jl(e.geoPointValue.longitude)===jl(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return jl(e.integerValue)===jl(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=jl(e.doubleValue),r=jl(t.doubleValue);return n===r?Wl(n)===Wl(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return El(e.arrayValue.values||[],t.arrayValue.values||[],$l);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Sl(n)!==Sl(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!$l(n[i],r[i])))return!1;return!0}(e,t);default:return sl()}}function Ql(e,t){return void 0!==(e.values||[]).find((function(e){return $l(e,t)}))}function Yl(e,t){if(e===t)return 0;var n=Gl(e),r=Gl(t);if(n!==r)return xl(n,r);switch(n){case 0:return 0;case 1:return xl(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=jl(e.integerValue||e.doubleValue),r=jl(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Xl(e.timestampValue,t.timestampValue);case 4:return Xl(ql(e),ql(t));case 5:return xl(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Ul(e),r=Ul(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=xl(n[i],r[i]);if(0!==a)return a}return xl(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=xl(jl(e.latitude),jl(t.latitude));return 0!==n?n:xl(jl(e.longitude),jl(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Yl(n[i],r[i]);if(a)return a}return xl(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=xl(r[o],a[o]);if(0!==s)return s;var u=Yl(n[r[o]],i[a[o]]);if(0!==u)return u}return xl(r.length,a.length)}(e.mapValue,t.mapValue);default:throw sl()}}function Xl(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return xl(e,t);var n=Ml(e),r=Ml(t),i=xl(n.seconds,r.seconds);return 0!==i?i:xl(n.nanos,r.nanos)}function Jl(e){return Zl(e)}function Zl(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Ml(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Ul(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Kl.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=oe(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Zl(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=oe(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Zl(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):sl();var t,n}function ef(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function tf(e){return!!e&&"integerValue"in e}function nf(e){return!!e&&"arrayValue"in e}function rf(e){return!!e&&"nullValue"in e}function af(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function of(e){return!!e&&"mapValue"in e}function sf(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Il(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=sf(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=sf(e.arrayValue.values[r]);return n}return Object.assign({},e)}var uf=function(){function e(t){Q(this,e),this.value=t}return X(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!of(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=sf(t)}},{key:"setAll",value:function(e){var t=this,n=Pl.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=sf(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());of(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return $l(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];of(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Il(t,(function(t,n){return e[t]=n}));var r,i=oe(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(sf(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function cf(e){var t=[];return Il(e.fields,(function(e,n){var r=new Pl([e]);if(of(n)){var i=cf(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=oe(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new Dl(t)}var lf=function(){function e(t,n,r,i,a){Q(this,e),this.key=t,this.documentType=n,this.version=r,this.data=i,this.documentState=a}return X(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=uf.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=uf.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Cl.min(),uf.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,uf.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,uf.empty(),2)}}]),e}(),ff=X((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Q(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.R=null}));function hf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new ff(e,t,n,r,i,a,o)}function df(e){var t=cl(e);if(null===t.R){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+Jl(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Bl(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Cf(t.startAt)),t.endAt&&(n+="|ub:",n+=Cf(t.endAt)),t.R=n}return t.R}function pf(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!If(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!$l(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Af(e.startAt,t.startAt)&&Af(e.endAt,t.endAt)}function vf(e){return Kl.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var yf=function(e){Z(n,e);var t=ae(n);function n(e,r,i){var a;return Q(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return X(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Yl(t,this.value)):null!==t&&Gl(this.value)===Gl(t)&&this.v(Yl(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return sl()}}},{key:"V",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,r):new mf(e,t,r):"array-contains"===t?new bf(e,r):"in"===t?new wf(e,r):"not-in"===t?new xf(e,r):"array-contains-any"===t?new Ef(e,r):new n(e,t,r)}},{key:"P",value:function(e,t,n){return"in"===t?new gf(e,n):new kf(e,n)}}]),n}(function(){return X((function e(){Q(this,e)}))}());var mf=function(e){Z(n,e);var t=ae(n);function n(e,r,i){var a;return Q(this,n),(a=t.call(this,e,r,i)).key=Kl.fromName(i.referenceValue),a}return X(n,[{key:"matches",value:function(e){var t=Kl.comparator(e.key,this.key);return this.v(t)}}]),n}(yf),gf=function(e){Z(n,e);var t=ae(n);function n(e,r){var i;return Q(this,n),(i=t.call(this,e,"in",r)).keys=_f("in",r),i}return X(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(yf),kf=function(e){Z(n,e);var t=ae(n);function n(e,r){var i;return Q(this,n),(i=t.call(this,e,"not-in",r)).keys=_f("not-in",r),i}return X(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(yf);function _f(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Kl.fromName(e.referenceValue)}))}var bf=function(e){Z(n,e);var t=ae(n);function n(e,r){return Q(this,n),t.call(this,e,"array-contains",r)}return X(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return nf(t)&&Ql(t.arrayValue,this.value)}}]),n}(yf),wf=function(e){Z(n,e);var t=ae(n);function n(e,r){return Q(this,n),t.call(this,e,"in",r)}return X(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Ql(this.value.arrayValue,t)}}]),n}(yf),xf=function(e){Z(n,e);var t=ae(n);function n(e,r){return Q(this,n),t.call(this,e,"not-in",r)}return X(n,[{key:"matches",value:function(e){if(Ql(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Ql(this.value.arrayValue,t)}}]),n}(yf),Ef=function(e){Z(n,e);var t=ae(n);function n(e,r){return Q(this,n),t.call(this,e,"array-contains-any",r)}return X(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!nf(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Ql(t.value.arrayValue,e)}))}}]),n}(yf),Tf=X((function e(t,n){Q(this,e),this.position=t,this.before=n}));function Cf(e){return"".concat(e.before?"b":"a",":").concat(e.position.map((function(e){return Jl(e)})).join(","))}var Sf=X((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Q(this,e),this.field=t,this.dir=n}));function If(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Nf(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Kl.comparator(Kl.fromName(o.referenceValue),n.key):Yl(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function Af(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!$l(e.position[n],t.position[n]))return!1;return!0}var Rf=X((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Q(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.S=null,this.D=null,this.startAt,this.endAt}));function Of(e,t,n,r,i,a,o,s){return new Rf(e,t,n,r,i,a,o,s)}function Pf(e){return new Rf(e)}function Df(e){return!Bl(e.limit)&&"F"===e.limitType}function Ff(e){return!Bl(e.limit)&&"L"===e.limitType}function Lf(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Mf(e){var t,n=oe(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.V())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function jf(e){return null!==e.collectionGroup}function Uf(e){var t=cl(e);if(null===t.S){t.S=[];var n=Mf(t),r=Lf(t);if(null!==n&&null===r)n.isKeyField()||t.S.push(new Sf(n)),t.S.push(new Sf(Pl.keyField(),"asc"));else{var i,a=!1,o=oe(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.S.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.S.push(new Sf(Pl.keyField(),u))}}}return t.S}function Vf(e){var t=cl(e);if(!t.D)if("F"===t.limitType)t.D=hf(t.path,t.collectionGroup,Uf(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=oe(Uf(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Sf(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new Tf(t.endAt.position,!t.endAt.before):null,u=t.startAt?new Tf(t.startAt.position,!t.startAt.before):null;t.D=hf(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t.D}function zf(e,t,n){return new Rf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function qf(e,t){return pf(Vf(e),Vf(t))&&e.limitType===t.limitType}function Bf(e){return"".concat(df(Vf(e)),"|lt:").concat(e.limitType)}function Wf(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Jl(t.value));var t})).join(", "),"]")),Bl(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: "+Cf(e.startAt)),e.endAt&&(t+=", endAt: "+Cf(e.endAt)),"Target(".concat(t,")")}(Vf(e)),"; limitType=").concat(e.limitType,")")}function Hf(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Kl.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=oe(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=oe(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!Nf(e.startAt,Uf(e),t))&&(!e.endAt||!Nf(e.endAt,Uf(e),t))}(e,t)}function Kf(e){return function(t,n){var r,i=!1,a=oe(Uf(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=Gf(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function Gf(e,t,n){var r=e.field.isKeyField()?Kl.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Yl(r,i):sl()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return sl()}}function $f(e,t){if(e.C){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wl(t)?"-0":t}}function Qf(e){return{integerValue:""+e}}function Yf(e,t){return Hl(t)?Qf(t):$f(e,t)}var Xf=X((function e(){Q(this,e),this._=void 0}));function Jf(e,t,n){return e instanceof th?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof nh?rh(e,t):e instanceof ih?ah(e,t):function(e,t){var n=eh(e,t),r=sh(n)+sh(e.N);return tf(n)&&tf(e.N)?Qf(r):$f(e.k,r)}(e,t)}function Zf(e,t,n){return e instanceof nh?rh(e,t):e instanceof ih?ah(e,t):n}function eh(e,t){return e instanceof oh?tf(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var th=function(e){Z(n,e);var t=ae(n);function n(){return Q(this,n),t.apply(this,arguments)}return X(n)}(Xf),nh=function(e){Z(n,e);var t=ae(n);function n(e){var r;return Q(this,n),(r=t.call(this)).elements=e,r}return X(n)}(Xf);function rh(e,t){var n,r=uh(t),i=oe(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return $l(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var ih=function(e){Z(n,e);var t=ae(n);function n(e){var r;return Q(this,n),(r=t.call(this)).elements=e,r}return X(n)}(Xf);function ah(e,t){var n,r=uh(t),i=oe(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!$l(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var oh=function(e){Z(n,e);var t=ae(n);function n(e,r){var i;return Q(this,n),(i=t.call(this)).k=e,i.N=r,i}return X(n)}(Xf);function sh(e){return jl(e.integerValue||e.doubleValue)}function uh(e){return nf(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var ch=X((function e(t,n){Q(this,e),this.field=t,this.transform=n}));var lh=X((function e(t,n){Q(this,e),this.version=t,this.transformResults=n})),fh=function(){function e(t,n){Q(this,e),this.updateTime=t,this.exists=n}return X(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function hh(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var dh=X((function e(){Q(this,e)}));function ph(e,t,n){e instanceof kh?function(e,t,n){var r=e.value.clone(),i=wh(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof _h?function(e,t,n){if(hh(e.precondition,t)){var r=wh(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(bh(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function vh(e,t,n){e instanceof kh?function(e,t,n){if(hh(e.precondition,t)){var r=e.value.clone(),i=xh(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(gh(t),r).setHasLocalMutations()}}(e,t,n):e instanceof _h?function(e,t,n){if(hh(e.precondition,t)){var r=xh(e.fieldTransforms,n,t),i=t.data;i.setAll(bh(e)),i.setAll(r),t.convertToFoundDocument(gh(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){hh(e.precondition,t)&&t.convertToNoDocument(Cl.min())}(e,t)}function yh(e,t){var n,r=null,i=oe(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=eh(a.transform,o||null);null!=s&&(null==r&&(r=uf.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function mh(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&El(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof nh&&t instanceof nh||e instanceof ih&&t instanceof ih?El(e.elements,t.elements,$l):e instanceof oh&&t instanceof oh?$l(e.N,t.N):e instanceof th&&t instanceof th}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function gh(e){return e.isFoundDocument()?e.version:Cl.min()}var kh=function(e){Z(n,e);var t=ae(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Q(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return X(n)}(dh),_h=function(e){Z(n,e);var t=ae(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Q(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return X(n)}(dh);function bh(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function wh(e,t,n){var r=new Map;ul(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,Zf(o,s,n[i]))}return r}function xh(e,t,n){var r,i=new Map,a=oe(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,Jf(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Eh,Th,Ch=function(e){Z(n,e);var t=ae(n);function n(e,r){var i;return Q(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return X(n)}(dh),Sh=function(e){Z(n,e);var t=ae(n);function n(e,r){var i;return Q(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return X(n)}(dh),Ih=X((function e(t){Q(this,e),this.count=t}));function Nh(e){switch(e){default:return sl();case ll.CANCELLED:case ll.UNKNOWN:case ll.DEADLINE_EXCEEDED:case ll.RESOURCE_EXHAUSTED:case ll.INTERNAL:case ll.UNAVAILABLE:case ll.UNAUTHENTICATED:return!1;case ll.INVALID_ARGUMENT:case ll.NOT_FOUND:case ll.ALREADY_EXISTS:case ll.PERMISSION_DENIED:case ll.FAILED_PRECONDITION:case ll.ABORTED:case ll.OUT_OF_RANGE:case ll.UNIMPLEMENTED:case ll.DATA_LOSS:return!0}}function Ah(e){if(void 0===e)return il("GRPC error has no .code"),ll.UNKNOWN;switch(e){case Eh.OK:return ll.OK;case Eh.CANCELLED:return ll.CANCELLED;case Eh.UNKNOWN:return ll.UNKNOWN;case Eh.DEADLINE_EXCEEDED:return ll.DEADLINE_EXCEEDED;case Eh.RESOURCE_EXHAUSTED:return ll.RESOURCE_EXHAUSTED;case Eh.INTERNAL:return ll.INTERNAL;case Eh.UNAVAILABLE:return ll.UNAVAILABLE;case Eh.UNAUTHENTICATED:return ll.UNAUTHENTICATED;case Eh.INVALID_ARGUMENT:return ll.INVALID_ARGUMENT;case Eh.NOT_FOUND:return ll.NOT_FOUND;case Eh.ALREADY_EXISTS:return ll.ALREADY_EXISTS;case Eh.PERMISSION_DENIED:return ll.PERMISSION_DENIED;case Eh.FAILED_PRECONDITION:return ll.FAILED_PRECONDITION;case Eh.ABORTED:return ll.ABORTED;case Eh.OUT_OF_RANGE:return ll.OUT_OF_RANGE;case Eh.UNIMPLEMENTED:return ll.UNIMPLEMENTED;case Eh.DATA_LOSS:return ll.DATA_LOSS;default:return sl()}}(Th=Eh||(Eh={}))[Th.OK=0]="OK",Th[Th.CANCELLED=1]="CANCELLED",Th[Th.UNKNOWN=2]="UNKNOWN",Th[Th.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Th[Th.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Th[Th.NOT_FOUND=5]="NOT_FOUND",Th[Th.ALREADY_EXISTS=6]="ALREADY_EXISTS",Th[Th.PERMISSION_DENIED=7]="PERMISSION_DENIED",Th[Th.UNAUTHENTICATED=16]="UNAUTHENTICATED",Th[Th.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Th[Th.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Th[Th.ABORTED=10]="ABORTED",Th[Th.OUT_OF_RANGE=11]="OUT_OF_RANGE",Th[Th.UNIMPLEMENTED=12]="UNIMPLEMENTED",Th[Th.INTERNAL=13]="INTERNAL",Th[Th.UNAVAILABLE=14]="UNAVAILABLE",Th[Th.DATA_LOSS=15]="DATA_LOSS";var Rh=function(){function e(t,n){Q(this,e),this.comparator=t,this.root=n||Ph.EMPTY}return X(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ph.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ph.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Oh(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Oh(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Oh(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Oh(this.root,e,this.comparator,!0)}}]),e}(),Oh=function(){function e(t,n,r,i){Q(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return X(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Ph=function(){function e(t,n,r,i,a){Q(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return X(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw sl();if(this.right.isRed())throw sl();var e=this.left.check();if(e!==this.right.check())throw sl();return e+(this.isRed()?0:1)}}]),e}();Ph.EMPTY=null,Ph.RED=!0,Ph.BLACK=!1,Ph.EMPTY=new(function(){function e(){Q(this,e),this.size=0}return X(e,[{key:"key",get:function(){throw sl()}},{key:"value",get:function(){throw sl()}},{key:"color",get:function(){throw sl()}},{key:"left",get:function(){throw sl()}},{key:"right",get:function(){throw sl()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Ph(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Dh=function(){function e(t){Q(this,e),this.comparator=t,this.data=new Rh(this.comparator)}return X(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Fh(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Fh(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Fh=function(){function e(t){Q(this,e),this.iter=t}return X(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}(),Lh=new Rh(Kl.comparator);function Mh(){return Lh}var jh=new Rh(Kl.comparator);function Uh(){return jh}var Vh=new Rh(Kl.comparator);function zh(){return Vh}var qh=new Dh(Kl.comparator);function Bh(){for(var e=qh,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Wh=new Dh(xl);function Hh(){return Wh}var Kh=function(){function e(t,n,r,i,a){Q(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return X(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,Gh.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Cl.min(),r,Hh(),Mh(),Bh())}}]),e}(),Gh=function(){function e(t,n,r,i,a){Q(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return X(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(Fl.EMPTY_BYTE_STRING,n,Bh(),Bh(),Bh())}}]),e}(),$h=X((function e(t,n,r,i){Q(this,e),this.$=t,this.removedTargetIds=n,this.key=r,this.O=i})),Qh=X((function e(t,n){Q(this,e),this.targetId=t,this.M=n})),Yh=X((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Fl.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Q(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Xh=function(){function e(){Q(this,e),this.F=0,this.L=ed(),this.B=Fl.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}return X(e,[{key:"current",get:function(){return this.U}},{key:"resumeToken",get:function(){return this.B}},{key:"K",get:function(){return 0!==this.F}},{key:"j",get:function(){return this.q}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}},{key:"G",value:function(){var e=Bh(),t=Bh(),n=Bh();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:sl()}})),new Gh(this.B,this.U,e,t,n)}},{key:"H",value:function(){this.q=!1,this.L=ed()}},{key:"J",value:function(e,t){this.q=!0,this.L=this.L.insert(e,t)}},{key:"Y",value:function(e){this.q=!0,this.L=this.L.remove(e)}},{key:"X",value:function(){this.F+=1}},{key:"Z",value:function(){this.F-=1}},{key:"tt",value:function(){this.q=!0,this.U=!0}}]),e}(),Jh=function(){function e(t){Q(this,e),this.et=t,this.nt=new Map,this.st=Mh(),this.it=Zh(),this.rt=new Dh(xl)}return X(e,[{key:"ot",value:function(e){var t,n=oe(e.$);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.O&&e.O.isFoundDocument()?this.ct(r,e.O):this.at(r,e.key,e.O)}}catch(s){n.e(s)}finally{n.f()}var i,a=oe(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.at(o,e.key,e.O)}}catch(s){a.e(s)}finally{a.f()}}},{key:"ut",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.ht(n);switch(e.state){case 0:t.lt(n)&&r.W(e.resumeToken);break;case 1:r.Z(),r.K||r.H(),r.W(e.resumeToken);break;case 2:r.Z(),r.K||t.removeTarget(n);break;case 3:t.lt(n)&&(r.tt(),r.W(e.resumeToken));break;case 4:t.lt(n)&&(t.ft(n),r.W(e.resumeToken));break;default:sl()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach((function(e,r){n.lt(r)&&t(r)}))}},{key:"dt",value:function(e){var t=e.targetId,n=e.M.count,r=this.wt(t);if(r){var i=r.target;if(vf(i))if(0===n){var a=new Kl(i.path);this.at(t,a,lf.newNoDocument(a,Cl.min()))}else ul(1===n);else this._t(t)!==n&&(this.ft(t),this.rt=this.rt.add(t))}}},{key:"gt",value:function(e){var t=this,n=new Map;this.nt.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&vf(a.target)){var o=new Kl(a.target.path);null!==t.st.get(o)||t.yt(i,o)||t.at(i,o,lf.newNoDocument(o,e))}r.j&&(n.set(i,r.G()),r.H())}}));var r=Bh();this.it.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new Kh(e,n,this.rt,this.st,r);return this.st=Mh(),this.it=Zh(),this.rt=new Dh(xl),i}},{key:"ct",value:function(e,t){if(this.lt(e)){var n=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,n),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}}},{key:"at",value:function(e,t,n){if(this.lt(e)){var r=this.ht(e);this.yt(e,t)?r.J(t,1):r.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),n&&(this.st=this.st.insert(t,n))}}},{key:"removeTarget",value:function(e){this.nt.delete(e)}},{key:"_t",value:function(e){var t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"X",value:function(e){this.ht(e).X()}},{key:"ht",value:function(e){var t=this.nt.get(e);return t||(t=new Xh,this.nt.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.it.get(e);return t||(t=new Dh(xl),this.it=this.it.insert(e,t)),t}},{key:"lt",value:function(e){var t=null!==this.wt(e);return t||rl("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}},{key:"ft",value:function(e){var t=this;this.nt.set(e,new Xh),this.et.getRemoteKeysForTarget(e).forEach((function(n){t.at(e,n,null)}))}},{key:"yt",value:function(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}]),e}();function Zh(){return new Rh(Kl.comparator)}function ed(){return new Rh(Kl.comparator)}var td={asc:"ASCENDING",desc:"DESCENDING"},nd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rd=X((function e(t,n){Q(this,e),this.databaseId=t,this.C=n}));function id(e,t){return e.C?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function ad(e,t){return e.C?t.toBase64():t.toUint8Array()}function od(e,t){return id(e,t.toTimestamp())}function sd(e){return ul(!!e),Cl.fromTimestamp(function(e){var t=Ml(e);return new Tl(t.seconds,t.nanos)}(e))}function ud(e,t){return function(e){return new Rl(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function cd(e){var t=Rl.fromString(e);return ul(Rd(t)),t}function ld(e,t){return ud(e.databaseId,t.path)}function fd(e,t){var n=cd(t);if(n.get(1)!==e.databaseId.projectId)throw new fl(ll.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new fl(ll.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Kl(vd(n))}function hd(e,t){return ud(e.databaseId,t)}function dd(e){var t=cd(e);return 4===t.length?Rl.emptyPath():vd(t)}function pd(e){return new Rl(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function vd(e){return ul(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function yd(e,t,n){return{name:ld(e,t),fields:n.value.mapValue.fields}}function md(e,t){var n;if(t instanceof kh)n={update:yd(e,t.key,t.value)};else if(t instanceof Ch)n={delete:ld(e,t.key)};else if(t instanceof _h)n={update:yd(e,t.key,t.data),updateMask:Ad(t.fieldMask)};else{if(!(t instanceof Sh))return sl();n={verify:ld(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof th)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof nh)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof ih)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof oh)return{fieldPath:t.field.canonicalString(),increment:n.N};throw sl()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:od(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:sl()}(e,t.precondition)),n}function gd(e,t){return{documents:[hd(e,t.path)]}}function kd(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=hd(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=hd(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(af(e.value))return{unaryFilter:{field:Cd(e.field),op:"IS_NAN"}};if(rf(e.value))return{unaryFilter:{field:Cd(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(af(e.value))return{unaryFilter:{field:Cd(e.field),op:"IS_NOT_NAN"}};if(rf(e.value))return{unaryFilter:{field:Cd(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cd(e.field),op:Td(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Cd(e.field),direction:Ed(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o=function(e,t){return e.C||Bl(t)?t:{value:t}}(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=wd(t.startAt)),t.endAt&&(n.structuredQuery.endAt=wd(t.endAt)),n}function _d(e){var t=dd(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ul(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=bd(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new Sf(Sd(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return Bl(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=xd(n.startAt));var l=null;return n.endAt&&(l=xd(n.endAt)),Of(t,i,s,o,u,"F",c,l)}function bd(e){return e?void 0!==e.unaryFilter?[Nd(e)]:void 0!==e.fieldFilter?[Id(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return bd(e)})).reduce((function(e,t){return e.concat(t)})):sl():[]}function wd(e){return{before:e.before,values:e.position}}function xd(e){var t=!!e.before,n=e.values||[];return new Tf(n,t)}function Ed(e){return td[e]}function Td(e){return nd[e]}function Cd(e){return{fieldPath:e.canonicalString()}}function Sd(e){return Pl.fromServerFormat(e.fieldPath)}function Id(e){return yf.create(Sd(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return sl()}}(e.fieldFilter.op),e.fieldFilter.value)}function Nd(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Sd(e.unaryFilter.field);return yf.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Sd(e.unaryFilter.field);return yf.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Sd(e.unaryFilter.field);return yf.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Sd(e.unaryFilter.field);return yf.create(i,"!=",{nullValue:"NULL_VALUE"});default:return sl()}}function Ad(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Rd(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Od(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Dd(t)),t=Pd(e.get(n),t);return Dd(t)}function Pd(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Dd(e){return e+"\x01\x01"}var Fd=X((function e(t,n,r){Q(this,e),this.ownerId=t,this.allowTabSynchronization=n,this.leaseTimestampMs=r}));Fd.store="owner",Fd.key="owner";var Ld=X((function e(t,n,r){Q(this,e),this.userId=t,this.lastAcknowledgedBatchId=n,this.lastStreamToken=r}));Ld.store="mutationQueues",Ld.keyPath="userId";var Md=X((function e(t,n,r,i,a){Q(this,e),this.userId=t,this.batchId=n,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=a}));Md.store="mutations",Md.keyPath="batchId",Md.userMutationsIndex="userMutationsIndex",Md.userMutationsKeyPath=["userId","batchId"];var jd=function(){function e(){Q(this,e)}return X(e,null,[{key:"prefixForUser",value:function(e){return[e]}},{key:"prefixForPath",value:function(e,t){return[e,Od(t)]}},{key:"key",value:function(e,t,n){return[e,Od(t),n]}}]),e}();jd.store="documentMutations",jd.PLACEHOLDER=new jd;var Ud=X((function e(t,n,r,i,a,o){Q(this,e),this.unknownDocument=t,this.noDocument=n,this.document=r,this.hasCommittedMutations=i,this.readTime=a,this.parentPath=o}));Ud.store="remoteDocuments",Ud.readTimeIndex="readTimeIndex",Ud.readTimeIndexPath="readTime",Ud.collectionReadTimeIndex="collectionReadTimeIndex",Ud.collectionReadTimeIndexPath=["parentPath","readTime"];var Vd=X((function e(t){Q(this,e),this.byteSize=t}));Vd.store="remoteDocumentGlobal",Vd.key="remoteDocumentGlobalKey";var zd=X((function e(t,n,r,i,a,o,s){Q(this,e),this.targetId=t,this.canonicalId=n,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=a,this.lastLimboFreeSnapshotVersion=o,this.query=s}));zd.store="targets",zd.keyPath="targetId",zd.queryTargetsIndexName="queryTargetsIndex",zd.queryTargetsKeyPath=["canonicalId","targetId"];var qd=X((function e(t,n,r){Q(this,e),this.targetId=t,this.path=n,this.sequenceNumber=r}));qd.store="targetDocuments",qd.keyPath=["targetId","path"],qd.documentTargetsIndex="documentTargetsIndex",qd.documentTargetsKeyPath=["path","targetId"];var Bd=X((function e(t,n,r,i){Q(this,e),this.highestTargetId=t,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=r,this.targetCount=i}));Bd.key="targetGlobalKey",Bd.store="targetGlobal";var Wd=X((function e(t,n){Q(this,e),this.collectionId=t,this.parent=n}));Wd.store="collectionParents",Wd.keyPath=["collectionId","parent"];var Hd=X((function e(t,n,r,i){Q(this,e),this.clientId=t,this.updateTimeMs=n,this.networkEnabled=r,this.inForeground=i}));Hd.store="clientMetadata",Hd.keyPath="clientId";var Kd=X((function e(t,n,r){Q(this,e),this.bundleId=t,this.createTime=n,this.version=r}));Kd.store="bundles",Kd.keyPath="bundleId";var Gd=X((function e(t,n,r){Q(this,e),this.name=t,this.readTime=n,this.bundledQuery=r}));Gd.store="namedQueries",Gd.keyPath="name";[Ld.store,Md.store,jd.store,Ud.store,zd.store,Fd.store,Bd.store,qd.store].concat([Hd.store]).concat([Vd.store]).concat([Wd.store]).concat([Kd.store,Gd.store]);var $d="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Qd=function(){function e(){Q(this,e),this.onCommittedListeners=[]}return X(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),Yd=function(){function e(t){var n=this;Q(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return X(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&sl(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=oe(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}();function Xd(e){return"IndexedDbTransactionError"===e.name}var Jd=function(){function e(t,n,r,i){Q(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return X(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&ph(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=oe(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&vh(r,e,this.localWriteTime)}}catch(s){n.e(s)}finally{n.f()}var i,a=oe(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&vh(o,e,this.localWriteTime)}}catch(s){a.e(s)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Cl.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Bh())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&El(this.mutations,e.mutations,(function(e,t){return mh(e,t)}))&&El(this.baseMutations,e.baseMutations,(function(e,t){return mh(e,t)}))}}]),e}(),Zd=function(){function e(t,n,r,i){Q(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return X(e,null,[{key:"from",value:function(t,n,r){ul(t.mutations.length===r.length);for(var i=zh(),a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),ep=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Cl.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Cl.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Fl.EMPTY_BYTE_STRING;Q(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return X(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),tp=X((function e(t){Q(this,e),this.Gt=t}));function np(e){var t=_d({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?zf(t,t.limit,"L"):t}var rp=function(){function e(){Q(this,e),this.zt=new ip}return X(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.zt.add(t),Yd.resolve()}},{key:"getCollectionParents",value:function(e,t){return Yd.resolve(this.zt.getEntries(t))}}]),e}(),ip=function(){function e(){Q(this,e),this.index={}}return X(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Dh(Rl.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Dh(Rl.comparator)).toArray()}}]),e}();var ap=function(){function e(t,n,r){Q(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return X(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();ap.DEFAULT_COLLECTION_PERCENTILE=10,ap.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ap.DEFAULT=new ap(41943040,ap.DEFAULT_COLLECTION_PERCENTILE,ap.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ap.DISABLED=new ap(-1,0,0);var op=function(){function e(t){Q(this,e),this.se=t}return X(e,[{key:"next",value:function(){return this.se+=2,this.se}}],[{key:"ie",value:function(){return new e(0)}},{key:"re",value:function(){return new e(-1)}}]),e}();function sp(e){return up.apply(this,arguments)}function up(){return up=he(ce().mark((function e(t){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===ll.FAILED_PRECONDITION&&t.message===$d){e.next=2;break}throw t;case 2:rl("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),up.apply(this,arguments)}var cp=function(){function e(t,n){Q(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return X(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=oe(n);try{for(i.s();!(r=i.n()).done;){var o=a(r.value,2),s=o[0],u=o[1];if(this.equalsFn(s,e))return u}}catch(c){i.e(c)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}},{key:"forEach",value:function(e){Il(this.inner,(function(t,n){var r,i=oe(n);try{for(i.s();!(r=i.n()).done;){var o=a(r.value,2),s=o[0],u=o[1];e(s,u)}}catch(c){i.e(c)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Nl(this.inner)}}]),e}(),lp=function(){function e(){Q(this,e),this.changes=new cp((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return X(e,[{key:"getReadTime",value:function(e){var t=this.changes.get(e);return t?t.readTime:Cl.min()}},{key:"addEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}},{key:"removeEntry",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.assertNotApplied(),this.changes.set(e,{document:lf.newInvalidDocument(e),readTime:t})}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Yd.resolve(n.document):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}();var fp=function(){function e(t,n,r){Q(this,e),this.Je=t,this.An=n,this.Jt=r}return X(e,[{key:"Rn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.bn(e,t,r)}))}},{key:"bn",value:function(e,t,n){return this.Je.getEntry(e,t).next((function(e){var t,r=oe(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"Pn",value:function(e,t){e.forEach((function(e,n){var r,i=oe(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"vn",value:function(e,t){var n=this;return this.Je.getEntries(e,t).next((function(t){return n.Vn(e,t).next((function(){return t}))}))}},{key:"Vn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.Pn(t,e)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Kl.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Sn(e,t.path):jf(t)?this.Dn(e,t,n):this.Cn(e,t,n)}},{key:"Sn",value:function(e,t){return this.Rn(e,new Kl(t)).next((function(e){var t=Uh();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Dn",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Uh();return this.Jt.getCollectionParents(e,i).next((function(o){return Yd.forEach(o,(function(o){var s=function(e,t){return new Rf(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.Cn(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"Cn",value:function(e,t,n){var r,i,a=this;return this.Je.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,a.An.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,a.Nn(e,i,r).next((function(e){r=e;var t,n=oe(i);try{for(n.s();!(t=n.n()).done;){var a,o=t.value,s=oe(o.mutations);try{for(s.s();!(a=s.n()).done;){var u=a.value,c=u.key,l=r.get(c);null==l&&(l=lf.newInvalidDocument(c),r=r.insert(c,l)),vh(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}catch(f){s.e(f)}finally{s.f()}}}catch(f){n.e(f)}finally{n.f()}}))})).next((function(){return r.forEach((function(e,n){Hf(t,n)||(r=r.remove(e))})),r}))}},{key:"Nn",value:function(e,t,n){var r,i=Bh(),a=oe(t);try{for(a.s();!(r=a.n()).done;){var o,s=oe(r.value.mutations);try{for(s.s();!(o=s.n()).done;){var u=o.value;u instanceof _h&&null===n.get(u.key)&&(i=i.add(u.key))}}catch(l){s.e(l)}finally{s.f()}}}catch(l){a.e(l)}finally{a.f()}var c=n;return this.Je.getEntries(e,i).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))}}]),e}(),hp=function(){function e(t,n,r,i){Q(this,e),this.targetId=t,this.fromCache=n,this.kn=r,this.xn=i}return X(e,null,[{key:"$n",value:function(t,n){var r,i=Bh(),a=Bh(),o=oe(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),dp=function(){function e(){Q(this,e)}return X(e,[{key:"On",value:function(e){this.Mn=e}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(Cl.min())?this.Fn(e,t):this.Mn.vn(e,r).next((function(a){var o=i.Ln(t,a);return(Df(t)||Ff(t))&&i.Bn(t.limitType,o,r,n)?i.Fn(e,t):(nl()<=at.DEBUG&&rl("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Wf(t)),i.Mn.getDocumentsMatchingQuery(e,t,n).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"Ln",value:function(e,t){var n=new Dh(Kf(e));return t.forEach((function(t,r){Hf(e,r)&&(n=n.add(r))})),n}},{key:"Bn",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Fn",value:function(e,t){return nl()<=at.DEBUG&&rl("QueryEngine","Using full collection scan to execute query:",Wf(t)),this.Mn.getDocumentsMatchingQuery(e,t,Cl.min())}}]),e}(),pp=function(){function e(t,n,r,i){Q(this,e),this.persistence=t,this.Un=n,this.k=i,this.qn=new Rh(xl),this.Kn=new cp((function(e){return df(e)}),pf),this.jn=Cl.min(),this.An=t.getMutationQueue(r),this.Qn=t.getRemoteDocumentCache(),this.He=t.getTargetCache(),this.Wn=new fp(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=t.getBundleCache(),this.Un.On(this.Wn)}return X(e,[{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.qn)}))}}]),e}();function vp(e,t,n,r){return new pp(e,t,n,r)}function yp(e,t){return mp.apply(this,arguments)}function mp(){return mp=he(ce().mark((function e(t,n){var r,i,a,o;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=cl(t),i=r.An,a=r.Wn,e.next=4,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.An.getAllMutationBatches(e).next((function(o){return t=o,i=r.persistence.getMutationQueue(n),a=new fp(r.Qn,i,r.persistence.getIndexManager()),i.getAllMutationBatches(e)})).next((function(n){var r,i=[],o=[],s=Bh(),u=oe(t);try{for(u.s();!(r=u.n()).done;){var c=r.value;i.push(c.batchId);var l,f=oe(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){u.e(k)}finally{u.f()}var d,p=oe(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var y,m=oe(v.mutations);try{for(m.s();!(y=m.n()).done;){var g=y.value;s=s.add(g.key)}}catch(k){m.e(k)}finally{m.f()}}}catch(k){p.e(k)}finally{p.f()}return a.vn(e,s).next((function(e){return{Gn:e,removedBatchIds:i,addedBatchIds:o}}))}))}));case 4:return o=e.sent,e.abrupt("return",(r.An=i,r.Wn=a,r.Un.On(r.Wn),o));case 6:case"end":return e.stop()}}),e)}))),mp.apply(this,arguments)}function gp(e,t){var n=cl(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Qn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Yd.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);ul(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),o.next((function(){return e.An.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.An.performConsistencyCheck(e)})).next((function(){return n.Wn.vn(e,r)}))}))}function kp(e){var t=cl(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.He.getLastRemoteSnapshotVersion(e)}))}function _p(e,t){var n=cl(e),r=t.snapshotVersion,i=n.qn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.qn;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.He.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.He.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?c=c.withResumeToken(Fl.EMPTY_BYTE_STRING,Cl.min()).withLastLimboFreeSnapshotVersion(Cl.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.He.updateTargetData(e,c))}}));var s=Mh();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(bp(e,a,t.documentUpdates,r,void 0).next((function(e){s=e}))),!r.isEqual(Cl.min())){var u=n.He.getLastRemoteSnapshotVersion(e).next((function(t){return n.He.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(u)}return Yd.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.Wn.Vn(e,s)})).next((function(){return s}))})).then((function(e){return n.qn=i,e}))}function bp(e,t,n,r,i){var a=Bh();return n.forEach((function(e){return a=a.add(e)})),t.getEntries(e,a).next((function(e){var a=Mh();return n.forEach((function(n,o){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(Cl.min())?(t.removeEntry(n,u),a=a.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o,u),a=a.insert(n,o)):rl("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),a}))}function wp(e,t){var n=cl(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.An.getNextMutationBatchAfterBatchId(e,t)}))}function xp(e,t){var n=cl(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.He.getTargetData(e,t).next((function(i){return i?(r=i,Yd.resolve(r)):n.He.allocateTargetId(e).next((function(i){return r=new ep(t,i,0,e.currentSequenceNumber),n.He.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.qn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qn=n.qn.insert(e.targetId,e),n.Kn.set(t,e.targetId)),e}))}function Ep(e,t,n){return Tp.apply(this,arguments)}function Tp(){return Tp=he(ce().mark((function e(t,n,r){var i,a,o;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=cl(t),a=i.qn.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Xd(e.t1)){e.next=12;break}throw e.t1;case 12:rl("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.qn=i.qn.remove(n),i.Kn.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Tp.apply(this,arguments)}function Cp(e,t,n){var r=cl(e),i=Cl.min(),a=Bh();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=cl(e),i=r.Kn.get(n);return void 0!==i?Yd.resolve(r.qn.get(i)):r.He.getTargetData(t,n)}(r,e,Vf(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Un.getDocumentsMatchingQuery(e,t,n?i:Cl.min(),n?a:Bh())})).next((function(e){return{documents:e,zn:a}}))}))}var Sp=function(){function e(t){Q(this,e),this.k=t,this.Xn=new Map,this.Zn=new Map}return X(e,[{key:"getBundleMetadata",value:function(e,t){return Yd.resolve(this.Xn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Xn.set(t.id,{id:(n=t).id,version:n.version,createTime:sd(n.createTime)}),Yd.resolve()}},{key:"getNamedQuery",value:function(e,t){return Yd.resolve(this.Zn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Zn.set(t.name,function(e){return{name:e.name,query:np(e.bundledQuery),readTime:sd(e.readTime)}}(t)),Yd.resolve()}}]),e}(),Ip=function(){function e(){Q(this,e),this.ts=new Dh(Np.es),this.ns=new Dh(Np.ss)}return X(e,[{key:"isEmpty",value:function(){return this.ts.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Np(e,t);this.ts=this.ts.add(n),this.ns=this.ns.add(n)}},{key:"rs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.os(new Np(e,t))}},{key:"cs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"us",value:function(e){var t=this,n=new Kl(new Rl([])),r=new Np(n,e),i=new Np(n,e+1),a=[];return this.ns.forEachInRange([r,i],(function(e){t.os(e),a.push(e.key)})),a}},{key:"hs",value:function(){var e=this;this.ts.forEach((function(t){return e.os(t)}))}},{key:"os",value:function(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}},{key:"ls",value:function(e){var t=new Kl(new Rl([])),n=new Np(t,e),r=new Np(t,e+1),i=Bh();return this.ns.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Np(e,0),n=this.ts.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Np=function(){function e(t,n){Q(this,e),this.key=t,this.fs=n}return X(e,null,[{key:"es",value:function(e,t){return Kl.comparator(e.key,t.key)||xl(e.fs,t.fs)}},{key:"ss",value:function(e,t){return xl(e.fs,t.fs)||Kl.comparator(e.key,t.key)}}]),e}(),Ap=function(){function e(t,n){Q(this,e),this.Jt=t,this.referenceDelegate=n,this.An=[],this.ds=1,this.ws=new Dh(Np.es)}return X(e,[{key:"checkEmpty",value:function(e){return Yd.resolve(0===this.An.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ds;this.ds++,this.An.length>0&&this.An[this.An.length-1];var a=new Jd(i,t,n,r);this.An.push(a);var o,s=oe(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.ws=this.ws.add(new Np(u.key,i)),this.Jt.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return Yd.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Yd.resolve(this._s(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.gs(n),i=r<0?0:r;return Yd.resolve(this.An.length>i?this.An[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Yd.resolve(0===this.An.length?-1:this.ds-1)}},{key:"getAllMutationBatches",value:function(e){return Yd.resolve(this.An.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Np(t,0),i=new Np(t,Number.POSITIVE_INFINITY),a=[];return this.ws.forEachInRange([r,i],(function(e){var t=n._s(e.fs);a.push(t)})),Yd.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Dh(xl);return t.forEach((function(e){var t=new Np(e,0),i=new Np(e,Number.POSITIVE_INFINITY);n.ws.forEachInRange([t,i],(function(e){r=r.add(e.fs)}))})),Yd.resolve(this.ys(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Kl.isDocumentKey(i)||(i=i.child(""));var a=new Np(new Kl(i),0),o=new Dh(xl);return this.ws.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.fs)),!0)}),a),Yd.resolve(this.ys(o))}},{key:"ys",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t._s(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;ul(0===this.ps(t.batchId,"removed")),this.An.shift();var r=this.ws;return Yd.forEach(t.mutations,(function(i){var a=new Np(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ws=r}))}},{key:"ee",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Np(t,0),r=this.ws.firstAfterOrEqual(n);return Yd.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.An.length,Yd.resolve()}},{key:"ps",value:function(e,t){return this.gs(e)}},{key:"gs",value:function(e){return 0===this.An.length?0:e-this.An[0].batchId}},{key:"_s",value:function(e){var t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}]),e}(),Rp=function(){function e(t,n){Q(this,e),this.Jt=t,this.Ts=n,this.docs=new Rh(Kl.comparator),this.size=0}return X(e,[{key:"addEntry",value:function(e,t,n){var r=t.key,i=this.docs.get(r),a=i?i.size:0,o=this.Ts(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o,readTime:n}),this.size+=o-a,this.Jt.addToCollectionParentIndex(e,r.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Yd.resolve(n?n.document.mutableCopy():lf.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Mh();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():lf.newInvalidDocument(e))})),Yd.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){for(var r=Mh(),i=new Kl(t.path.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),s=o.key,u=o.value,c=u.document,l=u.readTime;if(!t.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||Hf(t,c)&&(r=r.insert(c.key,c.mutableCopy()))}return Yd.resolve(r)}},{key:"Es",value:function(e,t){return Yd.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Op(this)}},{key:"getSize",value:function(e){return Yd.resolve(this.size)}}]),e}(),Op=function(e){Z(n,e);var t=ae(n);function n(e){var r;return Q(this,n),(r=t.call(this)).De=e,r}return X(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.De.addEntry(e,i.document,t.getReadTime(r))):t.De.removeEntry(r)})),Yd.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.De.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.De.getEntries(e,t)}}]),n}(lp),Pp=function(){function e(t){Q(this,e),this.persistence=t,this.Is=new cp((function(e){return df(e)}),pf),this.lastRemoteSnapshotVersion=Cl.min(),this.highestTargetId=0,this.As=0,this.Rs=new Ip,this.targetCount=0,this.bs=op.ie()}return X(e,[{key:"forEachTarget",value:function(e,t){return this.Is.forEach((function(e,n){return t(n)})),Yd.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Yd.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Yd.resolve(this.As)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.bs.next(),Yd.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.As&&(this.As=t),Yd.resolve()}},{key:"ae",value:function(e){this.Is.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.bs=new op(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.ae(t),this.targetCount+=1,Yd.resolve()}},{key:"updateTargetData",value:function(e,t){return this.ae(t),Yd.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,Yd.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Is.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Is.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),Yd.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Yd.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Is.get(t)||null;return Yd.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Rs.rs(t,n),Yd.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Rs.cs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Yd.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Rs.us(t),Yd.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Rs.ls(t);return Yd.resolve(n)}},{key:"containsKey",value:function(e,t){return Yd.resolve(this.Rs.containsKey(t))}}]),e}(),Dp=function(){function e(t,n){var r=this;Q(this,e),this.Ps={},this.Be=new _l(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=t(this),this.He=new Pp(this),this.Jt=new rp,this.Je=function(e,t){return new Rp(e,(function(e){return r.referenceDelegate.vs(e)}))}(this.Jt),this.k=new tp(n),this.Ye=new Sp(this.k)}return X(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ue=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ue}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(){return this.Jt}},{key:"getMutationQueue",value:function(e){var t=this.Ps[e.toKey()];return t||(t=new Ap(this.Jt,this.referenceDelegate),this.Ps[e.toKey()]=t),t}},{key:"getTargetCache",value:function(){return this.He}},{key:"getRemoteDocumentCache",value:function(){return this.Je}},{key:"getBundleCache",value:function(){return this.Ye}},{key:"runTransaction",value:function(e,t,n){var r=this;rl("MemoryPersistence","Starting transaction:",e);var i=new Fp(this.Be.next());return this.referenceDelegate.Vs(),n(i).next((function(e){return r.referenceDelegate.Ss(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ds",value:function(e,t){return Yd.or(Object.values(this.Ps).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Fp=function(e){Z(n,e);var t=ae(n);function n(e){var r;return Q(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return X(n)}(Qd),Lp=function(){function e(t){Q(this,e),this.persistence=t,this.Cs=new Ip,this.Ns=null}return X(e,[{key:"xs",get:function(){if(this.Ns)return this.Ns;throw sl()}},{key:"addReference",value:function(e,t,n){return this.Cs.addReference(n,t),this.xs.delete(n.toString()),Yd.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Cs.removeReference(n,t),this.xs.add(n.toString()),Yd.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.xs.add(t.toString()),Yd.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Cs.us(t.targetId).forEach((function(e){return n.xs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.xs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Vs",value:function(){this.Ns=new Set}},{key:"Ss",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Yd.forEach(this.xs,(function(r){var i=Kl.fromPath(r);return t.$s(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Ns=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.$s(e,t).next((function(e){e?n.xs.delete(t.toString()):n.xs.add(t.toString())}))}},{key:"vs",value:function(e){return 0}},{key:"$s",value:function(e,t){var n=this;return Yd.or([function(){return Yd.resolve(n.Cs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ds(e,t)}])}}],[{key:"ks",value:function(t){return new e(t)}}]),e}();var Mp=function(){function e(){Q(this,e),this.activeTargetIds=Hh()}return X(e,[{key:"Fs",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Ls",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Ms",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),jp=function(){function e(){Q(this,e),this.pi=new Mp,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return X(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.pi.Fs(e),this.Ti[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ti[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.pi.Ls(e)}},{key:"isLocalQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ti[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.pi.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"start",value:function(){return this.pi=new Mp,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(){}}]),e}(),Up=function(){function e(){Q(this,e)}return X(e,[{key:"Ei",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Vp=function(){function e(){var t=this;Q(this,e),this.Ii=function(){return t.Ai()},this.Ri=function(){return t.bi()},this.Pi=[],this.vi()}return X(e,[{key:"Ei",value:function(e){this.Pi.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}},{key:"vi",value:function(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}},{key:"Ai",value:function(){rl("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=oe(this.Pi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"bi",value:function(){rl("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=oe(this.Pi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"Pt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),zp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},qp=function(){function e(t){Q(this,e),this.Vi=t.Vi,this.Si=t.Si}return X(e,[{key:"Di",value:function(e){this.Ci=e}},{key:"Ni",value:function(e){this.ki=e}},{key:"onMessage",value:function(e){this.xi=e}},{key:"close",value:function(){this.Si()}},{key:"send",value:function(e){this.Vi(e)}},{key:"$i",value:function(){this.Ci()}},{key:"Oi",value:function(e){this.ki(e)}},{key:"Mi",value:function(e){this.xi(e)}}]),e}(),Bp=function(e){Z(n,e);var t=ae(n);function n(e){var r;return Q(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return X(n,[{key:"Ki",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Xc;o.listenOnce(Kc.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Hc.NO_ERROR:var t=o.getResponseJson();rl("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Hc.TIMEOUT:rl("Connection",'RPC "'+e+'" timed out'),a(new fl(ll.DEADLINE_EXCEEDED,"Request time out"));break;case Hc.HTTP_ERROR:var n=o.getStatus();if(rl("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(ll).indexOf(t)>=0?t:ll.UNKNOWN}(r.status);a(new fl(s,r.message))}else a(new fl(ll.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new fl(ll.UNAVAILABLE,"Connection failed."));break;default:sl()}}finally{rl("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);o.send(t,"POST",s,n,15)}))}},{key:"Qi",value:function(e,t,n){var r=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Bc(),a=Wc(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Qc({})),this.qi(o.initMessageHeaders,t,n),Ie()||Ae()||Se().indexOf("Electron/")>=0||Re()||Se().indexOf("MSAppHost/")>=0||Ne()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=r.join("");rl("Connection","Creating WebChannel: "+s,o);var u=i.createWebChannel(s,o),c=!1,l=!1,f=new qp({Vi:function(e){l?rl("Connection","Not sending because WebChannel is closed:",e):(c||(rl("Connection","Opening WebChannel transport."),u.open(),c=!0),rl("Connection","WebChannel sending:",e),u.send(e))},Si:function(){return u.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(u,Yc.EventType.OPEN,(function(){l||rl("Connection","WebChannel transport opened.")})),h(u,Yc.EventType.CLOSE,(function(){l||(l=!0,rl("Connection","WebChannel transport closed"),f.Oi())})),h(u,Yc.EventType.ERROR,(function(e){l||(l=!0,al("Connection","WebChannel transport errored:",e),f.Oi(new fl(ll.UNAVAILABLE,"The operation could not be completed")))})),h(u,Yc.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];ul(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){rl("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Eh[e];if(void 0!==t)return Ah(t)}(a),s=i.message;void 0===o&&(o=ll.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),l=!0,f.Oi(new fl(o,s)),u.close()}else rl("Connection","WebChannel received:",n),f.Mi(n)}})),h(a,Gc.STAT_EVENT,(function(e){e.stat===$c.PROXY?rl("Connection","Detected buffering proxy"):e.stat===$c.NOPROXY&&rl("Connection","Detected no buffering proxy")})),setTimeout((function(){f.$i()}),0),f}}]),n}(function(){function e(t){Q(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Fi=n+"://"+t.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return X(e,[{key:"Bi",value:function(e,t,n,r,i){var a=this.Ui(e,t);rl("RestConnection","Sending: ",a,n);var o={};return this.qi(o,r,i),this.Ki(e,a,o,n).then((function(e){return rl("RestConnection","Received: ",e),e}),(function(t){throw al("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ji",value:function(e,t,n,r,i){return this.Bi(e,t,n,r,i)}},{key:"qi",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+el,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"Ui",value:function(e,t){var n=zp[e];return"".concat(this.Fi,"/v1/").concat(t,":").concat(n)}}]),e}());function Wp(){return"undefined"!=typeof document?document:null}function Hp(e){return new rd(e,!0)}var Kp=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Q(this,e),this.Me=t,this.timerId=n,this.Wi=r,this.Gi=i,this.zi=a,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}return X(e,[{key:"reset",value:function(){this.Hi=0}},{key:"Xi",value:function(){this.Hi=this.zi}},{key:"Zi",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Hi+this.tr()),r=Math.max(0,Date.now()-this.Yi),i=Math.max(0,n-r);i>0&&rl("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Hi," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Ji=this.Me.enqueueAfterDelay(this.timerId,i,(function(){return t.Yi=Date.now(),e()})),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}},{key:"er",value:function(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}},{key:"cancel",value:function(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}},{key:"tr",value:function(){return(Math.random()-.5)*this.Hi}}]),e}(),Gp=function(){function e(t,n,r,i,a,o,s,u){Q(this,e),this.Me=t,this.nr=r,this.sr=i,this.ir=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.rr=0,this.cr=null,this.ar=null,this.stream=null,this.ur=new Kp(t,n)}return X(e,[{key:"hr",value:function(){return 1===this.state||5===this.state||this.lr()}},{key:"lr",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.dr()}},{key:"stop",value:function(){var e=he(ce().mark((function e(){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.hr(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"wr",value:function(){this.state=0,this.ur.reset()}},{key:"_r",value:function(){var e=this;this.lr()&&null===this.cr&&(this.cr=this.Me.enqueueAfterDelay(this.nr,6e4,(function(){return e.mr()})))}},{key:"gr",value:function(e){this.yr(),this.stream.send(e)}},{key:"mr",value:function(){var e=he(ce().mark((function e(){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.lr()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"yr",value:function(){this.cr&&(this.cr.cancel(),this.cr=null)}},{key:"pr",value:function(){this.ar&&(this.ar.cancel(),this.ar=null)}},{key:"close",value:function(){var e=he(ce().mark((function e(t,n){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.yr(),this.pr(),this.ur.cancel(),this.rr++,4!==t?this.ur.reset():n&&n.code===ll.RESOURCE_EXHAUSTED?(il(n.toString()),il("Using maximum backoff delay to prevent overloading the backend."),this.ur.Xi()):n&&n.code===ll.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Tr(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Ni(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Tr",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Er(this.rr),n=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=a(t,2),i=r[0],o=r[1];e.rr===n&&e.Ir(i,o)}),(function(n){t((function(){var t=new fl(ll.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Ar(t)}))}))}},{key:"Ir",value:function(e,t){var n=this,r=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di((function(){r((function(){return n.state=2,n.ar=n.Me.enqueueAfterDelay(n.sr,1e4,(function(){return n.lr()&&(n.state=3),Promise.resolve()})),n.listener.Di()}))})),this.stream.Ni((function(e){r((function(){return n.Ar(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"dr",value:function(){var e=this;this.state=5,this.ur.Zi(he(ce().mark((function t(){return ce().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Ar",value:function(e){return rl("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Er",value:function(e){var t=this;return function(n){t.Me.enqueueAndForget((function(){return t.rr===e?n():(rl("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),$p=function(e){Z(n,e);var t=ae(n);function n(e,r,i,a,o,s){var u;return Q(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).k=o,u}return X(n,[{key:"Rr",value:function(e,t){return this.ir.Qi("Listen",e,t)}},{key:"onMessage",value:function(e){this.ur.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:sl()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.C?(ul(void 0===t||"string"==typeof t),Fl.fromBase64String(t||"")):(ul(void 0===t||t instanceof Uint8Array),Fl.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?ll.UNKNOWN:Ah(e.code);return new fl(t,e.message||"")}(o);n=new Yh(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=fd(e,u.document.name),l=sd(u.document.updateTime),f=new uf({mapValue:{fields:u.document.fields}}),h=lf.newFoundDocument(c,l,f),d=u.targetIds||[],p=u.removedTargetIds||[];n=new $h(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var y=fd(e,v.document),m=v.readTime?sd(v.readTime):Cl.min(),g=lf.newNoDocument(y,m),k=v.removedTargetIds||[];n=new $h([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var _=t.documentRemove;_.document;var b=fd(e,_.document),w=_.removedTargetIds||[];n=new $h([],w,b,null)}else{if(!("filter"in t))return sl();t.filter;var x=t.filter;x.targetId;var E=x.count||0,T=new Ih(E),C=x.targetId;n=new Qh(C,T)}return n}(this.k,e),n=function(e){if(!("targetChange"in e))return Cl.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Cl.min():t.readTime?sd(t.readTime):Cl.min()}(e);return this.listener.br(t,n)}},{key:"Pr",value:function(e){var t={};t.database=pd(this.k),t.addTarget=function(e,t){var n,r=t.target;return(n=vf(r)?{documents:gd(e,r)}:{query:kd(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=ad(e,t.resumeToken):t.snapshotVersion.compareTo(Cl.min())>0&&(n.readTime=id(e,t.snapshotVersion.toTimestamp())),n}(this.k,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return sl()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.k,e);n&&(t.labels=n),this.gr(t)}},{key:"vr",value:function(e){var t={};t.database=pd(this.k),t.removeTarget=e,this.gr(t)}}]),n}(Gp),Qp=function(e){Z(n,e);var t=ae(n);function n(e,r,i,a,o,s){var u;return Q(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).k=o,u.Vr=!1,u}return X(n,[{key:"Sr",get:function(){return this.Vr}},{key:"start",value:function(){this.Vr=!1,this.lastStreamToken=void 0,Dt(ee(n.prototype),"start",this).call(this)}},{key:"Tr",value:function(){this.Vr&&this.Dr([])}},{key:"Rr",value:function(e,t){return this.ir.Qi("Write",e,t)}},{key:"onMessage",value:function(e){if(ul(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();var t=function(e,t){return e&&e.length>0?(ul(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?sd(e.updateTime):sd(t);return n.isEqual(Cl.min())&&(n=sd(t)),new lh(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=sd(e.commitTime);return this.listener.Cr(n,t)}return ul(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}},{key:"kr",value:function(){var e={};e.database=pd(this.k),this.gr(e)}},{key:"Dr",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return md(t.k,e)}))};this.gr(n)}}]),n}(Gp),Yp=function(e){Z(n,e);var t=ae(n);function n(e,r,i,a){var o;return Q(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.ir=i,o.k=a,o.$r=!1,o}return X(n,[{key:"Or",value:function(){if(this.$r)throw new fl(ll.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Bi",value:function(e,t,n){var r=this;return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var o=a(i,2),s=o[0],u=o[1];return r.ir.Bi(e,t,n,s,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===ll.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new fl(ll.UNKNOWN,e.toString())}))}},{key:"ji",value:function(e,t,n){var r=this;return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var o=a(i,2),s=o[0],u=o[1];return r.ir.ji(e,t,n,s,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===ll.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new fl(ll.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.$r=!0}}]),n}(function(){return X((function e(){Q(this,e)}))}()),Xp=function(){function e(t,n){Q(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.Mr=0,this.Fr=null,this.Lr=!0}return X(e,[{key:"Br",value:function(){var e=this;0===this.Mr&&(this.Ur("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Fr=null,e.qr("Backend didn't respond within 10 seconds."),e.Ur("Offline"),Promise.resolve()})))}},{key:"Kr",value:function(e){"Online"===this.state?this.Ur("Unknown"):(this.Mr++,this.Mr>=1&&(this.jr(),this.qr("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.Ur("Offline")))}},{key:"set",value:function(e){this.jr(),this.Mr=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}},{key:"Ur",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"qr",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.Lr?(il(t),this.Lr=!1):rl("OnlineStateTracker",t)}},{key:"jr",value:function(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}]),e}(),Jp=X((function e(t,n,r,i,a){var o=this;Q(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=a,this.Hr.Ei((function(e){r.enqueueAndForget(he(ce().mark((function e(){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=cv(o),!e.t0){e.next=5;break}return rl("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=he(ce().mark((function e(t){var n;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=cl(t)).Gr.add(4),e.next=4,tv(n);case 4:return n.Jr.set("Unknown"),n.Gr.delete(4),e.next=8,Zp(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.Jr=new Xp(r,i)}));function Zp(e){return ev.apply(this,arguments)}function ev(){return ev=he(ce().mark((function e(t){var n,r,i;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!cv(t)){e.next=18;break}n=oe(t.zr),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),ev.apply(this,arguments)}function tv(e){return nv.apply(this,arguments)}function nv(){return nv=he(ce().mark((function e(t){var n,r,i;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=oe(t.zr),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),nv.apply(this,arguments)}function rv(e,t){var n=cl(e);n.Wr.has(t.targetId)||(n.Wr.set(t.targetId,t),uv(n)?sv(n):jv(n).lr()&&av(n,t))}function iv(e,t){var n=cl(e),r=jv(n);n.Wr.delete(t),r.lr()&&ov(n,t),0===n.Wr.size&&(r.lr()?r._r():cv(n)&&n.Jr.set("Unknown"))}function av(e,t){e.Yr.X(t.targetId),jv(e).Pr(t)}function ov(e,t){e.Yr.X(t),jv(e).vr(t)}function sv(e){e.Yr=new Jh({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.Wr.get(t)||null}}),jv(e).start(),e.Jr.Br()}function uv(e){return cv(e)&&!jv(e).hr()&&e.Wr.size>0}function cv(e){return 0===cl(e).Gr.size}function lv(e){e.Yr=void 0}function fv(e){return hv.apply(this,arguments)}function hv(){return hv=he(ce().mark((function e(t){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.Wr.forEach((function(e,n){av(t,e)}));case 1:case"end":return e.stop()}}),e)}))),hv.apply(this,arguments)}function dv(e,t){return pv.apply(this,arguments)}function pv(){return pv=he(ce().mark((function e(t,n){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:lv(t),uv(t)?(t.Jr.Kr(n),sv(t)):t.Jr.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),pv.apply(this,arguments)}function vv(e,t,n){return yv.apply(this,arguments)}function yv(){return yv=he(ce().mark((function e(t,n,r){var i;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.Jr.set("Online"),!(n instanceof Yh&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=he(ce().mark((function e(t,n){var r,i,a,o;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=oe(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.Wr.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.Wr.delete(o),t.Yr.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),rl("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,mv(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof $h?t.Yr.ot(n):n instanceof Qh?t.Yr.dt(n):t.Yr.ut(n),r.isEqual(Cl.min())){e.next=29;break}return e.prev=14,e.next=17,kp(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Yr.gt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Wr.get(r);i&&e.Wr.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.Wr.get(t);if(n){e.Wr.set(t,n.withResumeToken(Fl.EMPTY_BYTE_STRING,n.snapshotVersion)),ov(e,t);var r=new ep(n.target,t,1,n.sequenceNumber);av(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),rl("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,mv(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),yv.apply(this,arguments)}function mv(e,t,n){return gv.apply(this,arguments)}function gv(){return gv=he(ce().mark((function e(t,n,r){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Xd(n)){e.next=2;break}throw n;case 2:return t.Gr.add(1),e.next=5,tv(t);case 5:t.Jr.set("Offline"),r||(r=function(){return kp(t.localStore)}),t.asyncQueue.enqueueRetryable(he(ce().mark((function e(){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return rl("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.Gr.delete(1),e.next=6,Zp(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),gv.apply(this,arguments)}function kv(e,t){return t().catch((function(n){return mv(e,n,t)}))}function _v(e){return bv.apply(this,arguments)}function bv(){return bv=he(ce().mark((function e(t){var n,r,i,a;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=cl(t),r=Uv(n),i=n.Qr.length>0?n.Qr[n.Qr.length-1].batchId:-1;case 2:if(!wv(n)){e.next=19;break}return e.prev=3,e.next=6,wp(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Qr.length&&r._r(),e.abrupt("break",19);case 10:i=a.batchId,xv(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,mv(n,e.t0);case 17:e.next=2;break;case 19:Ev(n)&&Tv(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),bv.apply(this,arguments)}function wv(e){return cv(e)&&e.Qr.length<10}function xv(e,t){e.Qr.push(t);var n=Uv(e);n.lr()&&n.Sr&&n.Dr(t.mutations)}function Ev(e){return cv(e)&&!Uv(e).hr()&&e.Qr.length>0}function Tv(e){Uv(e).start()}function Cv(e){return Sv.apply(this,arguments)}function Sv(){return Sv=he(ce().mark((function e(t){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Uv(t).kr();case 1:case"end":return e.stop()}}),e)}))),Sv.apply(this,arguments)}function Iv(e){return Nv.apply(this,arguments)}function Nv(){return Nv=he(ce().mark((function e(t){var n,r,i,a;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Uv(t),r=oe(t.Qr);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Dr(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),Nv.apply(this,arguments)}function Av(e,t,n){return Rv.apply(this,arguments)}function Rv(){return Rv=he(ce().mark((function e(t,n,r){var i,a;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Qr.shift(),a=Zd.from(i,n,r),e.next=3,kv(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,_v(t);case 5:case"end":return e.stop()}}),e)}))),Rv.apply(this,arguments)}function Ov(e,t){return Pv.apply(this,arguments)}function Pv(){return Pv=he(ce().mark((function e(t,n){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Uv(t).Sr,!e.t0){e.next=4;break}return e.next=4,function(){var e=he(ce().mark((function e(t,n){var r,i;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Nh(i=n.code)||i===ll.ABORTED){e.next=7;break}return r=t.Qr.shift(),Uv(t).wr(),e.next=5,kv(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,_v(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Ev(t)&&Tv(t);case 5:case"end":return e.stop()}}),e)}))),Pv.apply(this,arguments)}function Dv(e,t){return Fv.apply(this,arguments)}function Fv(){return Fv=he(ce().mark((function e(t,n){var r,i;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=cl(t)).asyncQueue.verifyOperationInProgress(),rl("RemoteStore","RemoteStore received new credentials"),i=cv(r),r.Gr.add(3),e.next=6,tv(r);case 6:return i&&r.Jr.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.Gr.delete(3),e.next=12,Zp(r);case 12:case"end":return e.stop()}}),e)}))),Fv.apply(this,arguments)}function Lv(e,t){return Mv.apply(this,arguments)}function Mv(){return Mv=he(ce().mark((function e(t,n){var r;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=cl(t),!n){e.next=7;break}return r.Gr.delete(2),e.next=5,Zp(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.Gr.add(2),e.next=12,tv(r);case 12:r.Jr.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),Mv.apply(this,arguments)}function jv(e){return e.Xr||(e.Xr=function(e,t,n){var r=cl(e);return r.Or(),new $p(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:fv.bind(null,e),Ni:dv.bind(null,e),br:vv.bind(null,e)}),e.zr.push(function(){var t=he(ce().mark((function t(n){return ce().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Xr.wr(),uv(e)?sv(e):e.Jr.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Xr.stop();case 6:lv(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Xr}function Uv(e){return e.Zr||(e.Zr=function(e,t,n){var r=cl(e);return r.Or(),new Qp(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:Cv.bind(null,e),Ni:Ov.bind(null,e),Nr:Iv.bind(null,e),Cr:Av.bind(null,e)}),e.zr.push(function(){var t=he(ce().mark((function t(n){return ce().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Zr.wr(),t.next=4,_v(e);case 4:t.next=9;break;case 6:return t.next=8,e.Zr.stop();case 8:e.Qr.length>0&&(rl("RemoteStore","Stopping write stream with ".concat(e.Qr.length," pending writes")),e.Qr=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Zr}var Vv=function(){function e(t,n,r,i,a){Q(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new hl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return X(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new fl(ll.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function zv(e,t){if(il("AsyncQueue","".concat(t,": ").concat(e)),Xd(e))return new fl(ll.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var qv=function(){function e(t){Q(this,e),this.comparator=t?function(e,n){return t(e,n)||Kl.comparator(e.key,n.key)}:function(e,t){return Kl.comparator(e.key,t.key)},this.keyedMap=Uh(),this.sortedSet=new Rh(this.comparator)}return X(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Bv=function(){function e(){Q(this,e),this.eo=new Rh(Kl.comparator)}return X(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.eo.get(t);n?0!==e.type&&3===n.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==n.type?this.eo=this.eo.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.eo=this.eo.remove(t):1===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):sl():this.eo=this.eo.insert(t,e)}},{key:"no",value:function(){var e=[];return this.eo.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Wv=function(){function e(t,n,r,i,a,o,s,u){Q(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u}return X(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,qv.emptySet(n),a,r,i,!0,!1)}}]),e}(),Hv=X((function e(){Q(this,e),this.so=void 0,this.listeners=[]})),Kv=X((function e(){Q(this,e),this.queries=new cp((function(e){return Bf(e)}),qf),this.onlineState="Unknown",this.io=new Set}));function Gv(e,t){return $v.apply(this,arguments)}function $v(){return $v=he(ce().mark((function e(t,n){var r,i,a,o,s;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=cl(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Hv),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.so=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=zv(e.t0,"Initialization of query '".concat(Wf(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.ro(r.onlineState),o.so&&n.oo(o.so)&&Zv(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),$v.apply(this,arguments)}function Qv(e,t){return Yv.apply(this,arguments)}function Yv(){return Yv=he(ce().mark((function e(t,n){var r,i,a,o,s;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=cl(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),Yv.apply(this,arguments)}function Xv(e,t){var n,r=cl(e),i=!1,a=oe(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=oe(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.oo(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.so=o}}}catch(f){a.e(f)}finally{a.f()}i&&Zv(r)}function Jv(e,t,n){var r=cl(e),i=r.queries.get(t);if(i){var a,o=oe(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function Zv(e){e.io.forEach((function(e){e.next()}))}var ey=function(){function e(t,n,r){Q(this,e),this.query=t,this.co=n,this.ao=!1,this.uo=null,this.onlineState="Unknown",this.options=r||{}}return X(e,[{key:"oo",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=oe(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Wv(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.ao?this.ho(e)&&(this.co.next(e),a=!0):this.lo(e,this.onlineState)&&(this.fo(e),a=!0),this.uo=e,a}},{key:"onError",value:function(e){this.co.error(e)}},{key:"ro",value:function(e){this.onlineState=e;var t=!1;return this.uo&&!this.ao&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}},{key:"lo",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.wo||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"ho",value:function(e){if(e.docChanges.length>0)return!0;var t=this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"fo",value:function(e){e=Wv.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.ao=!0,this.co.next(e)}}]),e}();var ty=X((function e(t){Q(this,e),this.key=t})),ny=X((function e(t){Q(this,e),this.key=t})),ry=function(){function e(t,n){Q(this,e),this.query=t,this.To=n,this.Eo=null,this.current=!1,this.Io=Bh(),this.mutatedKeys=Bh(),this.Ao=Kf(t),this.Ro=new qv(this.Ao)}return X(e,[{key:"bo",get:function(){return this.To}},{key:"Po",value:function(e,t){var n=this,r=t?t.vo:new Bv,i=t?t.Ro:this.Ro,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u=Df(this.query)&&i.size===this.query.limit?i.last():null,c=Ff(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Hf(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Vo(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.Ao(f,u)>0||c&&n.Ao(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),Df(this.query)||Ff(this.query))for(;o.size>this.query.limit;){var l=Df(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Ro:o,vo:r,Bn:s,mutatedKeys:a}}},{key:"Vo",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;var a=e.vo.no();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return sl()}};return n(e)-n(t)}(e.type,t.type)||r.Ao(e.doc,t.doc)})),this.So(n);var o=t?this.Do():[],s=0===this.Io.size&&this.current?1:0,u=s!==this.Eo;return this.Eo=s,0!==a.length||u?{snapshot:new Wv(this.query,e.Ro,i,a,e.mutatedKeys,0===s,u,!1),Co:o}:{Co:o}}},{key:"ro",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new Bv,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}},{key:"No",value:function(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}},{key:"So",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.To=t.To.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.To=t.To.delete(e)})),this.current=e.current)}},{key:"Do",value:function(){var e=this;if(!this.current)return[];var t=this.Io;this.Io=Bh(),this.Ro.forEach((function(t){e.No(t.key)&&(e.Io=e.Io.add(t.key))}));var n=[];return t.forEach((function(t){e.Io.has(t)||n.push(new ny(t))})),this.Io.forEach((function(e){t.has(e)||n.push(new ty(e))})),n}},{key:"ko",value:function(e){this.To=e.zn,this.Io=Bh();var t=this.Po(e.documents);return this.applyChanges(t,!0)}},{key:"xo",value:function(){return Wv.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}]),e}(),iy=X((function e(t,n,r){Q(this,e),this.query=t,this.targetId=n,this.view=r})),ay=X((function e(t){Q(this,e),this.key=t,this.$o=!1})),oy=function(){function e(t,n,r,i,a,o){Q(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Oo={},this.Mo=new cp((function(e){return Bf(e)}),qf),this.Fo=new Map,this.Lo=new Set,this.Bo=new Rh(Kl.comparator),this.Uo=new Map,this.qo=new Ip,this.Ko={},this.jo=new Map,this.Qo=op.re(),this.onlineState="Unknown",this.Wo=void 0}return X(e,[{key:"isPrimaryClient",get:function(){return!0===this.Wo}}]),e}();function sy(e,t){return uy.apply(this,arguments)}function uy(){return uy=he(ce().mark((function e(t,n){var r,i,a,o,s,u;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ly(t),!(o=r.Mo.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.xo(),e.next=15;break;case 6:return e.next=8,xp(r.localStore,Vf(n));case 8:return s=e.sent,u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=13,cy(r,n,i,"current"===u);case 13:a=e.sent,r.isPrimaryClient&&rv(r.remoteStore,s);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),uy.apply(this,arguments)}function cy(e,t,n,r){return ly.apply(this,arguments)}function ly(){return ly=he(ce().mark((function e(t,n,r,i){var a,o,s,u,c,l;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Go=function(e,n,r){return function(){var e=he(ce().mark((function e(t,n,r,i){var a,o,s;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Po(r),e.t0=a.Bn,!e.t0){e.next=6;break}return e.next=5,Cp(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Po(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(Iy(t,n.targetId,s.Co),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Cp(t.localStore,n,!0);case 3:return a=e.sent,o=new ry(n,a.zn),s=o.Po(a.documents),u=Gh.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(s,t.isPrimaryClient,u),Iy(t,r,c.Co),l=new iy(n,r,o),e.abrupt("return",(t.Mo.set(n,l),t.Fo.has(r)?t.Fo.get(r).push(n):t.Fo.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),ly.apply(this,arguments)}function fy(e,t){return hy.apply(this,arguments)}function hy(){return hy=he(ce().mark((function e(t,n){var r,i,a;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=cl(t),i=r.Mo.get(n),!((a=r.Fo.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.Fo.set(i.targetId,a.filter((function(e){return!qf(e,n)}))),void r.Mo.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Ep(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),iv(r.remoteStore,i.targetId),Cy(r,i.targetId)})).catch(sp);case 9:e.next=14;break;case 11:return Cy(r,i.targetId),e.next=14,Ep(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),hy.apply(this,arguments)}function dy(e,t,n){return py.apply(this,arguments)}function py(){return py=he(ce().mark((function e(t,n,r){var i,a,o;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=My(t),e.prev=1,e.next=4,function(e,t){var n,r=cl(e),i=Tl.now(),a=t.reduce((function(e,t){return e.add(t.key)}),Bh());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Wn.vn(e,a).next((function(a){n=a;var o,s=[],u=oe(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=yh(c,n.get(c.key));null!=l&&s.push(new _h(c.key,l,cf(l.value.mapValue),fh.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return r.An.addMutationBatch(e,i,s,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Ko[e.currentUser.toKey()];r||(r=new Rh(xl)),r=r.insert(t,n),e.Ko[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,Ry(i,a.changes);case 9:return e.next=11,_v(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=zv(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),py.apply(this,arguments)}function vy(e,t){return yy.apply(this,arguments)}function yy(){return yy=he(ce().mark((function e(t,n){var r,i;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=cl(t),e.prev=1,e.next=4,_p(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.Uo.get(t);n&&(ul(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.$o=!0:e.modifiedDocuments.size>0?ul(n.$o):e.removedDocuments.size>0&&(ul(n.$o),n.$o=!1))})),e.next=8,Ry(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,sp(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),yy.apply(this,arguments)}function my(e,t,n){var r=cl(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Mo.forEach((function(e,n){var r=n.view.ro(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=cl(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=oe(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.ro(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&Zv(n)}(r.eventManager,t),i.length&&r.Oo.br(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function gy(e,t,n){return ky.apply(this,arguments)}function ky(){return ky=he(ce().mark((function e(t,n,r){var i,a,o,s,u,c;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=cl(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.Uo.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new Rh(Kl.comparator)).insert(o,lf.newNoDocument(o,Cl.min())),u=Bh().add(o),c=new Kh(Cl.min(),new Map,new Dh(xl),s,u),e.next=9,vy(i,c);case 9:i.Bo=i.Bo.remove(o),i.Uo.delete(n),Ay(i),e.next=16;break;case 14:return e.next=16,Ep(i.localStore,n,!1).then((function(){return Cy(i,n,r)})).catch(sp);case 16:case"end":return e.stop()}}),e)}))),ky.apply(this,arguments)}function _y(e,t){return by.apply(this,arguments)}function by(){return by=he(ce().mark((function e(t,n){var r,i,a;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=cl(t),i=n.batch.batchId,e.prev=1,e.next=4,gp(r.localStore,n);case 4:return a=e.sent,Ty(r,i,null),Ey(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,Ry(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,sp(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),by.apply(this,arguments)}function wy(e,t,n){return xy.apply(this,arguments)}function xy(){return xy=he(ce().mark((function e(t,n,r){var i,a;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=cl(t),e.prev=1,e.next=4,function(e,t){var n=cl(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.An.lookupMutationBatch(e,t).next((function(t){return ul(null!==t),r=t.keys(),n.An.removeMutationBatch(e,t)})).next((function(){return n.An.performConsistencyCheck(e)})).next((function(){return n.Wn.vn(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Ty(i,n,r),Ey(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,Ry(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,sp(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),xy.apply(this,arguments)}function Ey(e,t){(e.jo.get(t)||[]).forEach((function(e){e.resolve()})),e.jo.delete(t)}function Ty(e,t,n){var r=cl(e),i=r.Ko[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Ko[r.currentUser.toKey()]=i}}function Cy(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=oe(e.Fo.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.Mo.delete(a),n&&e.Oo.zo(a,n)}}catch(o){i.e(o)}finally{i.f()}e.Fo.delete(t),e.isPrimaryClient&&e.qo.us(t).forEach((function(t){e.qo.containsKey(t)||Sy(e,t)}))}function Sy(e,t){e.Lo.delete(t.path.canonicalString());var n=e.Bo.get(t);null!==n&&(iv(e.remoteStore,n),e.Bo=e.Bo.remove(t),e.Uo.delete(n),Ay(e))}function Iy(e,t,n){var r,i=oe(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof ty?(e.qo.addReference(a.key,t),Ny(e,a)):a instanceof ny?(rl("SyncEngine","Document no longer in limbo: "+a.key),e.qo.removeReference(a.key,t),e.qo.containsKey(a.key)||Sy(e,a.key)):sl()}}catch(o){i.e(o)}finally{i.f()}}function Ny(e,t){var n=t.key,r=n.path.canonicalString();e.Bo.get(n)||e.Lo.has(r)||(rl("SyncEngine","New document in limbo: "+n),e.Lo.add(r),Ay(e))}function Ay(e){for(;e.Lo.size>0&&e.Bo.size<e.maxConcurrentLimboResolutions;){var t=e.Lo.values().next().value;e.Lo.delete(t);var n=new Kl(Rl.fromString(t)),r=e.Qo.next();e.Uo.set(r,new ay(n)),e.Bo=e.Bo.insert(n,r),rv(e.remoteStore,new ep(Vf(Pf(n.path)),r,2,_l.I))}}function Ry(e,t,n){return Oy.apply(this,arguments)}function Oy(){return Oy=he(ce().mark((function e(t,n,r){var i,a,o,s;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=cl(t),a=[],o=[],s=[],e.t0=i.Mo.isEmpty(),e.t0){e.next=9;break}return i.Mo.forEach((function(e,t){s.push(i.Go(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=hp.$n(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.Oo.br(a),e.next=9,function(){var e=he(ce().mark((function e(t,n){var r,i,a,o,s,u,c,l;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=cl(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Yd.forEach(n,(function(t){return Yd.forEach(t.kn,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Yd.forEach(t.xn,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Xd(e.t0)){e.next=10;break}throw e.t0;case 10:rl("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=oe(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.qn.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.qn=r.qn.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),Oy.apply(this,arguments)}function Py(e,t){return Dy.apply(this,arguments)}function Dy(){return Dy=he(ce().mark((function e(t,n){var r,i;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=cl(t)).currentUser.isEqual(n)){e.next=11;break}return rl("SyncEngine","User change. New user:",n.toKey()),e.next=5,yp(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.jo.forEach((function(e){e.forEach((function(e){e.reject(new fl(ll.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.jo.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,Ry(r,i.Gn);case 11:case"end":return e.stop()}}),e)}))),Dy.apply(this,arguments)}function Fy(e,t){var n=cl(e),r=n.Uo.get(t);if(r&&r.$o)return Bh().add(r.key);var i=Bh(),a=n.Fo.get(t);if(!a)return i;var o,s=oe(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.Mo.get(u);i=i.unionWith(c.view.bo)}}catch(l){s.e(l)}finally{s.f()}return i}function Ly(e){var t=cl(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=vy.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Fy.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=gy.bind(null,t),t.Oo.br=Xv.bind(null,t.eventManager),t.Oo.zo=Jv.bind(null,t.eventManager),t}function My(e){var t=cl(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=_y.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=wy.bind(null,t),t}var jy=function(){function e(){Q(this,e),this.synchronizeTabs=!1}return X(e,[{key:"initialize",value:function(){var e=he(ce().mark((function e(t){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.k=Hp(t.databaseInfo.databaseId),this.sharedClientState=this.Jo(t),this.persistence=this.Yo(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.Xo(t),this.localStore=this.Zo(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Xo",value:function(e){return null}},{key:"Zo",value:function(e){return vp(this.persistence,new dp,e.initialUser,this.k)}},{key:"Yo",value:function(e){return new Dp(Lp.ks,this.k)}},{key:"Jo",value:function(e){return new jp}},{key:"terminate",value:function(){var e=he(ce().mark((function e(){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Uy=function(){function e(){Q(this,e)}return X(e,[{key:"initialize",value:function(){var e=he(ce().mark((function e(t,n){var r=this;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return my(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Py.bind(null,this.syncEngine),e.next=12,Lv(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Kv}},{key:"createDatastore",value:function(e){var t,n=Hp(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Bp(t));return function(e,t,n,r){return new Yp(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return my(o.syncEngine,e,0)},a=Vp.Pt()?new Vp:new Up,new Jp(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new oy(e,t,n,r,i,a);return o&&(s.Wo=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=he(ce().mark((function e(t){var n;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=cl(t),rl("RemoteStore","RemoteStore shutting down."),n.Gr.add(5),e.next=5,tv(n);case 5:n.Hr.shutdown(),n.Jr.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();var Vy=function(){function e(t){Q(this,e),this.observer=t,this.muted=!1}return X(e,[{key:"next",value:function(e){this.observer.next&&this.ec(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.ec(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"nc",value:function(){this.muted=!0}},{key:"ec",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),zy=function(){function e(t,n,r,i){var a=this;Q(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Zc.UNAUTHENTICATED,this.clientId=wl.A(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=he(ce().mark((function e(t){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return rl("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return rl("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return X(e,[{key:"getConfiguration",value:function(){var e=he(ce().mark((function e(){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new fl(ll.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new hl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(he(ce().mark((function n(){var r;return ce().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=zv(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function qy(e,t){return By.apply(this,arguments)}function By(){return By=he(ce().mark((function e(t,n){var r,i;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),rl("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=he(ce().mark((function e(t){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,yp(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),By.apply(this,arguments)}function Wy(e,t){return Hy.apply(this,arguments)}function Hy(){return Hy=he(ce().mark((function e(t,n){var r,i;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,Ky(t);case 3:return r=e.sent,rl("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return Dv(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return Dv(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),Hy.apply(this,arguments)}function Ky(e){return Gy.apply(this,arguments)}function Gy(){return Gy=he(ce().mark((function e(t){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return rl("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,qy(t,new jy);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),Gy.apply(this,arguments)}function $y(e){return Qy.apply(this,arguments)}function Qy(){return Qy=he(ce().mark((function e(t){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return rl("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,Wy(t,new Uy);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),Qy.apply(this,arguments)}function Yy(e){return $y(e).then((function(e){return e.syncEngine}))}function Xy(e){return Jy.apply(this,arguments)}function Jy(){return Jy=he(ce().mark((function e(t){var n,r;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$y(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=sy.bind(null,n.syncEngine),r.onUnlisten=fy.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),Jy.apply(this,arguments)}function Zy(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new hl;return e.asyncQueue.enqueueAndForget(he(ce().mark((function i(){return ce().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Vy({next:function(a){t.enqueueAndForget((function(){return Qv(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new fl(ll.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new fl(ll.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new ey(Pf(n.path),a,{includeMetadataChanges:!0,wo:!0});return Gv(e,o)},i.next=3,Xy(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function em(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new hl;return e.asyncQueue.enqueueAndForget(he(ce().mark((function i(){return ce().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Vy({next:function(n){t.enqueueAndForget((function(){return Qv(e,o)})),n.fromCache&&"server"===r.source?i.reject(new fl(ll.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new ey(n,a,{includeMetadataChanges:!0,wo:!0});return Gv(e,o)},i.next=3,Xy(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var tm=X((function e(t,n,r,i,a,o,s,u){Q(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),nm=function(){function e(t,n){Q(this,e),this.projectId=t,this.database=n||"(default)"}return X(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}]),e}(),rm=new Map;function im(e,t,n){if(!n)throw new fl(ll.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function am(e){if(!Kl.isDocumentKey(e))throw new fl(ll.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function om(e){if(Kl.isDocumentKey(e))throw new fl(ll.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function sm(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":sl()}function um(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new fl(ll.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=sm(e);throw new fl(ll.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}var cm=function(){function e(t){var n;if(Q(this,e),void 0===t.host){if(void 0!==t.ssl)throw new fl(ll.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new fl(ll.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,function(e,t,n,r){if(!0===t&&!0===r)throw new fl(ll.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return X(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),lm=function(){function e(t,n,r){Q(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cm({}),this._settingsFrozen=!1,t instanceof nm?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new fl(ll.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nm(e.options.projectId)}(t))}return X(e,[{key:"app",get:function(){if(!this._app)throw new fl(ll.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new fl(ll.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cm(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new pl;switch(e.type){case"gapi":var t=e.client;return ul(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new ml(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new fl(ll.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=rm.get(e);t&&(rl("ComponentProvider","Removing Datastore"),rm.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();var fm=function(){function e(t,n,r){Q(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return X(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new dm(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),hm=function(){function e(t,n,r){Q(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return X(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),dm=function(e){Z(n,e);var t=ae(n);function n(e,r,i){var a;return Q(this,n),(a=t.call(this,e,r,Pf(i)))._path=i,a.type="collection",a}return X(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new fm(this.firestore,null,new Kl(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(hm);function pm(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=et(e),im("collection","path",t),e instanceof lm){var a=Rl.fromString.apply(Rl,[t].concat(r));return om(a),new dm(e,null,a)}if(!(e instanceof fm||e instanceof dm))throw new fl(ll.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Rl.fromString.apply(Rl,[t].concat(r)));return om(o),new dm(e.firestore,null,o)}function vm(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=et(e),1===arguments.length&&(t=wl.A()),im("doc","path",t),e instanceof lm){var a=Rl.fromString.apply(Rl,[t].concat(r));return am(a),new fm(e,null,new Kl(a))}if(!(e instanceof fm||e instanceof dm))throw new fl(ll.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Rl.fromString.apply(Rl,[t].concat(r)));return am(o),new fm(e.firestore,e instanceof dm?e.converter:null,new Kl(o))}var ym=function(){function e(){var t=this;Q(this,e),this.mc=Promise.resolve(),this.gc=[],this.yc=!1,this.Tc=[],this.Ec=null,this.Ic=!1,this.Ac=!1,this.Rc=[],this.ur=new Kp(this,"async_queue_retry"),this.bc=function(){var e=Wp();e&&rl("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ur.er()};var n=Wp();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.bc)}return X(e,[{key:"isShuttingDown",get:function(){return this.yc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Pc(),this.vc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.yc){this.yc=!0,this.Ac=e||!1;var t=Wp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.bc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Pc(),this.yc)return new Promise((function(){}));var n=new hl;return this.vc((function(){return t.yc&&t.Ac?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.gc.push(e),t.Vc()}))}},{key:"Vc",value:function(){var e=he(ce().mark((function e(){var t=this;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.gc.length){e.next=14;break}return e.prev=1,e.next=4,this.gc[0]();case 4:this.gc.shift(),this.ur.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Xd(e.t0)){e.next=12;break}throw e.t0;case 12:rl("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.gc.length>0&&this.ur.Zi((function(){return t.Vc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"vc",value:function(e){var t=this,n=this.mc.then((function(){return t.Ic=!0,e().catch((function(e){t.Ec=e,t.Ic=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw il("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Ic=!1,e}))}));return this.mc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Pc(),this.Rc.indexOf(e)>-1&&(t=0);var i=Vv.createAndSchedule(this,e,t,n,(function(e){return r.Sc(e)}));return this.Tc.push(i),i}},{key:"Pc",value:function(){this.Ec&&sl()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Dc",value:function(){var e=he(ce().mark((function e(){var t;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.mc,e.next=3,t;case 3:if(t!==this.mc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Cc",value:function(e){var t,n=oe(this.Tc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Nc",value:function(e){var t=this;return this.Dc().then((function(){t.Tc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=oe(t.Tc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Dc()}))}},{key:"kc",value:function(e){this.Rc.push(e)}},{key:"Sc",value:function(e){var t=this.Tc.indexOf(e);this.Tc.splice(t,1)}}]),e}();function mm(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=oe(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var gm=function(e){Z(n,e);var t=ae(n);function n(e,r,i){var a;return Q(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new ym,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return X(n,[{key:"_terminate",value:function(){return this._firestoreClient||_m(this),this._firestoreClient.terminate()}}]),n}(lm);function km(e){return e._firestoreClient||_m(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function _m(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new tm(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new zy(e._authCredentials,e._appCheckCredentials,e._queue,r)}var bm=function(){function e(){Q(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new fl(ll.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pl(n)}return X(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var wm=function(){function e(t){Q(this,e),this._byteString=t}return X(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Fl.fromBase64String(t))}catch(t){throw new fl(ll.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Fl.fromUint8Array(t))}}]),e}(),xm=X((function e(t){Q(this,e),this._methodName=t})),Em=function(){function e(t,n){if(Q(this,e),!isFinite(t)||t<-90||t>90)throw new fl(ll.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new fl(ll.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return X(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return xl(this._lat,e._lat)||xl(this._long,e._long)}}]),e}(),Tm=/^__.*__$/,Cm=function(){function e(t,n,r){Q(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return X(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new _h(e,this.data,this.fieldMask,t,this.fieldTransforms):new kh(e,this.data,t,this.fieldTransforms)}}]),e}(),Sm=function(){function e(t,n,r){Q(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return X(e,[{key:"toMutation",value:function(e,t){return new _h(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function Im(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw sl()}}var Nm=function(){function e(t,n,r,i,a,o){Q(this,e),this.settings=t,this.databaseId=n,this.k=r,this.ignoreUndefinedProperties=i,void 0===a&&this.xc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return X(e,[{key:"path",get:function(){return this.settings.path}},{key:"$c",get:function(){return this.settings.$c}},{key:"Oc",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Mc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Oc({path:n,Fc:!1});return r.Lc(e),r}},{key:"Bc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Oc({path:n,Fc:!1});return r.xc(),r}},{key:"Uc",value:function(e){return this.Oc({path:void 0,Fc:!0})}},{key:"qc",value:function(e){return Km(e,this.settings.methodName,this.settings.Kc||!1,this.path,this.settings.jc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"xc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Lc(this.path.get(e))}},{key:"Lc",value:function(e){if(0===e.length)throw this.qc("Document fields must not be empty");if(Im(this.$c)&&Tm.test(e))throw this.qc('Document fields cannot begin and end with "__"')}}]),e}(),Am=function(){function e(t,n,r){Q(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.k=r||Hp(t)}return X(e,[{key:"Qc",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Nm({$c:e,methodName:t,jc:n,path:Pl.emptyPath(),Fc:!1,Kc:r},this.databaseId,this.k,this.ignoreUndefinedProperties)}}]),e}();function Rm(e){var t=e._freezeSettings(),n=Hp(e._databaseId);return new Am(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Om(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.Qc(a.merge||a.mergeFields?2:0,t,n,i);qm("Data must be an object, but it was:",o,r);var s,u,c=Vm(r,o);if(a.merge)s=new Dl(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=oe(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=Bm(t,d,n);if(!o.contains(p))throw new fl(ll.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));Gm(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}s=new Dl(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new Cm(new uf(c),s,u)}var Pm=function(e){Z(n,e);var t=ae(n);function n(){return Q(this,n),t.apply(this,arguments)}return X(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.$c)throw 1===e.$c?e.qc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.qc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(xm);function Dm(e,t,n){return new Nm({$c:3,jc:t.settings.jc,methodName:e._methodName,Fc:n},t.databaseId,t.k,t.ignoreUndefinedProperties)}var Fm=function(e){Z(n,e);var t=ae(n);function n(e,r){var i;return Q(this,n),(i=t.call(this,e)).Wc=r,i}return X(n,[{key:"_toFieldTransform",value:function(e){var t=Dm(this,e,!0),n=this.Wc.map((function(e){return Um(e,t)})),r=new nh(n);return new ch(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(xm);function Lm(e,t,n,r){var i=e.Qc(1,t,n);qm("Data must be an object, but it was:",i,r);var a=[],o=uf.empty();Il(r,(function(e,r){var s=Hm(t,e,n);r=et(r);var u=i.Bc(s);if(r instanceof Pm)a.push(s);else{var c=Um(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new Dl(a);return new Sm(o,s,i.fieldTransforms)}function Mm(e,t,n,r,i,a){var o=e.Qc(1,t,n),s=[Bm(t,r,n)],u=[i];if(a.length%2!=0)throw new fl(ll.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(Bm(t,a[c])),u.push(a[c+1]);for(var l=[],f=uf.empty(),h=s.length-1;h>=0;--h)if(!Gm(l,s[h])){var d=s[h],p=u[h];p=et(p);var v=o.Bc(d);if(p instanceof Pm)l.push(d);else{var y=Um(p,v);null!=y&&(l.push(d),f.set(d,y))}}var m=new Dl(l);return new Sm(f,m,o.fieldTransforms)}function jm(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Um(n,e.Qc(r?4:3,t))}function Um(e,t){if(zm(e=et(e)))return qm("Unsupported field value:",t,e),Vm(e,t);if(e instanceof xm)return function(e,t){if(!Im(t.$c))throw t.qc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.qc("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&4!==t.$c)throw t.qc("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=oe(e);try{for(a.s();!(n=a.n()).done;){var o=Um(n.value,t.Uc(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=et(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Yf(t.k,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Tl.fromDate(e);return{timestampValue:id(t.k,n)}}if(e instanceof Tl){var r=new Tl(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:id(t.k,r)}}if(e instanceof Em)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof wm)return{bytesValue:ad(t.k,e._byteString)};if(e instanceof fm){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.qc("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:ud(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.qc("Unsupported field value: ".concat(sm(e)))}(e,t)}function Vm(e,t){var n={};return Nl(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Il(e,(function(e,r){var i=Um(r,t.Mc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function zm(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Tl||e instanceof Em||e instanceof wm||e instanceof fm||e instanceof xm)}function qm(e,t,n){if(!zm(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=sm(n);throw"an object"===r?t.qc(e+" a custom object"):t.qc(e+" "+r)}}function Bm(e,t,n){if((t=et(t))instanceof bm)return t._internalPath;if("string"==typeof t)return Hm(e,t);throw Km("Field path arguments must be of type string or ",e,!1,void 0,n)}var Wm=new RegExp("[~\\*/\\[\\]]");function Hm(e,t,n){if(t.search(Wm)>=0)throw Km("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return de(bm,le(t.split(".")))._internalPath}catch(r){throw Km("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Km(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new fl(ll.INVALID_ARGUMENT,s+e+u)}function Gm(e,t){return e.some((function(e){return e.isEqual(t)}))}var $m=function(){function e(t,n,r,i,a){Q(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return X(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new fm(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new Qm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(Ym("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),Qm=function(e){Z(n,e);var t=ae(n);function n(){return Q(this,n),t.apply(this,arguments)}return X(n,[{key:"data",value:function(){return Dt(ee(n.prototype),"data",this).call(this)}}]),n}($m);function Ym(e,t){return"string"==typeof t?Hm(e,t):t instanceof bm?t._internalPath:t._delegate._internalPath}var Xm=function(){function e(t,n){Q(this,e),this.hasPendingWrites=t,this.fromCache=n}return X(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Jm=function(e){Z(n,e);var t=ae(n);function n(e,r,i,a,o,s){var u;return Q(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return X(n,[{key:"exists",value:function(){return Dt(ee(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new Zm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(Ym("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}($m),Zm=function(e){Z(n,e);var t=ae(n);function n(){return Q(this,n),t.apply(this,arguments)}return X(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Dt(ee(n.prototype),"data",this).call(this,e)}}]),n}(Jm),eg=function(){function e(t,n,r,i){Q(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Xm(i.hasPendingWrites,i.fromCache),this.query=r}return X(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Zm(n._firestore,n._userDataWriter,r.key,r,new Xm(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new fl(ll.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new Zm(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Xm(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Zm(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Xm(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:tg(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function tg(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return sl()}}function ng(e){if(Ff(e)&&0===e.explicitOrderBy.length)throw new fl(ll.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var rg=X((function e(){Q(this,e)}));function ig(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var ag=function(e){Z(n,e);var t=ae(n);function n(e,r,i){var a;return Q(this,n),(a=t.call(this)).zc=e,a.Hc=r,a.Jc=i,a.type="where",a}return X(n,[{key:"_apply",value:function(e){var t=Rm(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new fl(ll.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){ug(o,a);var u,c=[],l=oe(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(sg(r,e,f))}}catch(d){l.e(d)}finally{l.f()}s={arrayValue:{values:c}}}else s=sg(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||ug(o,a),s=jm(n,"where",o,"in"===a||"not-in"===a);var h=yf.create(i,a,s);return function(e,t){if(t.V()){var n=Mf(e);if(null!==n&&!n.isEqual(t.field))throw new fl(ll.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Lf(e);null!==r&&cg(e,t.field,r)}var i=function(e,t){var n,r=oe(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new fl(ll.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new fl(ll.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.zc,this.Hc,this.Jc);return new hm(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Rf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(rg);function og(e,t,n){var r=t,i=Ym("where",e);return new ag(i,r,n)}function sg(e,t,n){if("string"==typeof(n=et(n))){if(""===n)throw new fl(ll.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jf(t)&&-1!==n.indexOf("/"))throw new fl(ll.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Rl.fromString(n));if(!Kl.isDocumentKey(r))throw new fl(ll.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return ef(e,new Kl(r))}if(n instanceof fm)return ef(e,n._key);throw new fl(ll.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(sm(n),"."))}function ug(e,t){if(!Array.isArray(e)||0===e.length)throw new fl(ll.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new fl(ll.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function cg(e,t,n){if(!n.isEqual(t))throw new fl(ll.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var lg=function(){function e(){Q(this,e)}return X(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Gl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jl(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ul(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw sl()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Il(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new Em(jl(e.latitude),jl(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=zl(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ql(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Ml(e);return new Tl(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Rl.fromString(e);ul(Rd(n));var r=new nm(n.get(1),n.get(3)),i=new Kl(n.popFirst(5));return r.isEqual(t)||il("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function fg(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}function hg(e){e=um(e,fm);var t=um(e.firestore,gm);return Zy(km(t),e._key).then((function(n){return kg(t,e,n)}))}var dg=function(e){Z(n,e);var t=ae(n);function n(e){var r;return Q(this,n),(r=t.call(this)).firestore=e,r}return X(n,[{key:"convertBytes",value:function(e){return new wm(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new fm(this.firestore,null,t)}}]),n}(lg);function pg(e){e=um(e,hm);var t=um(e.firestore,gm),n=km(t),r=new dg(t);return ng(e._query),em(n,e._query).then((function(n){return new eg(t,r,e,n)}))}function vg(e,t,n){e=um(e,fm);var r=um(e.firestore,gm),i=fg(e.converter,t,n);return gg(r,[Om(Rm(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,fh.none())])}function yg(e,t,n){e=um(e,fm);for(var r=um(e.firestore,gm),i=Rm(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return gg(r,[("string"==typeof(t=et(t))||t instanceof bm?Mm(i,"updateDoc",e._key,t,n,o):Lm(i,"updateDoc",e._key,t)).toMutation(e._key,fh.exists(!0))])}function mg(e){return gg(um(e.firestore,gm),[new Ch(e._key,fh.none())])}function gg(e,t){return function(e,t){var n=new hl;return e.asyncQueue.enqueueAndForget(he(ce().mark((function r(){return ce().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=dy,r.next=3,Yy(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(km(e),t)}function kg(e,t,n){var r=n.docs.get(t._key),i=new dg(e);return new Jm(e,i,t._key,r,new Xm(n.hasPendingWrites,n.fromCache),t.converter)}function _g(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Fm("arrayUnion",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];el="9.6.5",Et(new tt("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new gm(i,new vl(e.getProvider("auth-internal")),new kl(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),Ot(Jc,"3.4.4",e),Ot(Jc,"3.4.4","esm2017")}();var bg="firebasestorage.googleapis.com",wg=function(e){Z(n,e);var t=ae(n);function n(e,r){var i;return Q(this,n),(i=t.call(this,xg(e),"Firebase Storage: ".concat(r," (").concat(xg(e),")"))).customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(re(i),n.prototype),i}return X(n,[{key:"_codeEquals",value:function(e){return xg(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(Pe);function xg(e){return"storage/"+e}function Eg(){return new wg("unknown","An unknown error occurred, please check the error payload for server response.")}function Tg(){return new wg("canceled","User canceled the upload/download.")}function Cg(e){return new wg("invalid-argument",e)}function Sg(){return new wg("app-deleted","The Firebase app was deleted.")}var Ig,Ng=function(){function e(t,n){Q(this,e),this.bucket=t,this.path_=n}return X(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(i){return new e(t,"")}if(""===r.path)return r;throw new wg("invalid-default-bucket","Invalid default bucket '"+t+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===bg?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<u.length;c++){var l=u[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new wg("invalid-url","Invalid URL '"+e+"'.")}(t);return r}}]),e}(),Ag=function(){function e(t){Q(this,e),this.promise_=Promise.reject(t)}return X(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function Rg(e,t,n,r){if(r<t)throw Cg("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw Cg("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function Og(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Ig||(Ig={}));var Pg=function(){function e(t,n,r,i,a,o,s,u,c,l,f){var h=this;Q(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return X(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(u){i(u)}else if(null!==a){var s=Eg();s.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,s)):i(s)}else{if(n.canceled)i(e.appDelete_?Sg():Tg());else i(new wg("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}};this.canceled_?t(0,new Dg(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,s=0;function u(){return 2===s}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,u())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(u()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===s?(s=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(s=2),clearTimeout(i),f(0)):e||(s=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new Dg(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===Ig.NO_ERROR,a=r.getStatus();if(n&&!e.isRetryStatusCode_(a)){var o=-1!==e.successCodes_.indexOf(a);t(!0,new Dg(o,r))}else{var s=r.getErrorCode()===Ig.ABORT;t(!1,new Dg(!1,null,s))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}},{key:"isRetryStatusCode_",value:function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r}}]),e}(),Dg=X((function e(t,n,r){Q(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function Fg(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}var Lg=function(){function e(t,n){Q(this,e),this._service=t,this._location=n instanceof Ng?n:Ng.makeFromUrl(n,t.host)}return X(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new Ng(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return Fg(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new Ng(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw function(e){return new wg("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}]),e}();function Mg(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:Ng.makeFromBucketSpec(n,e)}var jg=function(){function e(t,n,r,i,a){Q(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=bg,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Ng.makeFromBucketSpec(i,this._host):Mg(this._host,this.app.options)}return X(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=Ng.makeFromBucketSpec(this._url,e):this._bucket=Mg(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){Rg("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){Rg("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=he(ce().mark((function e(){var t,n;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=he(ce().mark((function e(){var t,n;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new Lg(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this;if(this._deleted)return new Ag(Sg());var a=function(e,t,n,r,i,a){var o=Og(e.urlParams),s=e.url+o,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new Pg(s,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,n,r,t,this._firebaseVersion);return this._requests.add(a),a.getPromise().then((function(){return i._requests.delete(a)}),(function(){return i._requests.delete(a)})),a}},{key:"makeRequestWithTokens",value:function(){var e=he(ce().mark((function e(t,n){var r,i,o,s;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=a(r,2),o=i[0],s=i[1],e.abrupt("return",this._makeRequest(t,n,o,s).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),Ug="@firebase/storage",Vg="0.9.2",zg="storage";function qg(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new jg(r,i,a,n,At)}Et(new tt(zg,qg,"PUBLIC").setMultipleInstances(!0)),Ot(Ug,Vg,""),Ot(Ug,Vg,"esm2017");var Bg="@firebase/database",Wg="0.12.5",Hg="";var Kg=function(){function e(t){Q(this,e),this.domStorage_=t,this.prefix_="firebase:"}return X(e,[{key:"set",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),je(t))}},{key:"get",value:function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Me(t)}},{key:"remove",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:"prefixedName_",value:function(e){return this.prefix_+e}},{key:"toString",value:function(){return this.domStorage_.toString()}}]),e}(),Gg=function(){function e(){Q(this,e),this.cache_={},this.isInMemoryStorage=!0}return X(e,[{key:"set",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:"get",value:function(e){return Ve(this.cache_,e)?this.cache_[e]:null}},{key:"remove",value:function(e){delete this.cache_[e]}}]),e}(),$g=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Kg(t)}}catch(n){}return new Gg},Qg=$g("localStorage"),Yg=$g("sessionStorage"),Xg=new pt("@firebase/database"),Jg=function(){var e=1;return function(){return e++}}(),Zg=function(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,ge(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new Qe;n.update(t);var r=n.digest();return be.encodeByteArray(r)},ek=function e(){for(var t="",n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?t+=e.apply(null,r):t+="object"===typeof r?je(r):r,t+=" "}return t},tk=null,nk=!0,rk=function(e,t){ge(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(Xg.logLevel=at.VERBOSE,tk=Xg.log.bind(Xg),t&&Yg.set("logging_enabled",!0)):"function"===typeof e?tk=e:(tk=null,Yg.remove("logging_enabled"))},ik=function(){if(!0===nk&&(nk=!1,null===tk&&!0===Yg.get("logging_enabled")&&rk(!0)),tk){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=ek.apply(null,t);tk(r)}},ak=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];ik.apply(void 0,[e].concat(n))}},ok=function(){var e="FIREBASE INTERNAL ERROR: "+ek.apply(void 0,arguments);Xg.error(e)},sk=function(){var e="FIREBASE FATAL ERROR: ".concat(ek.apply(void 0,arguments));throw Xg.error(e),new Error(e)},uk=function(){var e="FIREBASE WARNING: "+ek.apply(void 0,arguments);Xg.warn(e)},ck=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},lk="[MIN_NAME]",fk="[MAX_NAME]",hk=function(e,t){if(e===t)return 0;if(e===lk||t===fk)return-1;if(t===lk||e===fk)return 1;var n=wk(e),r=wk(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},dk=function(e,t){return e===t?0:e<t?-1:1},pk=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+je(t))},vk=function e(t){if("object"!==typeof t||null===t)return je(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=je(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},yk=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function mk(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var gk=function(e){ge(!ck(e),"Invalid JSON number");var t,n,r,i,a,o=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),o))+o,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();var u=s.join(""),c="";for(a=0;a<64;a+=8){var l=parseInt(u.substr(a,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()};var kk=new RegExp("^-?(0*)\\d{1,10}$"),_k=-2147483648,bk=2147483647,wk=function(e){if(kk.test(e)){var t=Number(e);if(t>=_k&&t<=bk)return t}return null},xk=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw uk("Exception was thrown by user callback.",e),t}),Math.floor(0))}},Ek=function(e,t){var n=setTimeout(e,t);return"object"===typeof n&&n.unref&&n.unref(),n},Tk=function(){function e(t,n){var r=this;Q(this,e),this.appName_=t,this.appCheckProvider=n,this.appCheck=null===n||void 0===n?void 0:n.getImmediate({optional:!0}),this.appCheck||null===n||void 0===n||n.get().then((function(e){return r.appCheck=e}))}return X(e,[{key:"getToken",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){uk('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}]),e}(),Ck=function(){function e(t,n,r){var i=this;Q(this,e),this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit((function(e){return i.auth_=e}))}return X(e,[{key:"getToken",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(ik("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))}},{key:"removeTokenChangeListener",value:function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',uk(e)}}]),e}(),Sk=function(){function e(t){Q(this,e),this.accessToken=t}return X(e,[{key:"getToken",value:function(e){return Promise.resolve({accessToken:this.accessToken})}},{key:"addTokenChangeListener",value:function(e){e(this.accessToken)}},{key:"removeTokenChangeListener",value:function(e){}},{key:"notifyForInvalidToken",value:function(){}}]),e}();Sk.OWNER="owner";var Ik="5",Nk=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Ak="websocket",Rk="long_polling",Ok=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6];Q(this,e),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Qg.get("host:"+t)||this._host}return X(e,[{key:"isCacheableHost",value:function(){return"s-"===this.internalHost.substr(0,2)}},{key:"isCustomHost",value:function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}},{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Qg.set("host:"+this._host,this.internalHost))}},{key:"toString",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}},{key:"toURLString",value:function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}]),e}();function Pk(e,t,n){var r;if(ge("string"===typeof t,"typeof type must == string"),ge("object"===typeof n,"typeof params must == object"),t===Ak)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==Rk)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return mk(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var Dk=function(){function e(){Q(this,e),this.counters_={}}return X(e,[{key:"incrementCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Ve(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:"get",value:function(){return Ee(this.counters_)}}]),e}(),Fk={},Lk={};function Mk(e){var t=e.toString();return Fk[t]||(Fk[t]=new Dk),Fk[t]}var jk=function(){function e(t){Q(this,e),this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return X(e,[{key:"closeAfter",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:"handleResponse",value:function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=n.pendingResponses[n.currentResponseNum];delete n.pendingResponses[n.currentResponseNum];for(var t=function(t){e[t]&&xk((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(n.currentResponseNum===n.closeAfterResponse)return n.onClose&&(n.onClose(),n.onClose=null),"break";n.currentResponseNum++};this.pendingResponses[this.currentResponseNum];){if("break"===r())break}}}]),e}(),Uk="start",Vk="close",zk=function(){function e(t,n,r,i,a,o,s){var u=this;Q(this,e),this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ak(t),this.stats_=Mk(n),this.urlFn=function(e){return u.appCheckToken&&(e.ac=u.appCheckToken),Pk(n,Rk,e)}}return X(e,[{key:"open",value:function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new jk(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(Oe()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new qk((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1],o=t[2];t[3],t[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===Uk)n.id=a,n.password=o;else{if(i!==Vk)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,a)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=Ik,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e.ac=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&Nk.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))}},{key:"start",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:"markConnectionHealthy",value:function(){}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}},{key:"send",value:function(e){var t=je(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=we(t),r=yk(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}},{key:"addDisconnectPingFrame",value:function(e,t){if(!Oe()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}}},{key:"incrementIncomingBytes_",value:function(e){var t=je(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}],[{key:"forceAllow",value:function(){e.forceAllow_=!0}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){return!Oe()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}}]),e}(),qk=function(){function e(t,n,r,i){if(Q(this,e),this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Oe())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=Jg(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(s){ik("frame writing exception"),s.stack&&ik(s.stack),ik(s)}}}return X(e,[{key:"close",value:function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:"startLongPoll",value:function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}},{key:"newRequest_",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}},{key:"enqueueSegment",value:function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}},{key:"addLongPollTag_",value:function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))}},{key:"addTag",value:function(e,t){var n=this;Oe()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){ik("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))}}],[{key:"createIFrame_",value:function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||ik("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}}]),e}(),Bk=null;"undefined"!==typeof MozWebSocket?Bk=MozWebSocket:"undefined"!==typeof WebSocket&&(Bk=WebSocket);var Wk=function(){function e(t,n,r,i,a,o,s){Q(this,e),this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ak(this.connId),this.stats_=Mk(n),this.connURL=e.connectionURL_(n,o,s,i),this.nodeAdmin=n.nodeAdmin}return X(e,[{key:"open",value:function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Qg.set("previous_websocket_failure",!0);try{if(Oe()){var r=this.nodeAdmin?"AdminNode":"Node",i={headers:{"User-Agent":"Firebase/".concat(Ik,"/").concat(Hg,"/").concat(process.platform,"/").concat(r),"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(i.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a={NODE_ENV:"production",PUBLIC_URL:"/shine",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_Firebase_ApiKey:"AIzaSyDmnW9W_gHuiEEsPw3XI",REACT_APP_Firebase_AppId:"1:379613040309:web:dc367838d998b79f70b8fc",REACT_APP_Firebase_AuthDomain:"shine-dc466.firebaseapp.com",REACT_APP_Firebase_MessagingSenderId:"379613040309",REACT_APP_Firebase_ProjectId:"shine-dc466",REACT_APP_Firebase_StorageBucket:"shine-dc466.appspot.com"},o=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;o&&(i.proxy={origin:o}),this.mySock=new Bk(this.connURL,[],i)}else{var s={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new Bk(this.connURL,[],s)}}catch(c){this.log_("Error instantiating WebSocket.");var u=c.message||c.data;return u&&this.log_(u),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}}},{key:"start",value:function(){}},{key:"markConnectionHealthy",value:function(){Qg.remove("previous_websocket_failure")}},{key:"appendFrame_",value:function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=Me(t);this.onMessage(n)}}},{key:"handleNewFrameCount_",value:function(e){this.totalFrames=e,this.frames=[]}},{key:"extractFrameCount_",value:function(e){if(ge(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}},{key:"handleIncomingFrame",value:function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}}},{key:"send",value:function(e){this.resetKeepAlive();var t=je(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=yk(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}},{key:"resetKeepAlive",value:function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))}},{key:"sendString_",value:function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:"connectionURL_",value:function(e,t,n,r){var i={};return i.v=Ik,!Oe()&&"undefined"!==typeof location&&location.hostname&&Nk.test(location.hostname)&&(i.r="f"),t&&(i.s=t),n&&(i.ls=n),r&&(i.ac=r),Pk(e,Ak,i)}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==Bk&&!e.forceDisallow_}},{key:"previouslyFailed",value:function(){return Qg.isInMemoryStorage||!0===Qg.get("previous_websocket_failure")}}]),e}();Wk.responsesRequiredToBeHealthy=2,Wk.healthyTimeout=3e4;var Hk=function(){function e(t){Q(this,e),this.initTransports_(t)}return X(e,[{key:"initTransports_",value:function(t){var n=Wk&&Wk.isAvailable(),r=n&&!Wk.previouslyFailed();if(t.webSocketOnly&&(n||uk("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Wk];else{var i,a=this.transports_=[],o=oe(e.ALL_TRANSPORTS);try{for(o.s();!(i=o.n()).done;){var s=i.value;s&&s.isAvailable()&&a.push(s)}}catch(u){o.e(u)}finally{o.f()}}}},{key:"initialTransport",value:function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}},{key:"upgradeTransport",value:function(){return this.transports_.length>1?this.transports_[1]:null}}],[{key:"ALL_TRANSPORTS",get:function(){return[zk,Wk]}}]),e}(),Kk=function(){function e(t,n,r,i,a,o,s,u,c,l){Q(this,e),this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=u,this.onKill_=c,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ak("c:"+this.id+":"),this.transportManager_=new Hk(n),this.log_("Connection created"),this.start_()}return X(e,[{key:"start_",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Ek((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))}},{key:"nextTransportId_",value:function(){return"c:"+this.id+":"+this.connectionCount++}},{key:"disconnReceiver_",value:function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}}},{key:"connReceiver_",value:function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}}},{key:"sendRequest",value:function(e){var t={t:"d",d:e};this.sendData_(t)}},{key:"tryCleanupConnection",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:"onSecondaryControl_",value:function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}},{key:"onSecondaryMessageReceived_",value:function(e){var t=pk("t",e),n=pk("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}},{key:"upgradeIfSecondaryHealthy_",value:function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}},{key:"proceedWithUpgrade_",value:function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:"onPrimaryMessageReceived_",value:function(e){var t=pk("t",e),n=pk("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}},{key:"onDataMessage_",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:"onPrimaryResponse_",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:"onControl_",value:function(e){var t=pk("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?ok("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ok("Unknown control packet command: "+t)}}},{key:"onHandshake_",value:function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),Ik!==n&&uk("Protocol version mismatch detected"),this.tryStartUpgrade_())}},{key:"tryStartUpgrade_",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:"startUpgrade_",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Ek((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))}},{key:"onReset_",value:function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:"onConnectionEstablished_",value:function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ek((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}},{key:"sendPingOnPrimaryIfNecessary_",value:function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}},{key:"onSecondaryConnectionLost_",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}},{key:"onConnectionLost_",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Qg.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:"onConnectionShutdown_",value:function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:"sendData_",value:function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}},{key:"close",value:function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:"closeConnections_",value:function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),e}(),Gk=function(){function e(){Q(this,e)}return X(e,[{key:"put",value:function(e,t,n,r){}},{key:"merge",value:function(e,t,n,r){}},{key:"refreshAuthToken",value:function(e){}},{key:"refreshAppCheckToken",value:function(e){}},{key:"onDisconnectPut",value:function(e,t,n){}},{key:"onDisconnectMerge",value:function(e,t,n){}},{key:"onDisconnectCancel",value:function(e,t){}},{key:"reportStats",value:function(e){}}]),e}(),$k=function(){function e(t){Q(this,e),this.allowedEvents_=t,this.listeners_={},ge(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return X(e,[{key:"trigger",value:function(e){if(Array.isArray(this.listeners_[e])){for(var t=le(this.listeners_[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0;a<t.length;a++)t[a].callback.apply(t[a].context,r)}}},{key:"on",value:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)}},{key:"off",value:function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}},{key:"validateEventType_",value:function(e){ge(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)}}]),e}(),Qk=function(e){Z(n,e);var t=ae(n);function n(){var e;return Q(this,n),(e=t.call(this,["online"])).online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||Ie()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return X(n,[{key:"getInitialEvent",value:function(e){return ge("online"===e,"Unknown event type: "+e),[this.online_]}},{key:"currentlyOnline",value:function(){return this.online_}}],[{key:"getInstance",value:function(){return new n}}]),n}($k),Yk=function(){function e(t,n){if(Q(this,e),void 0===n){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return X(e,[{key:"toString",value:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}]),e}();function Xk(){return new Yk("")}function Jk(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Zk(e){return e.pieces_.length-e.pieceNum_}function e_(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new Yk(e.pieces_,t)}function t_(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function n_(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function r_(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Yk(t,0)}function i_(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Yk)for(var i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else for(var a=t.split("/"),o=0;o<a.length;o++)a[o].length>0&&n.push(a[o]);return new Yk(n,0)}function a_(e){return e.pieceNum_>=e.pieces_.length}function o_(e,t){var n=Jk(e),r=Jk(t);if(null===n)return t;if(n===r)return o_(e_(e),e_(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function s_(e,t){if(Zk(e)!==Zk(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function u_(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(Zk(e)>Zk(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var c_=X((function e(t,n){Q(this,e),this.errorPrefix_=n,this.parts_=n_(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=Ze(this.parts_[r]);l_(this)}));function l_(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+f_(e))}function f_(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var h_=function(e){Z(n,e);var t=ae(n);function n(){var e,r,i;return Q(this,n),e=t.call(this,["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(i="visibilitychange",r="hidden"):"undefined"!==typeof document.mozHidden?(i="mozvisibilitychange",r="mozHidden"):"undefined"!==typeof document.msHidden?(i="msvisibilitychange",r="msHidden"):"undefined"!==typeof document.webkitHidden&&(i="webkitvisibilitychange",r="webkitHidden")),e.visible_=!0,i&&document.addEventListener(i,(function(){var t=!document[r];t!==e.visible_&&(e.visible_=t,e.trigger("visible",t))}),!1),e}return X(n,[{key:"getInitialEvent",value:function(e){return ge("visible"===e,"Unknown event type: "+e),[this.visible_]}}],[{key:"getInstance",value:function(){return new n}}]),n}($k),d_=1e3,p_=function(e){Z(n,e);var t=ae(n);function n(e,r,i,a,o,s,u,c){var l;if(Q(this,n),(l=t.call(this)).repoInfo_=e,l.applicationId_=r,l.onDataUpdate_=i,l.onConnectStatus_=a,l.onServerInfoUpdate_=o,l.authTokenProvider_=s,l.appCheckTokenProvider_=u,l.authOverride_=c,l.id=n.nextPersistentConnectionId_++,l.log_=ak("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingGets_=[],l.outstandingPutCount_=0,l.outstandingGetCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=d_,l.maxReconnectDelay_=3e5,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.appCheckToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.invalidAppCheckTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,c&&!Oe())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return h_.getInstance().on("visible",l.onVisible_,re(l)),-1===e.host.indexOf("fblocal")&&Qk.getInstance().on("online",l.onOnline_,re(l)),l}return X(n,[{key:"sendRequest",value:function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(je(i)),ge(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}},{key:"get",value:function(e){var t=this;this.initConnection_();var n=new Ce,r={p:e._path.toString(),q:e._queryObject},i={action:"g",request:r,onComplete:function(e){var i=e.d;"ok"===e.s?(t.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var a=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var e=t.outstandingGets_[a];void 0!==e&&i===e&&(delete t.outstandingGets_[a],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+a+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(a),n.promise}},{key:"listen",value:function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),ge(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ge(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,o),this.connected_&&this.sendListen_(o)}},{key:"sendGet_",value:function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))}},{key:"sendListen_",value:function(e){var t=this,r=e.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);var o={p:i};e.tag&&(o.q=r._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,(function(o){var s=o.d,u=o.s;n.warnOnListenWarnings_(s,r),(t.listens.get(i)&&t.listens.get(i).get(a))===e&&(t.log_("listen response",o),"ok"!==u&&t.removeListen_(i,a),e.onComplete&&e.onComplete(u,s))}))}},{key:"refreshAuthToken",value:function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)}},{key:"reduceReconnectDelayIfAdminCredential_",value:function(e){(e&&40===e.length||function(e){var t=Ue(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}},{key:"refreshAppCheckToken",value:function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))}},{key:"tryAuth",value:function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=function(e){var t=Ue(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}}},{key:"tryAppCheck",value:function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))}},{key:"unlisten",value:function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),ge(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}},{key:"sendUnlisten_",value:function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}},{key:"onDisconnectPut",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}},{key:"onDisconnectMerge",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}},{key:"onDisconnectCancel",value:function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}},{key:"sendOnDisconnect_",value:function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))}},{key:"put",value:function(e,t,n,r){this.putInternal("p",e,t,n,r)}},{key:"merge",value:function(e,t,n,r){this.putInternal("m",e,t,n,r)}},{key:"putInternal",value:function(e,t,n,r,i){this.initConnection_();var a={p:t,d:n};void 0!==i&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;var o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}},{key:"sendPut_",value:function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))}},{key:"reportStats",value:function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}}},{key:"onDataMessage_",value:function(e){if("r"in e){this.log_("from server: "+je(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}},{key:"onDataPush_",value:function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):ok("Unrecognized action received from server: "+je(e)+"\nAre you using the latest client?")}},{key:"onReady_",value:function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:"scheduleConnect_",value:function(e){var t=this;ge(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))}},{key:"initConnection_",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:"onVisible_",value:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=d_,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}},{key:"onOnline_",value:function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=d_,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}},{key:"onRealtimeDisconnect_",value:function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=d_),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}},{key:"establishConnection_",value:function(){var e=he(ce().mark((function e(){var t,r,i,o,s,u,c,l,f,h,d,p,v,y,m=this;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldReconnect_()){e.next=30;break}return this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+n.nextConnectionId_++,s=this.lastSessionId,u=!1,c=null,l=function(){c?c.close():(u=!0,i())},f=function(e){ge(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(e)},this.realtime_={close:l,sendRequest:f},h=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.prev=16,e.next=19,Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);case 19:d=e.sent,p=a(d,2),v=p[0],y=p[1],u?ik("getToken() completed but was canceled"):(ik("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=y&&y.token,c=new Kk(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,i,(function(e){uk(e+" ("+m.repoInfo_.toString()+")"),m.interrupt("server_kill")}),s)),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(16),this.log_("Failed to get token: "+e.t0),u||(this.repoInfo_.nodeAdmin&&uk(e.t0),l());case 30:case"end":return e.stop()}}),e,this,[[16,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"interrupt",value:function(e){ik("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:"resume",value:function(e){ik("Resuming connection for reason: "+e),delete this.interruptReasons_[e],qe(this.interruptReasons_)&&(this.reconnectDelay_=d_,this.realtime_||this.scheduleConnect_(0))}},{key:"handleTimestamp_",value:function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}},{key:"cancelSentTransactions_",value:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:"onListenRevoked_",value:function(e,t){var n;n=t?t.map((function(e){return vk(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}},{key:"removeListen_",value:function(e,t){var n,r=new Yk(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n}},{key:"onAuthRevoked_",value:function(e,t){ik("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:"onAppCheckRevoked_",value:function(e,t){ik("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:"onSecurityDebugPacket_",value:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}},{key:"restoreState_",value:function(){this.tryAuth(),this.tryAppCheck();var e,t=oe(this.listens.values());try{for(t.s();!(e=t.n()).done;){var n,r=oe(e.value.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this.sendListen_(i)}}catch(u){r.e(u)}finally{r.f()}}}catch(u){t.e(u)}finally{t.f()}for(var a=0;a<this.outstandingPuts_.length;a++)this.outstandingPuts_[a]&&this.sendPut_(a);for(;this.onDisconnectRequestQueue_.length;){var o=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(o.action,o.pathString,o.data,o.onComplete)}for(var s=0;s<this.outstandingGets_.length;s++)this.outstandingGets_[s]&&this.sendGet_(s)}},{key:"sendConnectStats_",value:function(){var e={},t="js";Oe()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+Hg.replace(/\./g,"-")]=1,Ie()?e["framework.cordova"]=1:Ae()&&(e["framework.reactnative"]=1),this.reportStats(e)}},{key:"shouldReconnect_",value:function(){var e=Qk.getInstance().currentlyOnline();return qe(this.interruptReasons_)&&e}}],[{key:"warnOnListenWarnings_",value:function(e,t){if(e&&"object"===typeof e&&Ve(e,"w")){var n=ze(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();uk("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(r," at ")+"".concat(i," to your security rules for better performance."))}}}}]),n}(Gk);p_.nextPersistentConnectionId_=0,p_.nextConnectionId_=0;var v_,y_=function(){function e(t,n){Q(this,e),this.name=t,this.node=n}return X(e,null,[{key:"Wrap",value:function(t,n){return new e(t,n)}}]),e}(),m_=function(){function e(){Q(this,e)}return X(e,[{key:"getCompare",value:function(){return this.compare.bind(this)}},{key:"indexedValueChanged",value:function(e,t){var n=new y_(lk,e),r=new y_(lk,t);return 0!==this.compare(n,r)}},{key:"minPost",value:function(){return y_.MIN}}]),e}(),g_=function(e){Z(n,e);var t=ae(n);function n(){return Q(this,n),t.apply(this,arguments)}return X(n,[{key:"compare",value:function(e,t){return hk(e.name,t.name)}},{key:"isDefinedOn",value:function(e){throw ke("KeyIndex.isDefinedOn not expected to be called.")}},{key:"indexedValueChanged",value:function(e,t){return!1}},{key:"minPost",value:function(){return y_.MIN}},{key:"maxPost",value:function(){return new y_(fk,v_)}},{key:"makePost",value:function(e,t){return ge("string"===typeof e,"KeyIndex indexValue must always be a string."),new y_(e,v_)}},{key:"toString",value:function(){return".key"}}],[{key:"__EMPTY_NODE",get:function(){return v_},set:function(e){v_=e}}]),n}(m_),k_=new g_,__=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;Q(this,e),this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return X(e,[{key:"getNext",value:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack_.length>0}},{key:"peek",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),e}(),b_=function(){function e(t,n,r,i,a){Q(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:E_.EMPTY_NODE,this.right=null!=a?a:E_.EMPTY_NODE}return X(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"count",value:function(){return this.left.count()+1+this.right.count()}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min_",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:"minKey",value:function(){return this.min_().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}},{key:"removeMin_",value:function(){if(this.left.isEmpty())return E_.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}},{key:"remove",value:function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return E_.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}},{key:"isRed_",value:function(){return this.color}},{key:"fixUp_",value:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}},{key:"moveRedLeft_",value:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}},{key:"moveRedRight_",value:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}},{key:"rotateLeft_",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight_",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip_",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth_",value:function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1}},{key:"check_",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}]),e}();b_.RED=!0,b_.BLACK=!1;var w_,x_=function(){function e(){Q(this,e)}return X(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new b_(e,t,null)}},{key:"remove",value:function(e,t){return this}},{key:"count",value:function(){return 0}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"check_",value:function(){return 0}},{key:"isRed_",value:function(){return!1}}]),e}(),E_=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.EMPTY_NODE;Q(this,e),this.comparator_=t,this.root_=n}return X(e,[{key:"insert",value:function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,b_.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,b_.BLACK,null,null))}},{key:"get",value:function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}},{key:"getPredecessorKey",value:function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}},{key:"isEmpty",value:function(){return this.root_.isEmpty()}},{key:"count",value:function(){return this.root_.count()}},{key:"minKey",value:function(){return this.root_.minKey()}},{key:"maxKey",value:function(){return this.root_.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root_.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.root_.reverseTraversal(e)}},{key:"getIterator",value:function(e){return new __(this.root_,null,this.comparator_,!1,e)}},{key:"getIteratorFrom",value:function(e,t){return new __(this.root_,e,this.comparator_,!1,t)}},{key:"getReverseIteratorFrom",value:function(e,t){return new __(this.root_,e,this.comparator_,!0,t)}},{key:"getReverseIterator",value:function(e){return new __(this.root_,null,this.comparator_,!0,e)}}]),e}();function T_(e,t){return hk(e.name,t.name)}function C_(e,t){return hk(e,t)}E_.EMPTY_NODE=new x_;var S_,I_,N_,A_=function(e){return"number"===typeof e?"number:"+gk(e):"string:"+e},R_=function(e){if(e.isLeafNode()){var t=e.val();ge("string"===typeof t||"number"===typeof t||"object"===typeof t&&Ve(t,".sv"),"Priority must be a string or number.")}else ge(e===w_||e.isEmpty(),"priority of unexpected type.");ge(e===w_||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},O_=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.__childrenNodeConstructor.EMPTY_NODE;Q(this,e),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,ge(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),R_(this.priorityNode_)}return X(e,[{key:"isLeafNode",value:function(){return!0}},{key:"getPriority",value:function(){return this.priorityNode_}},{key:"updatePriority",value:function(t){return new e(this.value_,t)}},{key:"getImmediateChild",value:function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"getChild",value:function(t){return a_(t)?this:".priority"===Jk(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"hasChild",value:function(){return!1}},{key:"getPredecessorChildName",value:function(e,t){return null}},{key:"updateImmediateChild",value:function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}},{key:"updateChild",value:function(t,n){var r=Jk(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(ge(".priority"!==r||1===Zk(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(e_(t),n)))}},{key:"isEmpty",value:function(){return!1}},{key:"numChildren",value:function(){return 0}},{key:"forEachChild",value:function(e,t){return!1}},{key:"val",value:function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+A_(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?gk(this.value_):this.value_,this.lazyHash_=Zg(e)}return this.lazyHash_}},{key:"getValue",value:function(){return this.value_}},{key:"compareTo",value:function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(ge(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}},{key:"compareToLeafNode_",value:function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return ge(i>=0,"Unknown leaf type: "+n),ge(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}},{key:"withIndex",value:function(){return this}},{key:"isIndexed",value:function(){return!0}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}],[{key:"__childrenNodeConstructor",get:function(){return S_},set:function(e){S_=e}}]),e}();O_.VALUE_TYPE_ORDER=["object","boolean","number","string"];var P_,D_,F_=function(e){Z(n,e);var t=ae(n);function n(){return Q(this,n),t.apply(this,arguments)}return X(n,[{key:"compare",value:function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?hk(e.name,t.name):i}},{key:"isDefinedOn",value:function(e){return!e.getPriority().isEmpty()}},{key:"indexedValueChanged",value:function(e,t){return!e.getPriority().equals(t.getPriority())}},{key:"minPost",value:function(){return y_.MIN}},{key:"maxPost",value:function(){return new y_(fk,new O_("[PRIORITY-POST]",N_))}},{key:"makePost",value:function(e,t){var n=I_(e);return new y_(t,new O_("[PRIORITY-POST]",n))}},{key:"toString",value:function(){return".priority"}}]),n}(m_),L_=new F_,M_=Math.log(2),j_=function(){function e(t){Q(this,e);var n;this.count=(n=t+1,parseInt(Math.log(n)/M_,10)),this.current_=this.count-1;var r,i=(r=this.count,parseInt(Array(r+1).join("1"),2));this.bits_=t+1&i}return X(e,[{key:"nextBitIsOne",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),e}(),U_=function(e,t,n,r){e.sort(t);var i=function t(r,i){var a,o,s=i-r;if(0===s)return null;if(1===s)return a=e[r],o=n?n(a):a,new b_(o,a.node,b_.BLACK,null,null);var u=parseInt(s/2,10)+r,c=t(r,u),l=t(u+1,i);return a=e[u],o=n?n(a):a,new b_(o,a.node,b_.BLACK,c,l)},a=function(t){for(var r=null,a=null,o=e.length,s=function(t,r){var a=o-t,s=o;o-=t;var c=i(a+1,s),l=e[a],f=n?n(l):l;u(new b_(f,l.node,r,null,c))},u=function(e){r?(r.left=e,r=e):(a=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),f=Math.pow(2,t.count-(c+1));l?s(f,b_.BLACK):(s(f,b_.BLACK),s(f,b_.RED))}return a}(new j_(e.length));return new E_(r||t,a)},V_={},z_=function(){function e(t,n){Q(this,e),this.indexes_=t,this.indexSet_=n}return X(e,[{key:"get",value:function(e){var t=ze(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof E_?t:null}},{key:"hasIndex",value:function(e){return Ve(this.indexSet_,e.toString())}},{key:"addIndex",value:function(t,n){ge(t!==k_,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,o=n.getIterator(y_.Wrap),s=o.getNext();s;)a=a||t.isDefinedOn(s.node),i.push(s),s=o.getNext();r=a?U_(i,t.getCompare()):V_;var u=t.toString(),c=Object.assign({},this.indexSet_);c[u]=t;var l=Object.assign({},this.indexes_);return l[u]=r,new e(l,c)}},{key:"addToIndexes",value:function(t,n){var r=this;return new e(Be(this.indexes_,(function(e,i){var a=ze(r.indexSet_,i);if(ge(a,"Missing index implementation for "+i),e===V_){if(a.isDefinedOn(t.node)){for(var o=[],s=n.getIterator(y_.Wrap),u=s.getNext();u;)u.name!==t.name&&o.push(u),u=s.getNext();return o.push(t),U_(o,a.getCompare())}return V_}var c=n.get(t.name),l=e;return c&&(l=l.remove(new y_(t.name,c))),l.insert(t,t.node)})),this.indexSet_)}},{key:"removeFromIndexes",value:function(t,n){return new e(Be(this.indexes_,(function(e){if(e===V_)return e;var r=n.get(t.name);return r?e.remove(new y_(t.name,r)):e})),this.indexSet_)}}],[{key:"Default",get:function(){return ge(V_&&L_,"ChildrenNode.ts has not been loaded"),P_=P_||new e({".priority":V_},{".priority":L_})}}]),e}(),q_=function(){function e(t,n,r){Q(this,e),this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&R_(this.priorityNode_),this.children_.isEmpty()&&ge(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return X(e,[{key:"isLeafNode",value:function(){return!1}},{key:"getPriority",value:function(){return this.priorityNode_||D_}},{key:"updatePriority",value:function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}},{key:"getImmediateChild",value:function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?D_:t}},{key:"getChild",value:function(e){var t=Jk(e);return null===t?this:this.getImmediateChild(t).getChild(e_(e))}},{key:"hasChild",value:function(e){return null!==this.children_.get(e)}},{key:"updateImmediateChild",value:function(t,n){if(ge(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i,a=new y_(t,n);n.isEmpty()?(r=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(a,this.children_)):(r=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(a,this.children_));var o=r.isEmpty()?D_:this.priorityNode_;return new e(r,o,i)}},{key:"updateChild",value:function(e,t){var n=Jk(e);if(null===n)return t;ge(".priority"!==Jk(e)||1===Zk(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(e_(e),t);return this.updateImmediateChild(n,r)}},{key:"isEmpty",value:function(){return this.children_.isEmpty()}},{key:"numChildren",value:function(){return this.children_.count()}},{key:"val",value:function(t){if(this.isEmpty())return null;var n={},r=0,i=0,a=!0;if(this.forEachChild(L_,(function(o,s){n[o]=s.val(t),r++,a&&e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1})),!t&&a&&i<2*r){var o=[];for(var s in n)o[s]=n[s];return o}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+A_(this.getPriority().val())+":"),this.forEachChild(L_,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":Zg(e)}return this.lazyHash_}},{key:"getPredecessorChildName",value:function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new y_(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)}},{key:"getFirstChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()}},{key:"getFirstChild",value:function(e){var t=this.getFirstChildName(e);return t?new y_(t,this.children_.get(t)):null}},{key:"getLastChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()}},{key:"getLastChild",value:function(e){var t=this.getLastChildName(e);return t?new y_(t,this.children_.get(t)):null}},{key:"forEachChild",value:function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)}},{key:"getIterator",value:function(e){return this.getIteratorFrom(e.minPost(),e)}},{key:"getIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,y_.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r}},{key:"getReverseIterator",value:function(e){return this.getReverseIteratorFrom(e.maxPost(),e)}},{key:"getReverseIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,y_.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r}},{key:"compareTo",value:function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===B_?-1:0}},{key:"withIndex",value:function(t){if(t===k_||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}},{key:"isIndexed",value:function(e){return e===k_||this.indexMap_.hasIndex(e)}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(L_),r=t.getIterator(L_),i=n.getNext(),a=r.getNext();i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=n.getNext(),a=r.getNext()}return null===i&&null===a}return!1}return!1}},{key:"resolveIndex_",value:function(e){return e===k_?null:this.indexMap_.get(e.toString())}}],[{key:"EMPTY_NODE",get:function(){return D_||(D_=new e(new E_(C_),null,z_.Default))}}]),e}();q_.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var B_=new(function(e){Z(n,e);var t=ae(n);function n(){return Q(this,n),t.call(this,new E_(C_),q_.EMPTY_NODE,z_.Default)}return X(n,[{key:"compareTo",value:function(e){return e===this?0:1}},{key:"equals",value:function(e){return e===this}},{key:"getPriority",value:function(){return this}},{key:"getImmediateChild",value:function(e){return q_.EMPTY_NODE}},{key:"isEmpty",value:function(){return!1}}]),n}(q_));Object.defineProperties(y_,{MIN:{value:new y_(lk,q_.EMPTY_NODE)},MAX:{value:new y_(fk,B_)}}),g_.__EMPTY_NODE=q_.EMPTY_NODE,O_.__childrenNodeConstructor=q_,w_=B_,function(e){N_=e}(B_);function W_(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return q_.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),ge(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){var n=e;return new O_(n,W_(t))}if(e instanceof Array){var r=q_.EMPTY_NODE;return mk(e,(function(t,n){if(Ve(e,t)&&"."!==t.substring(0,1)){var i=W_(n);!i.isLeafNode()&&i.isEmpty()||(r=r.updateImmediateChild(t,i))}})),r.updatePriority(W_(t))}var i=[],a=!1,o=e;if(mk(o,(function(e,t){if("."!==e.substring(0,1)){var n=W_(t);n.isEmpty()||(a=a||!n.getPriority().isEmpty(),i.push(new y_(e,n)))}})),0===i.length)return q_.EMPTY_NODE;var s=U_(i,T_,(function(e){return e.name}),C_);if(a){var u=U_(i,L_.getCompare());return new q_(s,W_(t),new z_({".priority":u},{".priority":L_}))}return new q_(s,W_(t),z_.Default)}!function(e){I_=e}(W_);var H_=function(e){Z(n,e);var t=ae(n);function n(e){var r;return Q(this,n),(r=t.call(this)).indexPath_=e,ge(!a_(e)&&".priority"!==Jk(e),"Can't create PathIndex with empty path or .priority key"),r}return X(n,[{key:"extractChild",value:function(e){return e.getChild(this.indexPath_)}},{key:"isDefinedOn",value:function(e){return!e.getChild(this.indexPath_).isEmpty()}},{key:"compare",value:function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?hk(e.name,t.name):i}},{key:"makePost",value:function(e,t){var n=W_(e),r=q_.EMPTY_NODE.updateChild(this.indexPath_,n);return new y_(t,r)}},{key:"maxPost",value:function(){var e=q_.EMPTY_NODE.updateChild(this.indexPath_,B_);return new y_(fk,e)}},{key:"toString",value:function(){return n_(this.indexPath_,0).join("/")}}]),n}(m_),K_=function(e){Z(n,e);var t=ae(n);function n(){return Q(this,n),t.apply(this,arguments)}return X(n,[{key:"compare",value:function(e,t){var n=e.node.compareTo(t.node);return 0===n?hk(e.name,t.name):n}},{key:"isDefinedOn",value:function(e){return!0}},{key:"indexedValueChanged",value:function(e,t){return!e.equals(t)}},{key:"minPost",value:function(){return y_.MIN}},{key:"maxPost",value:function(){return y_.MAX}},{key:"makePost",value:function(e,t){var n=W_(e);return new y_(t,n)}},{key:"toString",value:function(){return".value"}}]),n}(m_),G_=new K_,$_="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz";!function(){var e=0,t=[]}();function Q_(e){return{type:"value",snapshotNode:e}}function Y_(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function X_(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function J_(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var Z_=function(){function e(){Q(this,e),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=L_}return X(e,[{key:"hasStart",value:function(){return this.startSet_}},{key:"hasStartAfter",value:function(){return this.startAfterSet_}},{key:"hasEndBefore",value:function(){return this.endBeforeSet_}},{key:"isViewFromLeft",value:function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}},{key:"getIndexStartValue",value:function(){return ge(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}},{key:"getIndexStartName",value:function(){return ge(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:lk}},{key:"hasEnd",value:function(){return this.endSet_}},{key:"getIndexEndValue",value:function(){return ge(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}},{key:"getIndexEndName",value:function(){return ge(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:fk}},{key:"hasLimit",value:function(){return this.limitSet_}},{key:"hasAnchoredLimit",value:function(){return this.limitSet_&&""!==this.viewFrom_}},{key:"getLimit",value:function(){return ge(this.limitSet_,"Only valid if limit has been set"),this.limit_}},{key:"getIndex",value:function(){return this.index_}},{key:"loadsAllData",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:"isDefault",value:function(){return this.loadsAllData()&&this.index_===L_}},{key:"copy",value:function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}]),e}();function eb(e){var t,n={};return e.isDefault()||(e.index_===L_?t="$priority":e.index_===G_?t="$value":e.index_===k_?t="$key":(ge(e.index_ instanceof H_,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=je(t),e.startSet_&&(n.startAt=je(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+je(e.indexStartName_))),e.endSet_&&(n.endAt=je(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+je(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function tb(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==L_&&(t.i=e.index_.toString()),t}var nb=function(e){Z(n,e);var t=ae(n);function n(e,r,i,a){var o;return Q(this,n),(o=t.call(this)).repoInfo_=e,o.onDataUpdate_=r,o.authTokenProvider_=i,o.appCheckTokenProvider_=a,o.log_=ak("p:rest:"),o.listens_={},o}return X(n,[{key:"reportStats",value:function(e){throw new Error("Method not implemented.")}},{key:"listen",value:function(e,t,r,i){var a=this,o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);var s=n.getListenId_(e,r),u={};this.listens_[s]=u;var c=eb(e._queryParams);this.restRequest_(o+".json",c,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(o,n,!1,r),ze(a.listens_,s)===u)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))}},{key:"unlisten",value:function(e,t){var r=n.getListenId_(e,t);delete this.listens_[r]}},{key:"get",value:function(e){var t=this,n=eb(e._queryParams),r=e._path.toString(),i=new Ce;return this.restRequest_(r+".json",n,(function(e,n){var a=n;404===e&&(a=null,e=null),null===e?(t.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))})),i.promise}},{key:"refreshAuthToken",value:function(e){}},{key:"restRequest_",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var o=a(i,2),s=o[0],u=o[1];s&&s.accessToken&&(n.auth=s.accessToken),u&&u.token&&(n.ac=u.token);var c=(t.repoInfo_.secure?"https://":"http://")+t.repoInfo_.host+e+"?ns="+t.repoInfo_.namespace+Ke(n);t.log_("Sending REST request for "+c);var l=new XMLHttpRequest;l.onreadystatechange=function(){if(r&&4===l.readyState){t.log_("REST Response for "+c+" received. status:",l.status,"response:",l.responseText);var e=null;if(l.status>=200&&l.status<300){try{e=Me(l.responseText)}catch(n){uk("Failed to parse JSON response for "+c+": "+l.responseText)}r(null,e)}else 401!==l.status&&404!==l.status&&uk("Got unsuccessful REST response for "+c+" Status: "+l.status),r(l.status);r=null}},l.open("GET",c,!0),l.send()}))}}],[{key:"getListenId_",value:function(e,t){return void 0!==t?"tag$"+t:(ge(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}}]),n}(Gk),rb=function(){function e(){Q(this,e),this.rootNode_=q_.EMPTY_NODE}return X(e,[{key:"getNode",value:function(e){return this.rootNode_.getChild(e)}},{key:"updateSnapshot",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),e}();function ib(){return{value:null,children:new Map}}function ab(e,t,n){if(a_(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=Jk(t);e.children.has(r)||e.children.set(r,ib()),ab(e.children.get(r),t=e_(t),n)}}function ob(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){ob(r,new Yk(t.toString()+"/"+e),n)}))}var sb,ub=function(){function e(t){Q(this,e),this.collection_=t,this.last_=null}return X(e,[{key:"get",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&mk(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t}}]),e}(),cb=function(){function e(t,n){Q(this,e),this.server_=n,this.statsToReport_={},this.statsListener_=new ub(t);var r=1e4+2e4*Math.random();Ek(this.reportStats_.bind(this),Math.floor(r))}return X(e,[{key:"reportStats_",value:function(){var e=this,t=this.statsListener_.get(),n={},r=!1;mk(t,(function(t,i){i>0&&Ve(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),Ek(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),e}();function lb(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(sb||(sb={}));var fb,hb=function(){function e(t,n,r){Q(this,e),this.path=t,this.affectedTree=n,this.revert=r,this.type=sb.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return X(e,[{key:"operationForChild",value:function(t){if(a_(this.path)){if(null!=this.affectedTree.value)return ge(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new Yk(t));return new e(Xk(),n,this.revert)}return ge(Jk(this.path)===t,"operationForChild called for unrelated child."),new e(e_(this.path),this.affectedTree,this.revert)}}]),e}(),db=function(){function e(t,n,r){Q(this,e),this.source=t,this.path=n,this.snap=r,this.type=sb.OVERWRITE}return X(e,[{key:"operationForChild",value:function(t){return a_(this.path)?new e(this.source,Xk(),this.snap.getImmediateChild(t)):new e(this.source,e_(this.path),this.snap)}}]),e}(),pb=function(){function e(t,n,r){Q(this,e),this.source=t,this.path=n,this.children=r,this.type=sb.MERGE}return X(e,[{key:"operationForChild",value:function(t){if(a_(this.path)){var n=this.children.subtree(new Yk(t));return n.isEmpty()?null:n.value?new db(this.source,Xk(),n.value):new e(this.source,Xk(),n)}return ge(Jk(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,e_(this.path),this.children)}},{key:"toString",value:function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}]),e}(),vb=function(){function e(t,n,r){Q(this,e),this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return X(e,[{key:"isFullyInitialized",value:function(){return this.fullyInitialized_}},{key:"isFiltered",value:function(){return this.filtered_}},{key:"isCompleteForPath",value:function(e){if(a_(e))return this.isFullyInitialized()&&!this.filtered_;var t=Jk(e);return this.isCompleteForChild(t)}},{key:"isCompleteForChild",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:"getNode",value:function(){return this.node_}}]),e}();function yb(e,t,n,r,i,a){var o=r.filter((function(e){return e.type===n}));o.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw ke("Should only compare child_ events.");var r=new y_(t.childName,t.snapshotNode),i=new y_(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),o.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function mb(e,t){return{eventCache:e,serverCache:t}}function gb(e,t,n,r){return mb(new vb(t,n,r),e.serverCache)}function kb(e,t,n,r){return mb(e.eventCache,new vb(t,n,r))}function _b(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function bb(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var wb=function(){return fb||(fb=new E_(dk)),fb},xb=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wb();Q(this,e),this.value=t,this.children=n}return X(e,[{key:"isEmpty",value:function(){return null===this.value&&this.children.isEmpty()}},{key:"findRootMostMatchingPathAndValue",value:function(e,t){if(null!=this.value&&t(this.value))return{path:Xk(),value:this.value};if(a_(e))return null;var n=Jk(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(e_(e),t);return null!=i?{path:i_(new Yk(n),i.path),value:i.value}:null}return null}},{key:"findRootMostValueAndPath",value:function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))}},{key:"subtree",value:function(t){if(a_(t))return this;var n=Jk(t),r=this.children.get(n);return null!==r?r.subtree(e_(t)):new e(null)}},{key:"set",value:function(t,n){if(a_(t))return new e(n,this.children);var r=Jk(t),i=(this.children.get(r)||new e(null)).set(e_(t),n),a=this.children.insert(r,i);return new e(this.value,a)}},{key:"remove",value:function(t){if(a_(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=Jk(t),r=this.children.get(n);if(r){var i,a=r.remove(e_(t));return i=a.isEmpty()?this.children.remove(n):this.children.insert(n,a),null===this.value&&i.isEmpty()?new e(null):new e(this.value,i)}return this}},{key:"get",value:function(e){if(a_(e))return this.value;var t=Jk(e),n=this.children.get(t);return n?n.get(e_(e)):null}},{key:"setTree",value:function(t,n){if(a_(t))return n;var r,i=Jk(t),a=(this.children.get(i)||new e(null)).setTree(e_(t),n);return r=a.isEmpty()?this.children.remove(i):this.children.insert(i,a),new e(this.value,r)}},{key:"fold",value:function(e){return this.fold_(Xk(),e)}},{key:"fold_",value:function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(i_(e,r),t)})),t(e,this.value,n)}},{key:"findOnPath",value:function(e,t){return this.findOnPath_(e,Xk(),t)}},{key:"findOnPath_",value:function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(a_(e))return null;var i=Jk(e),a=this.children.get(i);return a?a.findOnPath_(e_(e),i_(t,i),n):null}},{key:"foreachOnPath",value:function(e,t){return this.foreachOnPath_(e,Xk(),t)}},{key:"foreachOnPath_",value:function(t,n,r){if(a_(t))return this;this.value&&r(n,this.value);var i=Jk(t),a=this.children.get(i);return a?a.foreachOnPath_(e_(t),i_(n,i),r):new e(null)}},{key:"foreach",value:function(e){this.foreach_(Xk(),e)}},{key:"foreach_",value:function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(i_(e,n),t)})),this.value&&t(e,this.value)}},{key:"foreachChild",value:function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))}}],[{key:"fromObject",value:function(t){var n=new e(null);return mk(t,(function(e,t){n=n.set(new Yk(e),t)})),n}}]),e}(),Eb=function(){function e(t){Q(this,e),this.writeTree_=t}return X(e,null,[{key:"empty",value:function(){return new e(new xb(null))}}]),e}();function Tb(e,t,n){if(a_(t))return new Eb(new xb(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,a=r.value,o=o_(i,t);return a=a.updateChild(o,n),new Eb(e.writeTree_.set(i,a))}var s=new xb(n),u=e.writeTree_.setTree(t,s);return new Eb(u)}function Cb(e,t,n){var r=e;return mk(n,(function(e,n){r=Tb(r,i_(t,e),n)})),r}function Sb(e,t){if(a_(t))return Eb.empty();var n=e.writeTree_.setTree(t,new xb(null));return new Eb(n)}function Ib(e,t){return null!=Nb(e,t)}function Nb(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(o_(n.path,t)):null}function Ab(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(L_,(function(e,n){t.push(new y_(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new y_(e,n.value))})),t}function Rb(e,t){if(a_(t))return e;var n=Nb(e,t);return new Eb(null!=n?new xb(n):e.writeTree_.subtree(t))}function Ob(e){return e.writeTree_.isEmpty()}function Pb(e,t){return Db(Xk(),e.writeTree_,t)}function Db(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(ge(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=Db(i_(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(i_(e,".priority"),r)),n}function Fb(e,t){return Qb(t,e)}function Lb(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}function Mb(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));ge(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,o=e.allWrites.length-1;i&&o>=0;){var s=e.allWrites[o];s.visible&&(o>=n&&jb(s,r.path)?i=!1:u_(r.path,s.path)&&(a=!0)),o--}if(i){if(a)return function(e){e.visibleWrites=Vb(e.allWrites,Ub,Xk()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=Sb(e.visibleWrites,r.path):mk(r.children,(function(t){e.visibleWrites=Sb(e.visibleWrites,i_(r.path,t))}));return!0}return!1}function jb(e,t){if(e.snap)return u_(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&u_(i_(e.path,n),t))return!0;return!1}function Ub(e){return e.visible}function Vb(e,t,n){for(var r=Eb.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var o=a.path,s=void 0;if(a.snap)u_(n,o)?r=Tb(r,s=o_(n,o),a.snap):u_(o,n)&&(s=o_(o,n),r=Tb(r,Xk(),a.snap.getChild(s)));else{if(!a.children)throw ke("WriteRecord should have .snap or .children");if(u_(n,o))r=Cb(r,s=o_(n,o),a.children);else if(u_(o,n))if(a_(s=o_(o,n)))r=Cb(r,Xk(),a.children);else{var u=ze(a.children,Jk(s));if(u){var c=u.getChild(e_(s));r=Tb(r,Xk(),c)}}}}}return r}function zb(e,t,n,r,i){if(r||i){var a=Rb(e.visibleWrites,t);if(!i&&Ob(a))return n;if(i||null!=n||Ib(a,Xk())){return Pb(Vb(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(u_(e.path,t)||u_(t,e.path))}),t),n||q_.EMPTY_NODE)}return null}var o=Nb(e.visibleWrites,t);if(null!=o)return o;var s=Rb(e.visibleWrites,t);return Ob(s)?n:null!=n||Ib(s,Xk())?Pb(s,n||q_.EMPTY_NODE):null}function qb(e,t,n,r){return zb(e.writeTree,e.treePath,t,n,r)}function Bb(e,t){return function(e,t,n){var r=q_.EMPTY_NODE,i=Nb(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(L_,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var a=Rb(e.visibleWrites,t);return n.forEachChild(L_,(function(e,t){var n=Pb(Rb(a,new Yk(e)),t);r=r.updateImmediateChild(e,n)})),Ab(a).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return Ab(Rb(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function Wb(e,t,n,r){return function(e,t,n,r,i){ge(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=i_(t,n);if(Ib(e.visibleWrites,a))return null;var o=Rb(e.visibleWrites,a);return Ob(o)?i.getChild(n):Pb(o,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function Hb(e,t){return function(e,t){return Nb(e.visibleWrites,t)}(e.writeTree,i_(e.treePath,t))}function Kb(e,t,n,r,i,a){return function(e,t,n,r,i,a,o){var s,u=Rb(e.visibleWrites,t),c=Nb(u,Xk());if(null!=c)s=c;else{if(null==n)return[];s=Pb(u,n)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var l=[],f=o.getCompare(),h=a?s.getReverseIteratorFrom(r,o):s.getIteratorFrom(r,o),d=h.getNext();d&&l.length<i;)0!==f(d,r)&&l.push(d),d=h.getNext();return l}(e.writeTree,e.treePath,t,n,r,i,a)}function Gb(e,t,n){return function(e,t,n,r){var i=i_(t,n),a=Nb(e.visibleWrites,i);return null!=a?a:r.isCompleteForChild(n)?Pb(Rb(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function $b(e,t){return Qb(i_(e.treePath,t),e.writeTree)}function Qb(e,t){return{treePath:e,writeTree:t}}var Yb=function(){function e(){Q(this,e),this.changeMap=new Map}return X(e,[{key:"trackChildChange",value:function(e){var t=e.type,n=e.childName;ge("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),ge(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,J_(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,X_(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,Y_(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw ke("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,J_(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}},{key:"getChanges",value:function(){return Array.from(this.changeMap.values())}}]),e}(),Xb=new(function(){function e(){Q(this,e)}return X(e,[{key:"getCompleteChild",value:function(e){return null}},{key:"getChildAfterChild",value:function(e,t,n){return null}}]),e}()),Jb=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Q(this,e),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return X(e,[{key:"getCompleteChild",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new vb(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Gb(this.writes_,e,n)}},{key:"getChildAfterChild",value:function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:bb(this.viewCache_),i=Kb(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}]),e}();function Zb(e,t,n,r,i){var a,o,s=new Yb;if(n.type===sb.OVERWRITE){var u=n;u.source.fromUser?a=nw(e,t,u.path,u.snap,r,i,s):(ge(u.source.fromServer,"Unknown source."),o=u.source.tagged||t.serverCache.isFiltered()&&!a_(u.path),a=tw(e,t,u.path,u.snap,r,i,o,s))}else if(n.type===sb.MERGE){var c=n;c.source.fromUser?a=function(e,t,n,r,i,a,o){var s=t;return r.foreach((function(r,u){var c=i_(n,r);rw(t,Jk(c))&&(s=nw(e,s,c,u,i,a,o))})),r.foreach((function(r,u){var c=i_(n,r);rw(t,Jk(c))||(s=nw(e,s,c,u,i,a,o))})),s}(e,t,c.path,c.children,r,i,s):(ge(c.source.fromServer,"Unknown source."),o=c.source.tagged||t.serverCache.isFiltered(),a=aw(e,t,c.path,c.children,r,i,o,s))}else if(n.type===sb.ACK_USER_WRITE){var l=n;a=l.revert?function(e,t,n,r,i,a){var o;if(null!=Hb(r,n))return t;var s,u=new Jb(r,t,i),c=t.eventCache.getNode();if(a_(n)||".priority"===Jk(n)){var l;if(t.serverCache.isFullyInitialized())l=qb(r,bb(t));else{var f=t.serverCache.getNode();ge(f instanceof q_,"serverChildren would be complete if leaf node"),l=Bb(r,f)}l=l,s=e.filter.updateFullNode(c,l,a)}else{var h=Jk(n),d=Gb(r,h,t.serverCache);null==d&&t.serverCache.isCompleteForChild(h)&&(d=c.getImmediateChild(h)),(s=null!=d?e.filter.updateChild(c,h,d,e_(n),u,a):t.eventCache.getNode().hasChild(h)?e.filter.updateChild(c,h,q_.EMPTY_NODE,e_(n),u,a):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(o=qb(r,bb(t))).isLeafNode()&&(s=e.filter.updateFullNode(s,o,a))}return o=t.serverCache.isFullyInitialized()||null!=Hb(r,Xk()),gb(t,s,o,e.filter.filtersNodes())}(e,t,l.path,r,i,s):function(e,t,n,r,i,a,o){if(null!=Hb(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(a_(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return tw(e,t,n,u.getNode().getChild(n),i,a,s,o);if(a_(n)){var c=new xb(null);return u.getNode().forEachChild(k_,(function(e,t){c=c.set(new Yk(e),t)})),aw(e,t,n,c,i,a,s,o)}return t}var l=new xb(null);return r.foreach((function(e,t){var r=i_(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))})),aw(e,t,n,l,i,a,s,o)}(e,t,l.path,l.affectedTree,r,i,s)}else{if(n.type!==sb.LISTEN_COMPLETE)throw ke("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var a=t.serverCache,o=kb(t,a.getNode(),a.isFullyInitialized()||a_(n),a.isFiltered());return ew(e,o,n,r,Xb,i)}(e,t,n.path,r,s)}var f=s.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=_b(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(Q_(_b(t)))}}(t,a,f),{viewCache:a,changes:f}}function ew(e,t,n,r,i,a){var o,s,u=t.eventCache;if(null!=Hb(r,n))return t;if(a_(n))if(ge(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var c=bb(t),l=Bb(r,c instanceof q_?c:q_.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),l,a)}else{var f=qb(r,bb(t));o=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{var h=Jk(n);if(".priority"===h){ge(1===Zk(n),"Can't have a priority with additional path components");var d=u.getNode(),p=Wb(r,n,d,s=t.serverCache.getNode());o=null!=p?e.filter.updatePriority(d,p):u.getNode()}else{var v,y=e_(n);if(u.isCompleteForChild(h)){s=t.serverCache.getNode();var m=Wb(r,n,u.getNode(),s);v=null!=m?u.getNode().getImmediateChild(h).updateChild(y,m):u.getNode().getImmediateChild(h)}else v=Gb(r,h,t.serverCache);o=null!=v?e.filter.updateChild(u.getNode(),h,v,y,i,a):u.getNode()}}return gb(t,o,u.isFullyInitialized()||a_(n),e.filter.filtersNodes())}function tw(e,t,n,r,i,a,o,s){var u,c=t.serverCache,l=o?e.filter:e.filter.getIndexedFilter();if(a_(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var f=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),f,null)}else{var h=Jk(n);if(!c.isCompleteForPath(n)&&Zk(n)>1)return t;var d=e_(n),p=c.getNode().getImmediateChild(h).updateChild(d,r);u=".priority"===h?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),h,p,d,Xb,null)}var v=kb(t,u,c.isFullyInitialized()||a_(n),l.filtersNodes());return ew(e,v,n,i,new Jb(i,v,a),s)}function nw(e,t,n,r,i,a,o){var s,u,c=t.eventCache,l=new Jb(i,t,a);if(a_(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,o),s=gb(t,u,!0,e.filter.filtersNodes());else{var f=Jk(n);if(".priority"===f)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=gb(t,u,c.isFullyInitialized(),c.isFiltered());else{var h,d=e_(n),p=c.getNode().getImmediateChild(f);if(a_(d))h=r;else{var v=l.getCompleteChild(f);h=null!=v?".priority"===t_(d)&&v.getChild(r_(d)).isEmpty()?v:v.updateChild(d,r):q_.EMPTY_NODE}if(p.equals(h))s=t;else s=gb(t,e.filter.updateChild(c.getNode(),f,h,d,l,o),c.isFullyInitialized(),e.filter.filtersNodes())}}return s}function rw(e,t){return e.eventCache.isCompleteForChild(t)}function iw(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function aw(e,t,n,r,i,a,o,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,c=t;u=a_(n)?r:new xb(null).setTree(n,r);var l=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var u=iw(0,t.serverCache.getNode().getImmediateChild(n),r);c=tw(e,c,new Yk(n),u,i,a,o,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!u){var f=iw(0,t.serverCache.getNode().getImmediateChild(n),r);c=tw(e,c,new Yk(n),f,i,a,o,s)}})),c}var ow;function sw(e,t){var n=bb(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!a_(t)&&!n.getImmediateChild(Jk(t)).isEmpty())?n.getChild(t):null}function uw(e,t,n,r){t.type===sb.MERGE&&null!==t.source.queryId&&(ge(bb(e.viewCache_),"We should always have a full cache before handling merges"),ge(_b(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,o=e.viewCache_,s=Zb(e.processor_,o,t,n,r);return i=e.processor_,a=s.viewCache,ge(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),ge(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),ge(s.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,cw(e,s.changes,s.viewCache.eventCache.getNode(),null)}function cw(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],a=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),yb(e,i,"child_removed",t,r,n),yb(e,i,"child_added",t,r,n),yb(e,i,"child_moved",a,r,n),yb(e,i,"child_changed",t,r,n),yb(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var lw;function fw(e,t,n,r){var i=t.source.queryId;if(null!==i){var a=e.views.get(i);return ge(null!=a,"SyncTree gave us an op for an invalid query."),uw(a,t,n,r)}var o,s=[],u=oe(e.views.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s=s.concat(uw(c,t,n,r))}}catch(l){u.e(l)}finally{u.f()}return s}function hw(e,t){var n,r=null,i=oe(e.views.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r||sw(a,t)}}catch(o){i.e(o)}finally{i.f()}return r}var dw=X((function e(t){Q(this,e),this.listenProvider_=t,this.syncPointTree_=new xb(null),this.pendingWriteTree_={visibleWrites:Eb.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}));function pw(e,t,n,r,i){return function(e,t,n,r,i){ge(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Tb(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?gw(e,new db({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function vw(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Lb(e.pendingWriteTree_,t),i=Mb(e.pendingWriteTree_,t);if(i){var a=new xb(null);return null!=r.snap?a=a.set(Xk(),!0):mk(r.children,(function(e){a=a.set(new Yk(e),!0)})),gw(e,new hb(r.path,a,n))}return[]}function yw(e,t,n){return gw(e,new db({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function mw(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=hw(n,o_(e,t));if(r)return r}));return zb(r,t,i,n,!0)}function gw(e,t){return kw(t,e.syncPointTree_,null,Fb(e.pendingWriteTree_,Xk()))}function kw(e,t,n,r){if(a_(e.path))return _w(e,t,n,r);var i=t.get(Xk());null==n&&null!=i&&(n=hw(i,Xk()));var a=[],o=Jk(e.path),s=e.operationForChild(o),u=t.children.get(o);if(u&&s){var c=n?n.getImmediateChild(o):null,l=$b(r,o);a=a.concat(kw(s,u,c,l))}return i&&(a=a.concat(fw(i,e,r,n))),a}function _w(e,t,n,r){var i=t.get(Xk());null==n&&null!=i&&(n=hw(i,Xk()));var a=[];return t.children.inorderTraversal((function(t,i){var o=n?n.getImmediateChild(t):null,s=$b(r,t),u=e.operationForChild(t);u&&(a=a.concat(_w(u,i,o,s)))})),i&&(a=a.concat(fw(i,e,r,n))),a}function bw(e,t){return e.tagToQueryMap.get(t)}function ww(e){var t=e.indexOf("$");return ge(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Yk(e.substr(0,t))}}function xw(e,t,n){var r=e.syncPointTree_.get(t);return ge(r,"Missing sync point for query tag that we're tracking"),fw(r,n,Fb(e.pendingWriteTree_,t),null)}var Ew=function(){function e(t){Q(this,e),this.node_=t}return X(e,[{key:"getImmediateChild",value:function(t){return new e(this.node_.getImmediateChild(t))}},{key:"node",value:function(){return this.node_}}]),e}(),Tw=function(){function e(t,n){Q(this,e),this.syncTree_=t,this.path_=n}return X(e,[{key:"getImmediateChild",value:function(t){var n=i_(this.path_,t);return new e(this.syncTree_,n)}},{key:"node",value:function(){return mw(this.syncTree_,this.path_)}}]),e}(),Cw=function(e,t,n){return e&&"object"===typeof e?(ge(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?Sw(e[".sv"],t,n):"object"===typeof e[".sv"]?Iw(e[".sv"],t):void ge(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Sw=function(e,t,n){if("timestamp"===e)return n.timestamp;ge(!1,"Unexpected server value: "+e)},Iw=function(e,t,n){e.hasOwnProperty("increment")||ge(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&ge(!1,"Unexpected increment value: "+r);var i=t.node();if(ge(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},Nw=function(e,t,n,r){return Rw(t,new Tw(n,e),r)},Aw=function(e,t,n){return Rw(e,new Ew(t),n)};function Rw(e,t,n){var r,i=e.getPriority().val(),a=Cw(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var o=e,s=Cw(o.getValue(),t,n);return s!==o.getValue()||a!==o.getPriority().val()?new O_(s,W_(a)):e}var u=e;return r=u,a!==u.getPriority().val()&&(r=r.updatePriority(new O_(a))),u.forEachChild(L_,(function(e,i){var a=Rw(i,t.getImmediateChild(e),n);a!==i&&(r=r.updateImmediateChild(e,a))})),r}var Ow=X((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};Q(this,e),this.name=t,this.parent=n,this.node=r}));function Pw(e,t){for(var n=t instanceof Yk?t:new Yk(t),r=e,i=Jk(n);null!==i;){var a=ze(r.node.children,i)||{children:{},childCount:0};r=new Ow(i,r,a),i=Jk(n=e_(n))}return r}function Dw(e){return e.node.value}function Fw(e,t){e.node.value=t,Vw(e)}function Lw(e){return e.node.childCount>0}function Mw(e,t){mk(e.node.children,(function(n,r){t(new Ow(n,e,r))}))}function jw(e,t,n,r){n&&!r&&t(e),Mw(e,(function(e){jw(e,t,!0,r)})),n&&r&&t(e)}function Uw(e){return new Yk(null===e.parent?e.name:Uw(e.parent)+"/"+e.name)}function Vw(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===Dw(e)&&!Lw(e)}(n),i=Ve(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Vw(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,Vw(e))}(e.parent,e.name,e)}var zw=/[\[\].#$\/\u0000-\u001F\u007F]/,qw=/[\[\].#$\u0000-\u001F\u007F]/,Bw=10485760,Ww=function(e){return"string"===typeof e&&0!==e.length&&!zw.test(e)},Hw=function(e){return"string"===typeof e&&0!==e.length&&!qw.test(e)},Kw=function e(t,n,r){var i=r instanceof Yk?new c_(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+f_(i));if("function"===typeof n)throw new Error(t+"contains a function "+f_(i)+" with contents = "+n.toString());if(ck(n))throw new Error(t+"contains "+n.toString()+" "+f_(i));if("string"===typeof n&&n.length>Bw/3&&Ze(n)>Bw)throw new Error(t+"contains a string greater than "+"10485760 utf8 bytes "+f_(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,o=!1;if(mk(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(o=!0,!Ww(n)))throw new Error(t+" contains an invalid key ("+n+") "+f_(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Ze(t),l_(e)}(i,n),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=Ze(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&o)throw new Error(t+' contains ".value" child '+f_(i)+" in addition to actual children.")}},Gw=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!Ww(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Hw(e)}(n))throw new Error(Je(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},$w=X((function e(){Q(this,e),this.eventLists_=[],this.recursionDepth_=0}));function Qw(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],a=i.getPath();null===n||s_(a,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function Yw(e,t,n){Qw(e,n),Xw(e,(function(e){return u_(e,t)||u_(t,e)}))}function Xw(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(Jw(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function Jw(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();tk&&ik("event: "+n.toString()),xk(r)}}}var Zw="repo_interrupt",ex=function(){function e(t,n,r,i){Q(this,e),this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new $w,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ib(),this.transactionQueueTree_=new Ow,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return X(e,[{key:"toString",value:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}]),e}();function tx(e,t,n){if(e.stats_=Mk(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new nb(e.repoInfo_,(function(t,n,r,i){ix(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return ax(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{je(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new p_(e.repoInfo_,t,(function(t,n,r,i){ix(e,t,n,r,i)}),(function(t){ax(e,t)}),(function(t){!function(e,t){mk(t,(function(t,n){ox(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return Lk[n]||(Lk[n]=t()),Lk[n]}(e.repoInfo_,(function(){return new cb(e.stats_,e.server_)})),e.infoData_=new rb,e.infoSyncTree_=new dw({startListening:function(t,n,r,i){var a=[],o=e.infoData_.getNode(t._path);return o.isEmpty()||(a=yw(e.infoSyncTree_,t._path,o),setTimeout((function(){i("ok")}),0)),a},stopListening:function(){}}),ox(e,"connected",!1),e.serverSyncTree_=new dw({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var a=i(n,r);Yw(e.eventQueue_,t._path,a)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function nx(e){var t=e.infoData_.getNode(new Yk(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function rx(e){return(t=(t={timestamp:nx(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function ix(e,t,n,r,i){e.dataUpdateCount++;var a=new Yk(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var o=[];if(i)if(r){var s=Be(n,(function(e){return W_(e)}));o=function(e,t,n,r){var i=bw(e,r);if(i){var a=ww(i),o=a.path,s=a.queryId,u=o_(o,t),c=xb.fromObject(n);return xw(e,o,new pb(lb(s),u,c))}return[]}(e.serverSyncTree_,a,s,i)}else{var u=W_(n);o=function(e,t,n,r){var i=bw(e,r);if(null!=i){var a=ww(i),o=a.path,s=a.queryId,u=o_(o,t);return xw(e,o,new db(lb(s),u,n))}return[]}(e.serverSyncTree_,a,u,i)}else if(r){var c=Be(n,(function(e){return W_(e)}));o=function(e,t,n){var r=xb.fromObject(n);return gw(e,new pb({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,c)}else{var l=W_(n);o=yw(e.serverSyncTree_,a,l)}var f=a;o.length>0&&(f=dx(e,a)),Yw(e.eventQueue_,f,o)}function ax(e,t){ox(e,"connected",t),!1===t&&function(e){cx(e,"onDisconnectEvents");var t=rx(e),n=ib();ob(e.onDisconnect_,Xk(),(function(r,i){var a=Nw(r,i,e.serverSyncTree_,t);ab(n,r,a)}));var r=[];ob(n,Xk(),(function(t,n){r=r.concat(yw(e.serverSyncTree_,t,n));var i=gx(e,t);dx(e,i)})),e.onDisconnect_=ib(),Yw(e.eventQueue_,Xk(),r)}(e)}function ox(e,t,n){var r=new Yk("/.info/"+t),i=W_(n);e.infoData_.updateSnapshot(r,i);var a=yw(e.infoSyncTree_,r,i);Yw(e.eventQueue_,r,a)}function sx(e){return e.nextWriteId_++}function ux(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Zw)}function cx(e){var t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];ik.apply(void 0,[t].concat(r))}function lx(e,t,n){return mw(e.serverSyncTree_,t,n)||q_.EMPTY_NODE}function fx(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||mx(e,t),Dw(t)){var n=vx(e,t);ge(n.length>0,"Sending zero length transaction queue");var r=n.every((function(e){return 0===e.status}));r&&hx(e,Uw(t),n)}else Lw(t)&&Mw(t,(function(t){fx(e,t)}))}function hx(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=lx(e,t,r),a=i,o=i.hash(),s=0;s<n.length;s++){var u=n[s];ge(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var c=o_(t,u.path);a=a.updateChild(c,u.currentOutputSnapshotRaw)}var l=a.val(!0),f=t;e.server_.put(f.toString(),l,(function(r){cx(e,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var a=[],o=function(t){n[t].status=2,i=i.concat(vw(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&a.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)o(s);mx(e,Pw(e.transactionQueueTree_,t)),fx(e,e.transactionQueueTree_),Yw(e.eventQueue_,t,i);for(var u=0;u<a.length;u++)xk(a[u])}else{if("datastale"===r)for(var c=0;c<n.length;c++)3===n[c].status?n[c].status=4:n[c].status=0;else{uk("transaction at "+f.toString()+" failed: "+r);for(var l=0;l<n.length;l++)n[l].status=4,n[l].abortReason=r}dx(e,t)}}),o)}function dx(e,t){var n=px(e,t),r=Uw(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})),o=a.map((function(e){return e.currentWriteId})),s=function(a){var s,u=t[a],c=o_(n,u.path),l=!1,f=void 0;if(ge(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)l=!0,f=u.abortReason,i=i.concat(vw(e.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=25)l=!0,f="maxretry",i=i.concat(vw(e.serverSyncTree_,u.currentWriteId,!0));else{var h=lx(e,u.path,o);u.currentInputSnapshot=h;var d=t[a].update(h.val());if(void 0!==d){Kw("transaction failed: Data returned ",d,u.path);var p=W_(d);"object"===typeof d&&null!=d&&Ve(d,".priority")||(p=p.updatePriority(h.getPriority()));var v=u.currentWriteId,y=rx(e),m=Aw(p,h,y);u.currentOutputSnapshotRaw=p,u.currentOutputSnapshotResolved=m,u.currentWriteId=sx(e),o.splice(o.indexOf(v),1),i=(i=i.concat(pw(e.serverSyncTree_,u.path,m,u.currentWriteId,u.applyLocally))).concat(vw(e.serverSyncTree_,v,!0))}else l=!0,f="nodata",i=i.concat(vw(e.serverSyncTree_,u.currentWriteId,!0))}Yw(e.eventQueue_,n,i),i=[],l&&(t[a].status=2,s=t[a].unwatcher,setTimeout(s,Math.floor(0)),t[a].onComplete&&("nodata"===f?r.push((function(){return t[a].onComplete(null,!1,t[a].currentInputSnapshot)})):r.push((function(){return t[a].onComplete(new Error(f),!1,null)}))))},u=0;u<t.length;u++)s(u);mx(e,e.transactionQueueTree_);for(var c=0;c<r.length;c++)xk(r[c]);fx(e,e.transactionQueueTree_)}(e,vx(e,n),r),r}function px(e,t){var n,r=e.transactionQueueTree_;for(n=Jk(t);null!==n&&void 0===Dw(r);)r=Pw(r,n),n=Jk(t=e_(t));return r}function vx(e,t){var n=[];return yx(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function yx(e,t,n){var r=Dw(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);Mw(t,(function(t){yx(e,t,n)}))}function mx(e,t){var n=Dw(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Fw(t,n.length>0?n:void 0)}Mw(t,(function(t){mx(e,t)}))}function gx(e,t){var n=Uw(px(e,t)),r=Pw(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){kx(e,t)})),kx(e,r),jw(r,(function(t){kx(e,t)})),n}function kx(e,t){var n=Dw(t);if(n){for(var r=[],i=[],a=-1,o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(ge(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):(ge(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(vw(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===a?Fw(t,void 0):n.length=a+1,Yw(e.eventQueue_,Uw(t),i);for(var s=0;s<r.length;s++)xk(r[s])}}var _x=function(e,t){var n=bx(e),r=n.namespace;"firebase.com"===n.domain&&sk(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||sk("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&uk("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new Ok(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new Yk(n.pathString)}},bx=function(e){var t="",n="",r="",i="",a="",o=!0,s="https",u=443;if("string"===typeof e){var c=e.indexOf("//");c>=0&&(s=e.substring(0,c-1),e=e.substring(c+2));var l=e.indexOf("/");-1===l&&(l=e.length);var f=e.indexOf("?");-1===f&&(f=e.length),t=e.substring(0,Math.min(l,f)),l<f&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(a){}t+="/"+i}return t}(e.substring(l,f)));var h=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));var n,r=oe(e.split("&"));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(0!==i.length){var a=i.split("=");2===a.length?t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):uk("Invalid query segment '".concat(i,"' in query '").concat(e,"'"))}}}catch(o){r.e(o)}finally{r.f()}return t}(e.substring(Math.min(e.length,f)));(c=t.indexOf(":"))>=0?(o="https"===s||"wss"===s,u=parseInt(t.substring(c+1),10)):c=t.length;var d=t.slice(0,c);if("localhost"===d.toLowerCase())n="localhost";else if(d.split(".").length<=2)n=d;else{var p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),a=r}"ns"in h&&(a=h.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:o,scheme:s,pathString:i,namespace:a}},wx=function(){function e(t,n,r,i){Q(this,e),this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return X(e,[{key:"key",get:function(){return a_(this._path)?null:t_(this._path)}},{key:"ref",get:function(){return new xx(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e=tb(this._queryParams),t=vk(e);return"{}"===t?"default":t}},{key:"_queryObject",get:function(){return tb(this._queryParams)}},{key:"isEqual",value:function(t){if(!((t=et(t))instanceof e))return!1;var n=this._repo===t._repo,r=s_(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}]),e}();var xx=function(e){Z(n,e);var t=ae(n);function n(e,r){return Q(this,n),t.call(this,e,r,new Z_,!1)}return X(n,[{key:"parent",get:function(){var e=r_(this._path);return null===e?null:new n(this._repo,e)}},{key:"root",get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}}]),n}(wx);!function(e){ge(!ow,"__referenceConstructor has already been defined"),ow=e}(xx),function(e){ge(!lw,"__referenceConstructor has already been defined"),lw=e}(xx);var Ex={},Tx=!1;function Cx(e,t,n,r,i){var a=r||e.options.databaseURL;void 0===a&&(e.options.projectId||sk("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ik("Using default host for project ",e.options.projectId),a="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));var o,s=_x(a,i),u=s.repoInfo,c=void 0;"undefined"!==typeof process&&(c={NODE_ENV:"production",PUBLIC_URL:"/shine",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_Firebase_ApiKey:"AIzaSyDmnW9W_gHuiEEsPw3XI",REACT_APP_Firebase_AppId:"1:379613040309:web:dc367838d998b79f70b8fc",REACT_APP_Firebase_AuthDomain:"shine-dc466.firebaseapp.com",REACT_APP_Firebase_MessagingSenderId:"379613040309",REACT_APP_Firebase_ProjectId:"shine-dc466",REACT_APP_Firebase_StorageBucket:"shine-dc466.appspot.com"}.FIREBASE_DATABASE_EMULATOR_HOST),c?(o=!0,a="http://".concat(c,"?ns=").concat(u.namespace),u=(s=_x(a,i)).repoInfo):o=!s.repoInfo.secure;var l=i&&o?new Sk(Sk.OWNER):new Ck(e.name,e.options,t);Gw("Invalid Firebase Database URL",s),a_(s.path)||sk("Database URL must point to the root of a Firebase Database (not including a child path).");var f=function(e,t,n,r){var i=Ex[t.name];i||(i={},Ex[t.name]=i);var a=i[e.toURLString()];a&&sk("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return a=new ex(e,Tx,n,r),i[e.toURLString()]=a,a}(u,e,l,new Tk(e.name,n));return new Sx(f,e)}var Sx=function(){function e(t,n){Q(this,e),this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return X(e,[{key:"_repo",get:function(){return this._instanceStarted||(tx(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new xx(this._repo,Xk())),this._rootInternal}},{key:"_delete",value:function(){return null!==this._rootInternal&&(!function(e,t){var n=Ex[t];n&&n[e.key]===e||sk("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),ux(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:"_checkNotDeleted",value:function(e){null===this._rootInternal&&sk("Cannot call "+e+" on a deleted database.")}}]),e}();p_.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},p_.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){!function(e){Hg=e}(At),Et(new tt("database",(function(e,t){var n=t.instanceIdentifier;return Cx(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),Ot(Bg,Wg,e),Ot(Bg,Wg,"esm2017")}();var Ix=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:kt,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw It.create("bad-app-name",{appName:String(i)});var a=bt.get(i);if(a){if(We(e,a.options)&&We(r,a.config))return a;throw It.create("duplicate-app",{appName:i})}var o,s=new ot(i),u=oe(wt.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(f){u.e(f)}finally{u.f()}var l=new Nt(e,r,s);return bt.set(i,l),l}({apiKey:"AIzaSyDmnW9W_gHuiEEsPw3XI-9SHwrVx5nnh9Y",authDomain:"shine-dc466.firebaseapp.com",projectId:"shine-dc466",storageBucket:"shine-dc466.appspot.com",messagingSenderId:"379613040309",appId:"1:379613040309:web:dc367838d998b79f70b8fc"}),Nx=(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rt(),t=arguments.length>1?arguments[1]:void 0;Tt(e,"database").getImmediate({identifier:t})}(Ix),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rt(),t=Tt(e,"auth");return t.isInitialized()?t.getImmediate():Xt(e,{popupRedirectResolver:Ra,persistence:[Ai,ai,si]})}()),Ax=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rt();return Tt(e,"firestore").getImmediate()}(),Rx=(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rt(),t=arguments.length>1?arguments[1]:void 0,n=Tt(e=et(e),zg),r=n.getImmediate({identifier:t})}(),n(184)),Ox=function(e){Z(n,e);var t=ae(n);function n(){return Q(this,n),t.apply(this,arguments)}return X(n,[{key:"render",value:function(){return(0,Rx.jsxs)(Rx.Fragment,{children:[(0,Rx.jsx)("div",{className:"bg-amber-100 h-16 text-center",children:(0,Rx.jsx)("p",{className:"text-2xl sm:text-3xl pt-3",children:"- SHINE -"})}),(0,Rx.jsx)("div",{className:"bg-amber-50 opacity-80 max-w-screen-lg grid mx-auto border border-white-300",children:(0,Rx.jsxs)("ul",{className:"list-none text-center text-lg sm:text-[22px] m-2",children:[(0,Rx.jsx)("li",{className:"cursor-pointer hover:bg-amber-100 inline-block sm:mr-10 mr-2 px-2",children:(0,Rx.jsx)($,{to:"/",children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"})}),(0,Rx.jsx)("li",{className:"cursor-pointer hover:bg-amber-100 inline-block sm:mr-8 mr-2 px-2'",children:(0,Rx.jsx)($,{to:"/collections",children:"\u041a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438"})}),(0,Rx.jsx)("li",{className:"cursor-pointer hover:bg-amber-100 inline-block  px-2",children:(0,Rx.jsx)($,{to:"/account",children:"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442"})})]})})]})}}]),n}(e.Component);function Px(){return(0,Rx.jsxs)("div",{className:"text-center sm:text-sm text-xs bottom-0",children:[(0,Rx.jsx)("div",{className:"border-amber-100 bg-amber-100 border-2"}),(0,Rx.jsx)("p",{className:"mt-2",children:"\u0418\u041f \u041e\u0440\u043b\u043e\u0432\u0441\u043a\u0430\u044f"}),(0,Rx.jsx)("address",{className:"p-2",children:"\u0433.\u0413\u0440\u043e\u0434\u043d\u043e, \u0443\u043b.\u041f\u043e\u043f\u043e\u0432\u0438\u0447\u0430 1"})]})}function Dx(e){var t=e.src,n=e.caption;return(0,Rx.jsx)("img",{src:t,alt:n,className:"w-1/4 object-cover mt-4 sm:mr-8 mx-4"})}Dx.defaultProps={caption:"No caption"};var Fx,Lx=n(5293),Mx=n(8074),jx=n(9279),Ux=n(5223),Vx=n(111),zx=n(9502),qx=n(7417),Bx=n(4196),Wx=n(831),Hx=function(e){Z(n,e);var t=ae(n);function n(){return Q(this,n),t.apply(this,arguments)}return X(n,[{key:"render",value:function(){return(0,Rx.jsxs)("div",{className:"bg-white max-w-screen-lg mx-auto",children:[(0,Rx.jsx)("h1",{className:"sm:text-2xl text-xl text-center place-content-center flex sm:p-8 p-4",children:"\u0423\u0437\u043d\u0430\u0432\u0430\u0435\u043c\u044b\u0439 \u0441\u0442\u0438\u043b\u044c | \u0416\u0435\u043d\u0441\u043a\u0430\u044f \u043e\u0434\u0435\u0436\u0434\u0430 | \u0423\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u0439 \u0441\u0442\u0438\u043b\u044c"}),(0,Rx.jsxs)("div",{className:"flex place-content-center",children:[(0,Rx.jsx)(Dx,{src:Lx}),(0,Rx.jsx)(Dx,{src:Mx}),(0,Rx.jsx)(Dx,{src:jx})]}),(0,Rx.jsx)("p",{className:"mt-8 p-4 sm:text-lg text-base",children:"\u0423\u0437\u043d\u0430\u0432\u0430\u0435\u043c\u044b\u0439 \u0441\u0442\u0438\u043b\u044c - \u044d\u0442\u043e \u0442\u043e, \u0447\u0442\u043e \u043e\u0442\u043b\u0438\u0447\u0430\u0435\u0442 \u0432\u0430\u0441 \u043e\u0442 \u0434\u0440\u0443\u0433\u0438\u0445 \u0431\u0440\u0435\u043d\u0434\u043e\u0432, \u044d\u0442\u043e \u0442\u0435 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u044b, \u043f\u043e \u043a\u043e\u0442\u043e\u0440\u044b\u043c \u0432\u0430\u0441 \u0431\u0443\u0434\u0443\u0442 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u0446\u0438\u0440\u043e\u0432\u0430\u0442\u044c. \u0423\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0432 \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044f\u0445, \u0432 \u0444\u043e\u0440\u043c\u0430\u0445 \u0438 \u043a\u043e\u043c\u0431\u0438\u043d\u0430\u0446\u0438\u044f\u0445, \u0432 \u0441\u043e\u0447\u0435\u0442\u0430\u043d\u0438\u0438 \u0446\u0432\u0435\u0442\u043e\u0432, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u044b\u0445 \u043f\u0440\u0438\u043d\u0442\u043e\u0432, \u0441\u0442\u0430\u043b\u0438\u043d\u0433\u0435, \u0443\u0437\u043d\u0430\u0432\u0430\u0435\u043c\u044b\u0445 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u044b, \u0432 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u044b\u0445 \u0442\u043a\u0430\u043d\u044f\u0445 \u0438\u043b\u0438 \u0442\u0435\u043a\u0441\u0442\u0443\u0440\u0435, \u0432 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u043c \u043b\u043e\u0433\u043e\u0442\u0438\u043f\u0435. \u041f\u0440\u0438\u0433\u043b\u0430\u0448\u0430\u044e \u0432\u0441\u0435\u0445 \u043a\u043e \u043c\u043d\u0435 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0447\u043a\u0443, \u044f \u0443\u0432\u0435\u0440\u0435\u043d\u0430, \u043a\u0430\u0436\u0434\u0430\u044f \u043d\u0430\u0439\u0434\u0451\u0442 \u0447\u0442\u043e-\u0442\u043e \u0434\u043b\u044f \u0441\u0435\u0431\u044f \u043d\u0435\u043f\u0440\u0435\u043c\u0435\u043d\u043d\u043e."}),(0,Rx.jsxs)("div",{className:"flex place-content-center",children:[(0,Rx.jsx)(Dx,{src:Ux}),(0,Rx.jsx)(Dx,{src:Vx}),(0,Rx.jsx)(Dx,{src:zx})]}),(0,Rx.jsx)("p",{className:"mt-8 p-4 sm:text-lg text-base",children:"\u0411\u0443\u0434\u0443\u0447\u0438 \u044f\u0440\u043e\u0439 \u0448\u043c\u043e\u0442\u043e\u0447\u043d\u0438\u0446\u0435\u0439, \u044f \u0432\u0441\u0435\u0433\u0434\u0430 \u0437\u0430\u043f\u043e\u043b\u043d\u044f\u043b\u0430 \u0448\u043a\u0430\u0444\u044b \u0432\u0441\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0439 \u043e\u0434\u0435\u0436\u0434\u043e\u0439 : \u043d\u0430\u0447\u0438\u043d\u0430\u044f \u043e\u0442 \u043a\u043b\u0430\u0441\u0441\u0438\u043a\u0438 \u0434\u043e \u0442\u043e\u0442\u0430\u043b-\u0441\u043f\u043e\u0440\u0442. \u041e\u0434\u0438\u043d \u0434\u0435\u043d\u044c \u043d\u0430 \u043a\u0430\u0431\u043b\u0443\u043a\u0430\u0445, \u0432\u0442\u043e\u0440\u043e\u0439 \u0432 \u043a\u0440\u043e\u0441\u0441\u043e\u0432\u043a\u0430\u0445, \u0430 \u0435\u0449\u0451 \u043b\u0443\u0447\u0448\u0435 \u0441\u043c\u0435\u043d\u0438\u0442\u044c \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043e\u0431\u0440\u0430\u0437\u043e\u0432 \u0437\u0430 \u0434\u0435\u043d\u044c - \u044d\u0442\u043e \u0432\u0441\u0435 \u043f\u0440\u043e \u043c\u0435\u043d\u044f. \u041d\u043e \u044f \u043d\u0438\u043a\u043e\u0433\u0434\u0430 \u043d\u0435 \u0434\u0435\u043b\u0430\u043b\u0430 \u043d\u0435\u043e\u0431\u0434\u0443\u043c\u0430\u043d\u043d\u044b\u0435 \u043f\u043e\u043a\u0443\u043f\u043a\u0438, \u0432\u0441\u0435 \u0432\u0435\u0449\u0438 \u044f \u043d\u043e\u0441\u0438\u043b\u0430 \u0438 \u043d\u043e\u0448\u0443 \u0434\u043e \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0433\u043e. \u042f \u043d\u0435\u0437\u0430\u043c\u0435\u0442\u043d\u043e \u0441\u0442\u0430\u043b\u0430 \u0444\u0430\u043d\u0430\u0442\u043e\u043c \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u043d\u044b\u0445 \u043f\u043e\u043a\u0440\u043e\u0435\u0432, \u0432\u0441\u0435\u0433\u0434\u0430 \u0432 \u043f\u043e\u0438\u0441\u043a\u0435 \u043c\u043e\u0434\u0435\u043b\u0435\u0439 \u0441 \u0444\u0438\u0448\u043a\u043e\u0439 (\u0434\u0430\u0439\u0442\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 \xab\u0438\u0437\u044e\u043c\u0430\xbb), \u043d\u0435 \u043b\u044e\u0431\u043b\u044e \u043f\u043e\u043a\u0443\u043f\u0430\u0442\u044c \u043e\u0434\u043d\u043e\u0442\u0438\u043f\u043d\u043e\u0435, \u0447\u0442\u043e \u0443 \u043c\u0435\u043d\u044f \u0435\u0441\u0442\u044c \u0438\u043b\u0438 \u0431\u044b\u043b\u043e. \u0411\u043b\u0430\u0433\u043e\u0434\u0430\u0440\u044f \u044d\u0442\u043e\u043c\u0443 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0443 \u0443 \u043c\u0435\u043d\u044f \u0432\u044b\u0440\u0430\u0431\u043e\u0442\u0430\u043b\u0441\u044f \u0441\u0432\u043e\u0439 \u0441\u0442\u0438\u043b\u044c. \u0418 \u0443 \u043c\u043e\u0438\u0445 \u0437\u043d\u0430\u043a\u043e\u043c\u044b\u0445 \u043f\u0440\u0438 \u0432\u0438\u0434\u0435 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u0445 \u043c\u043e\u0434\u0435\u043b\u0435\u0439 \u0441\u0440\u0430\u0437\u0443 \u043f\u043e\u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0430\u0441\u0441\u043e\u0446\u0438\u0430\u0446\u0438\u044f \u0441\u043e \u043c\u043d\u043e\u0439. - \xab \u041e \u0434\u0430, \u0412\u0438\u043a\u0430 \u0431\u044b \u043d\u0430\u0434\u0435\u043b\u0430.\xbb"}),(0,Rx.jsxs)("div",{className:"flex place-content-center",children:[(0,Rx.jsx)(Dx,{src:qx}),(0,Rx.jsx)(Dx,{src:Bx}),(0,Rx.jsx)(Dx,{src:Wx})]}),(0,Rx.jsx)("p",{className:"mt-8 p-4 sm:text-lg text-base",children:"\u0410 \u0441 \u043a\u0430\u0436\u0434\u044b\u043c \u0433\u043e\u0434\u043e\u043c \u043c\u043d\u0435 \u0432\u0441\u0435 \u0441\u043b\u043e\u0436\u043d\u0435\u0435 \u043d\u0430\u0439\u0442\u0438 \u0432\u0435\u0449\u0438 \u0441\u0435\u0431\u0435 \u043f\u043e \u0432\u043a\u0443\u0441\u0443 - \u0432\u0441\u0435 \u0431\u044b\u043b\u043e, \u0432\u0441\u0435 \u043d\u0435 \u0442\u043e. \u041c\u043d\u043e\u0433\u0438\u0435 \u0434\u0435\u0432\u043e\u0447\u043a\u0438 \u043a\u043e\u043d\u0435\u0447\u043d\u043e \u043c\u0435\u043d\u044f \u043f\u043e\u0439\u043c\u0443\u0442. \u041f\u043e\u044d\u0442\u043e\u043c\u0443 \u044f \u0440\u0435\u0448\u0438\u043b\u0430 \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0441\u0432\u043e\u044e \u043b\u0438\u043d\u0435\u0439\u043a\u0443 \u043e\u0434\u0435\u0436\u0434\u044b @shine_belarus , \u0433\u0434\u0435 \u0432\u044b \u043d\u0435 \u043d\u0430\u0439\u0434\u0451\u0442\u0435 \u043f\u0440\u043e\u0441\u0442\u043e\u0442\u044b, \u0430 \u0442\u043e\u043b\u044c\u043a\u043e \u0441\u0430\u043c\u043e\u0435 \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u043d\u043e\u0435 \u043d\u0430 \u043a\u0430\u0436\u0434\u044b\u0439 \u0434\u0435\u043d\u044c \u0438 \u043d\u0435 \u0442\u043e\u043b\u044c\u043a\u043e. \u0414\u0438\u0437\u0430\u0439\u043d\u0435\u0440 \u0440\u0430\u0441\u0441\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442 \u0441\u0432\u043e\u0435 \u0432\u0438\u0434\u0435\u043d\u0438\u0435 \u043c\u043e\u0434\u044b \u0438 \u0441\u0442\u0438\u043b\u044f \u0447\u0435\u0440\u0435\u0437 \u043f\u0440\u043e\u0434\u0443\u043a\u0442. \u041a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u044f - \u044d\u0442\u043e \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0435\u043d\u0438\u0435 \u0434\u0438\u0437\u0430\u0439\u043d\u0435\u0440\u0430, \u0430 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u044b \u0434\u0438\u0437\u0430\u0439\u043d\u0430, \u0441\u0442\u0438\u043b\u044f, \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b \u0438 \u043f\u043e\u0434\u0430\u0447\u0430 - \u044d\u0442\u043e \u0441\u043f\u043e\u0441\u043e\u0431\u044b \u043a\u043e\u043c\u043c\u0443\u043d\u0438\u043a\u0430\u0446\u0438\u0438 \u0434\u0438\u0437\u0430\u0439\u043d\u0435\u0440\u0430 \u0441 \u0435\u0433\u043e \u0430\u0443\u0434\u0438\u0442\u043e\u0440\u0438\u0435\u0439. \u0421\u0438\u044f\u0439-\u0441\u0438\u044f\u0439-\u0441\u0438\u044f\u0439!"})]})}}]),n}(e.Component),Kx=["title","titleId"];function Gx(){return Gx=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gx.apply(this,arguments)}function $x(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Qx(t,n){var r=t.title,i=t.titleId,a=$x(t,Kx);return e.createElement("svg",Gx({id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 122.97 122.88",ref:n,"aria-labelledby":i},a),void 0===r?e.createElement("title",{id:i},"instagram-comment"):r?e.createElement("title",{id:i},r):null,Fx||(Fx=e.createElement("path",{d:"M61.44,0a61.46,61.46,0,0,1,54.91,89l6.44,25.74a5.83,5.83,0,0,1-7.25,7L91.62,115A61.43,61.43,0,1,1,61.44,0ZM96.63,26.25a49.78,49.78,0,1,0-9,77.52A5.83,5.83,0,0,1,92.4,103L109,107.77l-4.5-18a5.86,5.86,0,0,1,.51-4.34,49.06,49.06,0,0,0,4.62-11.58,50,50,0,0,0-13-47.62Z"})))}var Yx=e.forwardRef(Qx),Xx=(n.p,function(e){Z(n,e);var t=ae(n);function n(){return Q(this,n),t.apply(this,arguments)}return X(n,[{key:"render",value:function(){var e=this.props,t=e.likes,n=e.onCommentClick,r=e.onLikeClick,i=e.srcIconLike;return(0,Rx.jsxs)("div",{className:"p-4",children:[(0,Rx.jsxs)("div",{className:"flex",children:[(0,Rx.jsx)("img",{src:"".concat("/shine","/").concat(i),onClick:r,alt:"img",className:"w-6 cursor-pointer mr-4 hover:bg-amber-50"}),(0,Rx.jsx)(Yx,{onClick:n,className:"w-6 cursor-pointer mr-4 hover:bg-amber-50"})]}),(0,Rx.jsx)("p",{className:"mt-2 font-bold sm:text-base text-sm",children:(t.length,"".concat(t.length," likes"))})]})}}]),n}(e.Component)),Jx=function(e){Z(n,e);var t=ae(n);function n(e){var r;return Q(this,n),(r=t.call(this,e)).clearForm=function(){r.setState({comment:""})},r.handleSubmit=function(e){e.preventDefault();var t=r.state.comment;(0,r.props.onSubmit)(t),r.clearForm()},r.handleCommentChange=function(e){r.setState({comment:e.target.value})},r.state={comment:""},r}return X(n,[{key:"render",value:function(){var e=this.props,t=e.commentInput,n=e.currentUser,r=this.state.comment;return n?(0,Rx.jsxs)("form",{className:"flex",onSubmit:this.handleSubmit,children:[(0,Rx.jsx)("input",{type:"text",name:"comment",placeholder:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439...",className:"hover:bg-amber-50 mr-4 p-2 text-gray-400 sm:text-sm text-xs",ref:t,onChange:this.handleCommentChange,value:r}),(0,Rx.jsx)("button",{type:"submit",className:"sm:text-sm text-xsm-2 w-min p-2 hover:bg-amber-50",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]}):null}}]),n}(e.Component);Jx.defaultProps={currentUser:null};var Zx=function(e){Z(n,e);var t=ae(n);function n(){return Q(this,n),t.apply(this,arguments)}return X(n,[{key:"render",value:function(){var e=this.props,t=e.comments,n=e.commentInput,r=e.onAddComment,i=e.currentUser;return(0,Rx.jsxs)("div",{className:"p-4 pt-0 sm:text-base text-sm",children:[t.map((function(e){return(0,Rx.jsxs)("p",{className:"mb-1",children:[(0,Rx.jsx)("span",{className:"font-bold mr-1",children:e.username}),(0,Rx.jsx)("span",{children:e.text})]},e.text)})),(0,Rx.jsx)(Jx,{commentInput:n,onSubmit:r,currentUser:i})]})}}]),n}(e.Component);function eE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eE(Object(n),!0).forEach((function(t){se(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Zx.defaultProps={currentUser:null};var nE=function(){function e(){Q(this,e)}return X(e,[{key:"createDocument",value:function(e,t){return t?vg(vm(Ax,this.collectionName,t),e):function(e,t){var n=um(e.firestore,gm),r=vm(e),i=fg(e.converter,t);return gg(n,[Om(Rm(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,fh.exists(!1))]).then((function(){return r}))}(pm(Ax,this.collectionName),e)}},{key:"readDocument",value:function(){var e=he(ce().mark((function e(t){var n,r;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=vm(Ax,this.collectionName,t),e.next=3,hg(n);case 3:if(!(r=e.sent).exists()){e.next=6;break}return e.abrupt("return",r.data());case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateDocument",value:function(){var e=he(ce().mark((function e(t,n){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yg(vm(Ax,this.collectionName,t),n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"deleteDocument",value:function(){var e=he(ce().mark((function e(t){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mg(vm(Ax,this.collectionName,t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getDocuments",value:function(){var e=he(ce().mark((function e(t){var n,r,i;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ig(pm(Ax,this.collectionName),t),e.next=3,pg(n);case 3:return r=e.sent,i=[],r.forEach((function(e){return i.push(tE({id:e.id},e.data()))})),e.abrupt("return",i);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"subscribeToDocument",value:function(e){!function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=et(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||mm(n[u])||(s=n[u],u++);var c,l,f,h={includeMetadataChanges:s.includeMetadataChanges};if(mm(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[u+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof fm)l=um(e.firestore,gm),f=Pf(e._key.path),c={next:function(t){n[u]&&n[u](kg(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=um(e,hm);l=um(p.firestore,gm),f=p._query;var v=new dg(l);c={next:function(e){n[u]&&n[u](new eg(l,v,p,e))},error:n[u+1],complete:n[u+2]},ng(e._query)}(function(e,t,n,r){var i=new Vy(r),a=new ey(t,i,n);e.asyncQueue.enqueueAndForget(he(ce().mark((function t(){return ce().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Gv,t.next=3,Xy(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))})(km(l),f,h,c)}(vm(Ax,this.collectionName),(function(t){e(t.data())}))}}]),e}(),rE=function(e){Z(n,e);var t=ae(n);function n(){var e;return Q(this,n),(e=t.call(this)).collectionName="collection",e}return X(n,[{key:"getCollection",value:function(e){return this.readDocument(e)}},{key:"likePost",value:function(e,t){return this.updateDocument(e,{likes:_g(t)})}},{key:"addComment",value:function(e,t){return this.updateDocument(e,{comments:_g(t)})}}]),n}(nE),iE=new rE,aE=function(t){Z(r,t);var n=ae(r);function r(t){var i;return Q(this,r),(i=n.call(this,t)).handleCommentClickFocus=function(){i.commentInputRef.current.focus()},i.handleLikeClick=function(){var e=i.props,t=e.id,n=e.currentUser,r=e.handleChangeState;iE.likePost(t,n.displayName),r()},i.handleSubmitComment=function(e){var t=i.props,n=t.currentUser,r=t.id,a=t.handleChangeState;iE.addComment(r,{username:n.displayName,text:e}),a()},i.state={LikeIcon:"icons/heart-thin.svg",RedLikeIcon:"icons/red-heart.svg"},i.commentInputRef=e.createRef(),i}return X(r,[{key:"render",value:function(){var e=this.props,t=e.item,n=e.onClick,r=e.currentUser,i=this.state,a=i.LikeIcon,o=i.RedLikeIcon;return t?(0,Rx.jsx)("div",{className:"bg-white max-w-screen-lg grid mx-auto",children:(0,Rx.jsxs)("div",{className:"m-4",children:[(0,Rx.jsx)("p",{className:"sm:text-xl text-lg font-bold",children:t.title}),(0,Rx.jsx)("p",{className:"sm:text-base text-sm",children:t.caption}),(0,Rx.jsx)("div",{className:"m-2 flex overflow-x-scroll",children:t.img.map((function(e){return(0,Rx.jsx)("img",{src:"".concat("/shine","/").concat(e.src),id:e.id,alt:"img",onClick:function(){return n(e.src,e.id)},className:"sm:w-1/4 w-1/3 p-1"},e.id)}))}),(0,Rx.jsx)(Xx,{likes:t.likes,onLikeClick:this.handleLikeClick,srcIconLike:r&&t.likes.includes(r.displayName)?o:a,onCommentClick:this.handleCommentClickFocus}),(0,Rx.jsx)(Zx,{comments:t.comments,commentInput:this.commentInputRef,onAddComment:this.handleSubmitComment,currentUser:r})]})}):(0,Rx.jsx)("div",{className:"loader"})}}]),r}(e.Component);aE.defaultProps={item:null,currentUser:null};var oE=function(e){Z(n,e);var t=ae(n);function n(){var e;return Q(this,n),(e=t.call(this)).collectionName="favorites",e}return X(n,[{key:"getCollection",value:function(e){return this.readDocument(e)}},{key:"getCollectionByUsername",value:function(e){return this.getDocuments(og("username","==",e))}},{key:"deletetCollection",value:function(e){return this.deleteDocument(e)}}]),n}(nE),sE=new oE,uE=function(e){Z(n,e);var t=ae(n);function n(){var e;return Q(this,n),(e=t.call(this)).collectionName="cart",e}return X(n,[{key:"getCollection",value:function(e){return this.readDocument(e)}},{key:"getCollectionByUsername",value:function(e){return this.getDocuments(og("username","==",e))}},{key:"deletetCollection",value:function(e){return this.deleteDocument(e)}}]),n}(nE),cE=new uE,lE=n(8081),fE=function(e){Z(n,e);var t=ae(n);function n(e){var r;return Q(this,n),(r=t.call(this,e)).handleShowTable=function(){r.setState({showTable:!r.state.showTable,addModalPage:!r.state.addModalPage})},r.handleSizeClick=function(e){r.setState({sizeId:e})},r.handleCloseTable=function(){r.setState({showTable:!r.state.showTable})},r.handleMooveToFavorites=function(){var e=r.props,t=e.item,n=e.imgRefSrc,i=e.productId,a=e.currentUser;sE.createDocument({itemId:"".concat(i).concat(r.state.sizeId),username:a.displayName,src:n,titleToOne:t.titleToOne,price:t.price,size:r.state.sizeId},"".concat(i).concat(r.state.sizeId)),r.setState({showAnswerToFavorites:!r.state.showAnswerToFavorites})},r.handleMoveToCart=function(){var e=r.props,t=e.item,n=e.imgRefSrc,i=e.productId,a=e.currentUser;cE.createDocument({itemId:"".concat(i).concat(r.state.sizeId),username:a.displayName,src:n,titleToOne:t.titleToOne,price:t.price,size:r.state.sizeId},"".concat(i).concat(r.state.sizeId)),r.setState({showAnswerToCart:!r.state.showAnswerToCart})},r.state={showTable:!1,showAnswerToFavorites:!1,showAnswerToCart:!1,size:[{id:40},{id:42},{id:44},{id:46},{id:48}],sizeId:null},r}return X(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.item,r=t.imgRefSrc,i=t.onClose,a=this.state,o=a.size,s=a.showTable,u=a.showAnswerToFavorites,c=a.showAnswerToCart;return(0,Rx.jsx)("div",{className:"bg-gray-400/50 w-full h-full fixed top-0 left-0 flex items-center justify-center",children:(0,Rx.jsxs)("div",{className:"bg-white sm:flex w-3/4 ",children:[(0,Rx.jsx)("img",{src:r,alt:"img",className:"sm:w-1/3 mr-4"}),(0,Rx.jsxs)("div",{className:"w-fit",children:[(0,Rx.jsx)("p",{className:"m-2 sm:text-lg",children:"".concat(n.titleToOne,", ").concat(n.price)}),(0,Rx.jsx)("p",{className:"m-2 sm:text-base text-sm",children:n.caption}),(0,Rx.jsxs)("div",{className:"m-2 sm:text-base text-sm",children:[(0,Rx.jsx)("p",{className:"mb-2",children:"\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0440\u0430\u0437\u043c\u0435\u0440:"}),(0,Rx.jsxs)("div",{children:[(0,Rx.jsx)("button",{onClick:this.handleShowTable,className:"sm:mr-2 border px-2 hover:bg-amber-50 sm:inline block",children:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0442\u0430\u0431\u043b\u0438\u0446\u0443"}),o.map((function(t){return(0,Rx.jsx)("button",{onClick:function(){return e.handleSizeClick(t.id)},className:"border px-2 hover:bg-amber-50 sm:text-base text-sm ",children:t.id},t.id)}))]})]}),(0,Rx.jsxs)("div",{className:"sm:text-base text-sm",children:[(0,Rx.jsx)("button",{onClick:this.handleMoveToCart,className:"m-2 border rounded px-2 hover:bg-amber-50 w-auto",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"}),(0,Rx.jsx)("button",{onClick:this.handleMooveToFavorites,className:"m-2 border rounded px-2 hover:bg-amber-50",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0435 \u0442\u043e\u0432\u0430\u0440\u044b"}),(0,Rx.jsx)("button",{onClick:i,className:"m-2 border rounded px-2 hover:bg-gray-300",children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"})]}),s&&(0,Rx.jsx)("img",{src:lE,alt:"img",onClick:this.handleCloseTable,className:"sm:w-1/2 w-2/3 my-2 "}),u&&(0,Rx.jsx)("p",{className:"m-2",children:"\u0422\u043e\u0432\u0430\u0440 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0432 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0435"}),c&&(0,Rx.jsx)("p",{className:"m-2",children:"\u0422\u043e\u0432\u0430\u0440 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"})]})]})})}}]),n}(e.Component);fE.defaultProps={item:null};var hE=function(t){Z(r,t);var n=ae(r);function r(t){var i;return Q(this,r),(i=n.call(this,t)).handleModalPage=function(e,t,n){i.setState({addModalPage:!i.state.addModalPage,productData:e,productImage:t,productId:n})},i.onClose=function(){i.setState({addModalPage:!i.state.addModalPage})},i.state={addModalPage:!1,productData:null,productImage:null,productId:null},i.imgRef=e.createRef(),i}return X(r,[{key:"render",value:function(){var e=this,t=this.state,n=t.productData,r=t.productImage,i=t.productId,a=t.addModalPage,o=this.props,s=o.currentUser,u=o.dress,c=o.suit,l=o.sport,f=o.shirts,h=o.handleChangeState;return(0,Rx.jsxs)(Rx.Fragment,{children:[(0,Rx.jsx)(aE,{item:u,id:"dress",onClick:function(t,n){return e.handleModalPage(u,t,n)},currentUser:s,handleChangeState:h}),(0,Rx.jsx)(aE,{item:c,id:"suit",onClick:function(t,n){return e.handleModalPage(c,t,n)},currentUser:s,handleChangeState:h}),(0,Rx.jsx)(aE,{item:l,id:"sport",onClick:function(t,n){return e.handleModalPage(l,t,n)},currentUser:s,handleChangeState:h}),(0,Rx.jsx)(aE,{item:f,id:"shirts",onClick:function(t,n){return e.handleModalPage(f,t,n)},currentUser:s,handleChangeState:h}),s?a&&(0,Rx.jsx)(fE,{currentUser:s,onClose:this.onClose,item:n,imgRefSrc:r,productId:i}):null]})}}]),r}(e.Component);hE.defaultProps={currentUser:null,dress:null,suit:null,sport:null};var dE=function(e){Z(n,e);var t=ae(n);function n(){return Q(this,n),t.apply(this,arguments)}return X(n,[{key:"render",value:function(){var e=this.props,t=e.onClickProducts,n=e.onClickCart,r=e.onClickOrder;return(0,Rx.jsxs)("div",{className:"border p-4 w-min text-base sm:text-xl",children:[(0,Rx.jsx)("button",{onClick:t,className:"text-left w-fit cursor-pointer hover:bg-amber-50 p-2",children:"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0435"}),(0,Rx.jsx)("button",{onClick:n,className:"text-left w-fit cursor-pointer hover:bg-amber-50 p-2",children:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430"}),(0,Rx.jsx)("button",{onClick:r,className:"text-left w-fit cursor-pointer hover:bg-amber-50 p-2",children:"\u0417\u0430\u043a\u0430\u0437\u044b"}),(0,Rx.jsx)("button",{onClick:function(){return function(e){return et(e).signOut()}(Nx)},className:"text-left w-fit cursor-pointer hover:bg-amber-50 p-2",children:"\u0412\u044b\u0439\u0442\u0438"})]})}}]),n}(e.Component),pE=function(e){Z(n,e);var t=ae(n);function n(){return Q(this,n),t.apply(this,arguments)}return X(n,[{key:"render",value:function(){var e=this.props.onClose;return(0,Rx.jsx)("div",{className:"bg-gray-400/50 w-full h-full fixed top-0 left-0 flex items-center justify-center",children:(0,Rx.jsxs)("div",{className:"bg-white p-8 justify-center text-center",children:[(0,Rx.jsx)("p",{className:"text-lg m-2",children:"\u0422\u043e\u0432\u0430\u0440 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"}),(0,Rx.jsx)("button",{onClick:e,className:"m-2 border rounded px-2 hover:bg-gray-300",children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f"})]})})}}]),n}(e.Component),vE=function(e){Z(n,e);var t=ae(n);function n(e){var r;return Q(this,n),(r=t.call(this,e)).handleChange=function(e){var t=r.props.currentUser;r.setState({toCart:[].concat(le(r.state.toCart),[{itemId:e.itemId,src:e.src,titleToOne:e.titleToOne,size:e.size,price:e.price,username:t.displayName}])})},r.handleMoveToCart=function(){var e=r.state.toCart,t=r.props.handleChangeState;e.map((function(e){cE.createDocument(e,e.itemId),sE.deletetCollection(e.itemId)})),t(),r.setState({addModalPage:!r.state.addModalPage,showfavoritesClothes:!r.state.showfavoritesClothes})},r.onClose=function(){r.setState({addModalPage:!r.state.addModalPage,showcartClothes:r.state.showcartClothes})},r.onDelete=function(e){var t=r.props.handleChangeState;sE.deletetCollection(e.itemId),t()},r.state={addModalPage:!1,showfavoritesClothes:!0,toCart:[]},r}return X(n,[{key:"render",value:function(){var e=this,t=this.props.favoritesClothes,n=this.state,r=n.showfavoritesClothes,i=n.addModalPage;return(0,Rx.jsxs)("div",{className:"grid border p-4 w-full",children:[(0,Rx.jsx)("p",{className:"text-center text-sm sm:text-lg",children:"\u041c\u043e\u0438 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0435 \u0442\u043e\u0432\u0430\u0440\u044b"}),r&&(0,Rx.jsx)("div",{className:"w-full",children:t.map((function(t){return(0,Rx.jsxs)("div",{className:"w-min flex sm:m-2 my-2",children:[(0,Rx.jsx)("input",{type:"checkbox",onChange:function(){return e.handleChange(t)},className:"text-center sm:m-4 m-2"}),(0,Rx.jsx)("img",{src:"".concat("/shine","/").concat(t.src),alt:"img",className:"sm:mr-4 mr-2 sm:w-full w-2/3"}),(0,Rx.jsxs)("div",{className:"p-2 text-sm sm:text-lg ",children:[(0,Rx.jsx)("p",{className:"w-full ",children:"".concat(t.titleToOne,", ").concat(t.price)}),(0,Rx.jsx)("p",{className:"w-full",children:"".concat(t.size," \u0440\u0430\u0437\u043c\u0435\u0440")}),(0,Rx.jsx)("button",{onClick:function(){return e.onDelete(t)},className:"w-min h-min border my-2 text-sm rounded hover:bg-amber-50 px-1",children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})]},t.itemId)}))}),t?(0,Rx.jsx)("div",{className:"grid place-items-center",children:(0,Rx.jsx)("button",{onClick:this.handleMoveToCart,className:"w-fit hover:bg-amber-50 p-2",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"})}):null,i&&(0,Rx.jsx)(pE,{onClose:this.onClose})]})}}]),n}(e.Component);vE.defaultProps={favoritesClothes:null};var yE=function(e){Z(n,e);var t=ae(n);function n(){return Q(this,n),t.apply(this,arguments)}return X(n,[{key:"render",value:function(){var e=this.props.onClose;return(0,Rx.jsx)("div",{className:"bg-gray-400/50 w-full h-full fixed top-0 left-0 flex items-center justify-center",children:(0,Rx.jsxs)("div",{className:"bg-white p-8 justify-center text-center",children:[(0,Rx.jsx)("p",{className:"text-lg m-2",children:"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d."}),(0,Rx.jsx)("p",{className:"text-lg m-2",children:"\u0421\u043f\u0430\u0441\u0438\u0431\u043e \u0447\u0442\u043e \u0432\u044b\u0431\u0440\u0430\u043b\u0438 SHINE!"}),(0,Rx.jsx)("button",{onClick:e,className:"m-2 border rounded px-2 hover:bg-gray-300",children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f"})]})})}}]),n}(e.Component),mE=function(e){Z(n,e);var t=ae(n);function n(){var e;return Q(this,n),(e=t.call(this)).collectionName="order",e}return X(n,[{key:"getCollection",value:function(e){return this.readDocument(e)}},{key:"getCollectionByUsername",value:function(e){return this.getDocuments(og("username","==",e))}},{key:"deletetCollection",value:function(e){return this.deleteDocument(e)}}]),n}(nE),gE=new mE,kE=function(e){Z(n,e);var t=ae(n);function n(e){var r;return Q(this,n),(r=t.call(this,e)).handleChange=function(e){var t=r.props.currentUser;r.setState({toOrder:[].concat(le(r.state.toOrder),[{itemId:e.itemId,src:e.src,titleToOne:e.titleToOne,size:e.size,price:e.price,username:t.displayName}])})},r.handleMoveToOrder=function(){var e=r.state.toOrder,t=r.props.handleChangeState;e.map((function(e){gE.createDocument(e,e.itemId),cE.deletetCollection(e.itemId)})),t(),r.setState({addModalPage:!r.state.addModalPage,showcartClothes:!r.state.showcartClothes})},r.onClose=function(){r.setState({addModalPage:!r.state.addModalPage,showcartClothes:r.state.showcartClothes})},r.onDelete=function(e){var t=r.props.handleChangeState;cE.deletetCollection(e.itemId),t()},r.state={addModalPage:!1,showcartClothes:!0,toOrder:[]},r}return X(n,[{key:"render",value:function(){var e=this,t=this.props.cartClothes,n=this.state,r=n.showcartClothes,i=n.addModalPage;return(0,Rx.jsxs)("div",{className:"grid w-full border p-4",children:[(0,Rx.jsx)("p",{className:"text-center text-sm sm:text-lg",children:"\u041c\u043e\u044f \u043a\u043e\u0440\u0437\u0438\u043d\u0430"}),(0,Rx.jsxs)("div",{className:"grid place-items-center",children:[r&&(0,Rx.jsx)("div",{className:"w-full",children:t.map((function(t){return(0,Rx.jsxs)("div",{className:"w-min flex sm:m-4 my-2",children:[(0,Rx.jsx)("input",{type:"checkbox",onChange:function(){return e.handleChange(t)},className:"text-center sm:m-4 m-2"}),(0,Rx.jsx)("img",{src:"".concat("/shine","/").concat(t.src),alt:"img",className:"sm:mr-4 mr-2 sm:w-full w-2/3"}),(0,Rx.jsxs)("div",{className:"p-2 text-sm sm:text-lg",children:[(0,Rx.jsx)("p",{className:"w-full",children:"".concat(t.titleToOne,", ").concat(t.price)}),(0,Rx.jsx)("p",{className:"w-full",children:"".concat(t.size," \u0440\u0430\u0437\u043c\u0435\u0440")}),(0,Rx.jsx)("button",{onClick:function(){return e.onDelete(t)},className:"w-min h-min border my-2 text-sm rounded hover:bg-amber-50 px-1",children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})]},t.itemId)}))}),t?(0,Rx.jsx)("div",{className:"grid place-items-center",children:(0,Rx.jsx)("button",{onClick:this.handleMoveToOrder,className:"w-fit hover:bg-amber-50 p-2",children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"})}):null,i&&(0,Rx.jsx)(yE,{onClose:this.onClose})]})]})}}]),n}(e.Component);kE.defaultProps={cartClothes:null};var _E=function(e){Z(n,e);var t=ae(n);function n(){return Q(this,n),t.apply(this,arguments)}return X(n,[{key:"render",value:function(){var e=this.props.orderClothes;return(0,Rx.jsxs)("div",{className:"grid w-full border p-4",children:[(0,Rx.jsx)("p",{className:"text-center text-lg",children:"\u041c\u043e\u0438 \u0437\u0430\u043a\u0430\u0437\u044b"}),(0,Rx.jsx)("div",{className:"grid place-items-center",children:(0,Rx.jsx)("div",{className:"w-full sm:flex sm:place-content-center",children:e.map((function(e){return(0,Rx.jsxs)("div",{className:"w-min inline m-4",children:[(0,Rx.jsx)("img",{src:"".concat("/shine","/").concat(e.src),alt:"img",className:" mr-4 sm:w-full w-2/3"}),(0,Rx.jsxs)("div",{className:"m-2 p-2 text-sm sm:text-lg ",children:[(0,Rx.jsx)("p",{className:"w-full",children:"".concat(e.titleToOne,", ").concat(e.price)}),(0,Rx.jsx)("p",{className:"w-full",children:"".concat(e.size," \u0440\u0430\u0437\u043c\u0435\u0440")})]})]},e.itemId)}))})})]})}}]),n}(e.Component);_E.defaultProps={orderClothes:null};var bE=function(e){Z(n,e);var t=ae(n);function n(e){var r;return Q(this,n),(r=t.call(this,e)).handleClickProducts=function(){var e=r.props.currentUser;if(!e)return null;r.setState({addProducts:!0,addCart:!1,addStart:!1,addOrder:!1}),sE.getCollectionByUsername(e.displayName).then((function(e){r.setState({favoritesClothes:e})}))},r.handleClickCart=function(){var e=r.props.currentUser;if(!e)return null;r.setState({addCart:!0,addProducts:!1,addStart:!1,addOrder:!1}),cE.getCollectionByUsername(e.displayName).then((function(e){r.setState({cartClothes:e})}))},r.handleClickOrder=function(){var e=r.props.currentUser;if(!e)return null;r.setState({addCart:!1,addProducts:!1,addStart:!1,addOrder:!0}),gE.getCollectionByUsername(e.displayName).then((function(e){r.setState({orderClothes:e})}))},r.state={addProducts:!1,addCart:!1,addStart:!0,addOrder:!1,favoritesClothes:[],cartClothes:[],orderClothes:[]},r}return X(n,[{key:"render",value:function(){var e=this.state,t=e.addStart,n=e.addProducts,r=e.addCart,i=e.addOrder,a=e.favoritesClothes,o=e.cartClothes,s=e.orderClothes,u=this.props.currentUser;return(0,Rx.jsxs)("div",{className:"bg-white max-w-screen-lg flex mx-auto",children:[(0,Rx.jsx)(dE,{onClickProducts:this.handleClickProducts,onClickCart:this.handleClickCart,onClickOrder:this.handleClickOrder}),t&&(0,Rx.jsxs)("div",{className:"w-full text-center text-lg sm:text-xl m-4",children:["\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c \u0432 \u043b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442, ",u.displayName,"!"]}),n&&(0,Rx.jsx)(vE,{favoritesClothes:a,currentUser:u,handleChangeState:this.handleClickProducts}),r&&(0,Rx.jsx)(kE,{cartClothes:o,currentUser:u,handleChangeState:this.handleClickCart}),i&&(0,Rx.jsx)(_E,{orderClothes:s,currentUser:u})]})}}]),n}(e.Component);bE.defaultProps={currentUser:null};var wE,xE,EE=function(e){Z(n,e);var t=ae(n);function n(){return Q(this,n),t.apply(this,arguments)}return X(n,[{key:"render",value:function(){var e=this.props,t=e.currentUser,n=e.isUserLoading;return(0,Rx.jsx)("div",{className:"flex flex-col min-h-screen",children:(0,Rx.jsxs)("div",{className:"flex-grow",children:[n&&(0,Rx.jsx)("div",{className:"loader"}),t&&(0,Rx.jsx)(bE,{currentUser:t}),!n&&!t&&(0,Rx.jsx)(k,{to:"/login"})]})})}}]),n}(e.Component);EE.defaultProps={currentUser:null};try{wE=Map}catch(OA){}try{xE=Set}catch(OA){}function TE(e,t,n){if(!e||"object"!==typeof e||"function"===typeof e)return e;if(e.nodeType&&"cloneNode"in e)return e.cloneNode(!0);if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return new RegExp(e);if(Array.isArray(e))return e.map(CE);if(wE&&e instanceof wE)return new Map(Array.from(e.entries()));if(xE&&e instanceof xE)return new Set(Array.from(e.values()));if(e instanceof Object){t.push(e);var r=Object.create(e);for(var i in n.push(r),e){var a=t.findIndex((function(t){return t===e[i]}));r[i]=a>-1?n[a]:TE(e[i],t,n)}return r}return e}function CE(e){return TE(e,[],[])}var SE=Object.prototype.toString,IE=Error.prototype.toString,NE=RegExp.prototype.toString,AE="undefined"!==typeof Symbol?Symbol.prototype.toString:function(){return""},RE=/^Symbol\((.*)\)(.*)$/;function OE(e){return e!=+e?"NaN":0===e&&1/e<0?"-0":""+e}function PE(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null==e||!0===e||!1===e)return""+e;var n=typeof e;if("number"===n)return OE(e);if("string"===n)return t?'"'.concat(e,'"'):e;if("function"===n)return"[Function "+(e.name||"anonymous")+"]";if("symbol"===n)return AE.call(e).replace(RE,"Symbol($1)");var r=SE.call(e).slice(8,-1);return"Date"===r?isNaN(e.getTime())?""+e:e.toISOString(e):"Error"===r||e instanceof Error?"["+IE.call(e)+"]":"RegExp"===r?NE.call(e):null}function DE(e,t){var n=PE(e,t);return null!==n?n:JSON.stringify(e,(function(e,n){var r=PE(this[e],t);return null!==r?r:n}),2)}var FE={default:"${path} is invalid",required:"${path} is a required field",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:function(e){var t=e.path,n=e.type,r=e.value,i=e.originalValue,a=null!=i&&i!==r,o="".concat(t," must be a `").concat(n,"` type, ")+"but the final value was: `".concat(DE(r,!0),"`")+(a?" (cast from the value `".concat(DE(i,!0),"`)."):".");return null===r&&(o+='\n If "null" is intended as an empty value be sure to mark the schema as `.nullable()`'),o},defined:"${path} must be defined"},LE={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},ME={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},jE={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},UE={isValue:"${path} field must be ${value}"},VE={noUnknown:"${path} field has unspecified keys: ${unknown}"},zE={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},qE=(Object.assign(Object.create(null),{mixed:FE,string:LE,number:ME,date:jE,object:VE,array:zE,boolean:UE}),n(7805)),BE=n.n(qE),WE=function(e){return e&&e.__isYupSchema__},HE=function(){function e(t,n){if(Q(this,e),this.fn=void 0,this.refs=t,this.refs=t,"function"!==typeof n){if(!BE()(n,"is"))throw new TypeError("`is:` is required for `when()` conditions");if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");var r=n.is,i=n.then,a=n.otherwise,o="function"===typeof r?r:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.every((function(e){return e===r}))};this.fn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.pop(),s=t.pop(),u=o.apply(void 0,t)?i:a;if(u)return"function"===typeof u?u(s):s.concat(u.resolve(r))}}else this.fn=n}return X(e,[{key:"resolve",value:function(e,t){var n=this.refs.map((function(e){return e.getValue(null==t?void 0:t.value,null==t?void 0:t.parent,null==t?void 0:t.context)})),r=this.fn.apply(e,n.concat(e,t));if(void 0===r||r===e)return e;if(!WE(r))throw new TypeError("conditions must return a schema object");return r.resolve(t)}}]),e}(),KE=HE;function GE(e){return null==e?[]:[].concat(e)}function $E(){return $E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$E.apply(this,arguments)}var QE=/\$\{\s*(\w+)\s*\}/g,YE=function(e){Z(n,e);var t=ae(n);function n(e,r,i,a){var o;return Q(this,n),(o=t.call(this)).value=void 0,o.path=void 0,o.type=void 0,o.errors=void 0,o.params=void 0,o.inner=void 0,o.name="ValidationError",o.value=r,o.path=i,o.type=a,o.errors=[],o.inner=[],GE(e).forEach((function(e){var t;n.isError(e)?((t=o.errors).push.apply(t,le(e.errors)),o.inner=o.inner.concat(e.inner.length?e.inner:e)):o.errors.push(e)})),o.message=o.errors.length>1?"".concat(o.errors.length," errors occurred"):o.errors[0],Error.captureStackTrace&&Error.captureStackTrace(re(o),n),o}return X(n,null,[{key:"formatError",value:function(e,t){var n=t.label||t.path||"this";return n!==t.path&&(t=$E({},t,{path:n})),"string"===typeof e?e.replace(QE,(function(e,n){return DE(t[n])})):"function"===typeof e?e(t):e}},{key:"isError",value:function(e){return e&&"ValidationError"===e.name}}]),n}(pe(Error));function XE(e,t){var n=e.endEarly,r=e.tests,i=e.args,a=e.value,o=e.errors,s=e.sort,u=e.path,c=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(t),l=r.length,f=[];if(o=o||[],!l)return o.length?c(new YE(o,a,u)):c(null,a);for(var h=0;h<r.length;h++){(0,r[h])(i,(function(e){if(e){if(!YE.isError(e))return c(e,a);if(n)return e.value=a,c(e,a);f.push(e)}if(--l<=0){if(f.length&&(s&&f.sort(s),o.length&&f.push.apply(f,le(o)),o=f),o.length)return void c(new YE(o,a,u),a);c(null,a)}}))}}var JE=n(7702),ZE=n.n(JE),eT=n(2758),tT="$",nT=".";var rT=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Q(this,e),this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,"string"!==typeof t)throw new TypeError("ref must be a string, got: "+t);if(this.key=t.trim(),""===t)throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===tT,this.isValue=this.key[0]===nT,this.isSibling=!this.isContext&&!this.isValue;var r=this.isContext?tT:this.isValue?nT:"";this.path=this.key.slice(r.length),this.getter=this.path&&(0,eT.getter)(this.path,!0),this.map=n.map}return X(e,[{key:"getValue",value:function(e,t,n){var r=this.isContext?n:this.isValue?e:t;return this.getter&&(r=this.getter(r||{})),this.map&&(r=this.map(r)),r}},{key:"cast",value:function(e,t){return this.getValue(e,null==t?void 0:t.parent,null==t?void 0:t.context)}},{key:"resolve",value:function(){return this}},{key:"describe",value:function(){return{type:"ref",key:this.key}}},{key:"toString",value:function(){return"Ref(".concat(this.key,")")}}],[{key:"isRef",value:function(e){return e&&e.__isYupRef}}]),e}();function iT(){return iT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iT.apply(this,arguments)}function aT(e){function t(t,n){var r=t.value,i=t.path,a=void 0===i?"":i,o=t.label,s=t.options,u=t.originalValue,c=t.sync,l=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["value","path","label","options","originalValue","sync"]),f=e.name,h=e.test,d=e.params,p=e.message,v=s.parent,y=s.context;function m(e){return rT.isRef(e)?e.getValue(r,v,y):e}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=ZE()(iT({value:r,originalValue:u,label:o,path:e.path||a},d,e.params),m),n=new YE(YE.formatError(e.message||p,t),r,t.path,e.type||f);return n.params=t,n}var k=iT({path:a,parent:v,type:f,createError:g,resolve:m,options:s,originalValue:u},l);if(c){var _;try{var b;if("function"===typeof(null==(b=_=h.call(k,r,k))?void 0:b.then))throw new Error('Validation test of type: "'.concat(k.type,'" returned a Promise during a synchronous validate. ')+"This test will finish after the validate call has returned")}catch(w){return void n(w)}YE.isError(_)?n(_):_?n(null,_):n(g())}else try{Promise.resolve(h.call(k,r,k)).then((function(e){YE.isError(e)?n(e):e?n(null,e):n(g())})).catch(n)}catch(w){n(w)}}return t.OPTIONS=e,t}rT.prototype.__isYupRef=!0;var oT=function(e){return e.substr(0,e.length-1).substr(1)};function sT(e,t,n){var r,i,a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return t?((0,eT.forEach)(t,(function(s,u,c){var l=u?oT(s):s;if((e=e.resolve({context:o,parent:r,value:n})).innerType){var f=c?parseInt(l,10):0;if(n&&f>=n.length)throw new Error("Yup.reach cannot resolve an array item at index: ".concat(s,", in the path: ").concat(t,". ")+"because there is no value at that index. ");r=n,n=n&&n[f],e=e.innerType}if(!c){if(!e.fields||!e.fields[l])throw new Error("The schema does not contain the path: ".concat(t,". ")+"(failed at: ".concat(a,' which is a type: "').concat(e._type,'")'));r=n,n=n&&n[l],e=e.fields[l]}i=l,a=u?"["+s+"]":"."+s})),{schema:e,parent:r,parentPath:i}):{parent:r,parentPath:t,schema:e}}var uT=function(){function e(){Q(this,e),this.list=void 0,this.refs=void 0,this.list=new Set,this.refs=new Map}return X(e,[{key:"size",get:function(){return this.list.size+this.refs.size}},{key:"describe",value:function(){var e,t=[],n=oe(this.list);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push(r)}}catch(u){n.e(u)}finally{n.f()}var i,o=oe(this.refs);try{for(o.s();!(i=o.n()).done;){var s=a(i.value,2)[1];t.push(s.describe())}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"toArray",value:function(){return Array.from(this.list).concat(Array.from(this.refs.values()))}},{key:"resolveAll",value:function(e){return this.toArray().reduce((function(t,n){return t.concat(rT.isRef(n)?e(n):n)}),[])}},{key:"add",value:function(e){rT.isRef(e)?this.refs.set(e.key,e):this.list.add(e)}},{key:"delete",value:function(e){rT.isRef(e)?this.refs.delete(e.key):this.list.delete(e)}},{key:"clone",value:function(){var t=new e;return t.list=new Set(this.list),t.refs=new Map(this.refs),t}},{key:"merge",value:function(e,t){var n=this.clone();return e.list.forEach((function(e){return n.add(e)})),e.refs.forEach((function(e){return n.add(e)})),t.list.forEach((function(e){return n.delete(e)})),t.refs.forEach((function(e){return n.delete(e)})),n}}]),e}();function cT(){return cT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cT.apply(this,arguments)}var lT=function(){function e(t){var n=this;Q(this,e),this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this._typeError=void 0,this._whitelist=new uT,this._blacklist=new uT,this.exclusiveTests=Object.create(null),this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation((function(){n.typeError(FE.notType)})),this.type=(null==t?void 0:t.type)||"mixed",this.spec=cT({strip:!1,strict:!1,abortEarly:!0,recursive:!0,nullable:!1,presence:"optional"},null==t?void 0:t.spec)}return X(e,[{key:"_type",get:function(){return this.type}},{key:"_typeCheck",value:function(e){return!0}},{key:"clone",value:function(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;var t=Object.create(Object.getPrototypeOf(this));return t.type=this.type,t._typeError=this._typeError,t._whitelistError=this._whitelistError,t._blacklistError=this._blacklistError,t._whitelist=this._whitelist.clone(),t._blacklist=this._blacklist.clone(),t.exclusiveTests=cT({},this.exclusiveTests),t.deps=le(this.deps),t.conditions=le(this.conditions),t.tests=le(this.tests),t.transforms=le(this.transforms),t.spec=CE(cT({},this.spec,e)),t}},{key:"label",value:function(e){var t=this.clone();return t.spec.label=e,t}},{key:"meta",value:function(){if(0===arguments.length)return this.spec.meta;var e=this.clone();return e.spec.meta=Object.assign(e.spec.meta||{},arguments.length<=0?void 0:arguments[0]),e}},{key:"withMutation",value:function(e){var t=this._mutate;this._mutate=!0;var n=e(this);return this._mutate=t,n}},{key:"concat",value:function(e){if(!e||e===this)return this;if(e.type!==this.type&&"mixed"!==this.type)throw new TypeError("You cannot `concat()` schema's of different types: ".concat(this.type," and ").concat(e.type));var t=this,n=e.clone(),r=cT({},t.spec,n.spec);return n.spec=r,n._typeError||(n._typeError=t._typeError),n._whitelistError||(n._whitelistError=t._whitelistError),n._blacklistError||(n._blacklistError=t._blacklistError),n._whitelist=t._whitelist.merge(e._whitelist,e._blacklist),n._blacklist=t._blacklist.merge(e._blacklist,e._whitelist),n.tests=t.tests,n.exclusiveTests=t.exclusiveTests,n.withMutation((function(t){e.tests.forEach((function(e){t.test(e.OPTIONS)}))})),n.transforms=[].concat(le(t.transforms),le(n.transforms)),n}},{key:"isType",value:function(e){return!(!this.spec.nullable||null!==e)||this._typeCheck(e)}},{key:"resolve",value:function(e){var t=this;if(t.conditions.length){var n=t.conditions;(t=t.clone()).conditions=[],t=(t=n.reduce((function(t,n){return n.resolve(t,e)}),t)).resolve(e)}return t}},{key:"cast",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.resolve(cT({value:e},t)),r=n._cast(e,t);if(void 0!==e&&!1!==t.assert&&!0!==n.isType(r)){var i=DE(e),a=DE(r);throw new TypeError("The value of ".concat(t.path||"field"," could not be cast to a value ")+'that satisfies the schema type: "'.concat(n._type,'". \n\n')+"attempted value: ".concat(i," \n")+(a!==i?"result of cast: ".concat(a):""))}return r}},{key:"_cast",value:function(e,t){var n=this,r=void 0===e?e:this.transforms.reduce((function(t,r){return r.call(n,t,e,n)}),e);return void 0===r&&(r=this.getDefault()),r}},{key:"_validate",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,i=n.sync,a=n.path,o=n.from,s=void 0===o?[]:o,u=n.originalValue,c=void 0===u?e:u,l=n.strict,f=void 0===l?this.spec.strict:l,h=n.abortEarly,d=void 0===h?this.spec.abortEarly:h,p=e;f||(p=this._cast(p,cT({assert:!1},n)));var v={value:p,path:a,options:n,originalValue:c,schema:this,label:this.spec.label,sync:i,from:s},y=[];this._typeError&&y.push(this._typeError);var m=[];this._whitelistError&&m.push(this._whitelistError),this._blacklistError&&m.push(this._blacklistError),XE({args:v,value:p,path:a,sync:i,tests:y,endEarly:d},(function(e){e?r(e,p):XE({tests:t.tests.concat(m),args:v,path:a,sync:i,value:p,endEarly:d},r)}))}},{key:"validate",value:function(e,t,n){var r=this.resolve(cT({},t,{value:e}));return"function"===typeof n?r._validate(e,t,n):new Promise((function(n,i){return r._validate(e,t,(function(e,t){e?i(e):n(t)}))}))}},{key:"validateSync",value:function(e,t){var n;return this.resolve(cT({},t,{value:e}))._validate(e,cT({},t,{sync:!0}),(function(e,t){if(e)throw e;n=t})),n}},{key:"isValid",value:function(e,t){return this.validate(e,t).then((function(){return!0}),(function(e){if(YE.isError(e))return!1;throw e}))}},{key:"isValidSync",value:function(e,t){try{return this.validateSync(e,t),!0}catch(n){if(YE.isError(n))return!1;throw n}}},{key:"_getDefault",value:function(){var e=this.spec.default;return null==e?e:"function"===typeof e?e.call(this):CE(e)}},{key:"getDefault",value:function(e){return this.resolve(e||{})._getDefault()}},{key:"default",value:function(e){if(0===arguments.length)return this._getDefault();var t=this.clone({default:e});return t}},{key:"strict",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.clone();return t.spec.strict=e,t}},{key:"_isPresent",value:function(e){return null!=e}},{key:"defined",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:FE.defined;return this.test({message:e,name:"defined",exclusive:!0,test:function(e){return void 0!==e}})}},{key:"required",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:FE.required;return this.clone({presence:"required"}).withMutation((function(t){return t.test({message:e,name:"required",exclusive:!0,test:function(e){return this.schema._isPresent(e)}})}))}},{key:"notRequired",value:function(){var e=this.clone({presence:"optional"});return e.tests=e.tests.filter((function(e){return"required"!==e.OPTIONS.name})),e}},{key:"nullable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.clone({nullable:!1!==e});return t}},{key:"transform",value:function(e){var t=this.clone();return t.transforms.push(e),t}},{key:"test",value:function(){var e;if(void 0===(e=1===arguments.length?"function"===typeof(arguments.length<=0?void 0:arguments[0])?{test:arguments.length<=0?void 0:arguments[0]}:arguments.length<=0?void 0:arguments[0]:2===arguments.length?{name:arguments.length<=0?void 0:arguments[0],test:arguments.length<=1?void 0:arguments[1]}:{name:arguments.length<=0?void 0:arguments[0],message:arguments.length<=1?void 0:arguments[1],test:arguments.length<=2?void 0:arguments[2]}).message&&(e.message=FE.default),"function"!==typeof e.test)throw new TypeError("`test` is a required parameters");var t=this.clone(),n=aT(e),r=e.exclusive||e.name&&!0===t.exclusiveTests[e.name];if(e.exclusive&&!e.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return e.name&&(t.exclusiveTests[e.name]=!!e.exclusive),t.tests=t.tests.filter((function(t){if(t.OPTIONS.name===e.name){if(r)return!1;if(t.OPTIONS.test===n.OPTIONS.test)return!1}return!0})),t.tests.push(n),t}},{key:"when",value:function(e,t){Array.isArray(e)||"string"===typeof e||(t=e,e=".");var n=this.clone(),r=GE(e).map((function(e){return new rT(e)}));return r.forEach((function(e){e.isSibling&&n.deps.push(e.key)})),n.conditions.push(new KE(r,t)),n}},{key:"typeError",value:function(e){var t=this.clone();return t._typeError=aT({message:e,name:"typeError",test:function(e){return!(void 0!==e&&!this.schema.isType(e))||this.createError({params:{type:this.schema._type}})}}),t}},{key:"oneOf",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:FE.oneOf,n=this.clone();return e.forEach((function(e){n._whitelist.add(e),n._blacklist.delete(e)})),n._whitelistError=aT({message:t,name:"oneOf",test:function(e){if(void 0===e)return!0;var t=this.schema._whitelist,n=t.resolveAll(this.resolve);return!!n.includes(e)||this.createError({params:{values:t.toArray().join(", "),resolved:n}})}}),n}},{key:"notOneOf",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:FE.notOneOf,n=this.clone();return e.forEach((function(e){n._blacklist.add(e),n._whitelist.delete(e)})),n._blacklistError=aT({message:t,name:"notOneOf",test:function(e){var t=this.schema._blacklist,n=t.resolveAll(this.resolve);return!n.includes(e)||this.createError({params:{values:t.toArray().join(", "),resolved:n}})}}),n}},{key:"strip",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.clone();return t.spec.strip=e,t}},{key:"describe",value:function(){var e=this.clone(),t=e.spec,n=t.label,r={meta:t.meta,label:n,type:e.type,oneOf:e._whitelist.describe(),notOneOf:e._blacklist.describe(),tests:e.tests.map((function(e){return{name:e.OPTIONS.name,params:e.OPTIONS.params}})).filter((function(e,t,n){return n.findIndex((function(t){return t.name===e.name}))===t}))};return r}}]),e}();lT.prototype.__isYupSchema__=!0;for(var fT=function(){var e=dT[hT];lT.prototype["".concat(e,"At")]=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=sT(this,t,n,r.context),a=i.parent,o=i.parentPath,s=i.schema;return s[e](a&&a[o],cT({},r,{parent:a,path:t}))}},hT=0,dT=["validate","validateSync"];hT<dT.length;hT++)fT();for(var pT=0,vT=["equals","is"];pT<vT.length;pT++){var yT=vT[pT];lT.prototype[yT]=lT.prototype.oneOf}for(var mT=0,gT=["not","nope"];mT<gT.length;mT++){var kT=gT[mT];lT.prototype[kT]=lT.prototype.notOneOf}lT.prototype.optional=lT.prototype.notRequired;var _T=lT;_T.prototype;var bT=function(e){return null==e};var wT=function(e){Z(n,e);var t=ae(n);function n(){var e;return Q(this,n),(e=t.call(this,{type:"boolean"})).withMutation((function(){e.transform((function(e){if(!this.isType(e)){if(/^(true|1)$/i.test(String(e)))return!0;if(/^(false|0)$/i.test(String(e)))return!1}return e}))})),e}return X(n,[{key:"_typeCheck",value:function(e){return e instanceof Boolean&&(e=e.valueOf()),"boolean"===typeof e}},{key:"isTrue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:UE.isValue;return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"true"},test:function(e){return bT(e)||!0===e}})}},{key:"isFalse",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:UE.isValue;return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"false"},test:function(e){return bT(e)||!1===e}})}}]),n}(lT);wT.prototype;var xT=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,ET=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,TT=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,CT=function(e){return bT(e)||e===e.trim()},ST={}.toString();function IT(){return new NT}var NT=function(e){Z(n,e);var t=ae(n);function n(){var e;return Q(this,n),(e=t.call(this,{type:"string"})).withMutation((function(){e.transform((function(e){if(this.isType(e))return e;if(Array.isArray(e))return e;var t=null!=e&&e.toString?e.toString():e;return t===ST?e:t}))})),e}return X(n,[{key:"_typeCheck",value:function(e){return e instanceof String&&(e=e.valueOf()),"string"===typeof e}},{key:"_isPresent",value:function(e){return Dt(ee(n.prototype),"_isPresent",this).call(this,e)&&!!e.length}},{key:"length",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:LE.length;return this.test({message:t,name:"length",exclusive:!0,params:{length:e},test:function(t){return bT(t)||t.length===this.resolve(e)}})}},{key:"min",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:LE.min;return this.test({message:t,name:"min",exclusive:!0,params:{min:e},test:function(t){return bT(t)||t.length>=this.resolve(e)}})}},{key:"max",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:LE.max;return this.test({name:"max",exclusive:!0,message:t,params:{max:e},test:function(t){return bT(t)||t.length<=this.resolve(e)}})}},{key:"matches",value:function(e,t){var n,r,i=!1;if(t)if("object"===typeof t){var a=t.excludeEmptyString;i=void 0!==a&&a,n=t.message,r=t.name}else n=t;return this.test({name:r||"matches",message:n||LE.matches,params:{regex:e},test:function(t){return bT(t)||""===t&&i||-1!==t.search(e)}})}},{key:"email",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:LE.email;return this.matches(xT,{name:"email",message:e,excludeEmptyString:!0})}},{key:"url",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:LE.url;return this.matches(ET,{name:"url",message:e,excludeEmptyString:!0})}},{key:"uuid",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:LE.uuid;return this.matches(TT,{name:"uuid",message:e,excludeEmptyString:!1})}},{key:"ensure",value:function(){return this.default("").transform((function(e){return null===e?"":e}))}},{key:"trim",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:LE.trim;return this.transform((function(e){return null!=e?e.trim():e})).test({message:e,name:"trim",test:CT})}},{key:"lowercase",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:LE.lowercase;return this.transform((function(e){return bT(e)?e:e.toLowerCase()})).test({message:e,name:"string_case",exclusive:!0,test:function(e){return bT(e)||e===e.toLowerCase()}})}},{key:"uppercase",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:LE.uppercase;return this.transform((function(e){return bT(e)?e:e.toUpperCase()})).test({message:e,name:"string_case",exclusive:!0,test:function(e){return bT(e)||e===e.toUpperCase()}})}}]),n}(lT);IT.prototype=NT.prototype;var AT=function(e){Z(n,e);var t=ae(n);function n(){var e;return Q(this,n),(e=t.call(this,{type:"number"})).withMutation((function(){e.transform((function(e){var t=e;if("string"===typeof t){if(""===(t=t.replace(/\s/g,"")))return NaN;t=+t}return this.isType(t)?t:parseFloat(t)}))})),e}return X(n,[{key:"_typeCheck",value:function(e){return e instanceof Number&&(e=e.valueOf()),"number"===typeof e&&!function(e){return e!=+e}(e)}},{key:"min",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ME.min;return this.test({message:t,name:"min",exclusive:!0,params:{min:e},test:function(t){return bT(t)||t>=this.resolve(e)}})}},{key:"max",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ME.max;return this.test({message:t,name:"max",exclusive:!0,params:{max:e},test:function(t){return bT(t)||t<=this.resolve(e)}})}},{key:"lessThan",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ME.lessThan;return this.test({message:t,name:"max",exclusive:!0,params:{less:e},test:function(t){return bT(t)||t<this.resolve(e)}})}},{key:"moreThan",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ME.moreThan;return this.test({message:t,name:"min",exclusive:!0,params:{more:e},test:function(t){return bT(t)||t>this.resolve(e)}})}},{key:"positive",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ME.positive;return this.moreThan(0,e)}},{key:"negative",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ME.negative;return this.lessThan(0,e)}},{key:"integer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ME.integer;return this.test({name:"integer",message:e,test:function(e){return bT(e)||Number.isInteger(e)}})}},{key:"truncate",value:function(){return this.transform((function(e){return bT(e)?e:0|e}))}},{key:"round",value:function(e){var t,n=["ceil","floor","round","trunc"];if("trunc"===(e=(null==(t=e)?void 0:t.toLowerCase())||"round"))return this.truncate();if(-1===n.indexOf(e.toLowerCase()))throw new TypeError("Only valid options for round() are: "+n.join(", "));return this.transform((function(t){return bT(t)?t:Math[e](t)}))}}]),n}(lT);AT.prototype;var RT=/^(\d{4}|[+\-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;var OT=new Date("");function PT(){return new DT}var DT=function(e){Z(n,e);var t=ae(n);function n(){var e;return Q(this,n),(e=t.call(this,{type:"date"})).withMutation((function(){e.transform((function(e){return this.isType(e)?e:(e=function(e){var t,n,r=[1,4,5,6,7,10,11],i=0;if(n=RT.exec(e)){for(var a,o=0;a=r[o];++o)n[a]=+n[a]||0;n[2]=(+n[2]||1)-1,n[3]=+n[3]||1,n[7]=n[7]?String(n[7]).substr(0,3):0,void 0!==n[8]&&""!==n[8]||void 0!==n[9]&&""!==n[9]?("Z"!==n[8]&&void 0!==n[9]&&(i=60*n[10]+n[11],"+"===n[9]&&(i=0-i)),t=Date.UTC(n[1],n[2],n[3],n[4],n[5]+i,n[6],n[7])):t=+new Date(n[1],n[2],n[3],n[4],n[5],n[6],n[7])}else t=Date.parse?Date.parse(e):NaN;return t}(e),isNaN(e)?OT:new Date(e))}))})),e}return X(n,[{key:"_typeCheck",value:function(e){return t=e,"[object Date]"===Object.prototype.toString.call(t)&&!isNaN(e.getTime());var t}},{key:"prepareParam",value:function(e,t){var n;if(rT.isRef(e))n=e;else{var r=this.cast(e);if(!this._typeCheck(r))throw new TypeError("`".concat(t,"` must be a Date or a value that can be `cast()` to a Date"));n=r}return n}},{key:"min",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jE.min,n=this.prepareParam(e,"min");return this.test({message:t,name:"min",exclusive:!0,params:{min:e},test:function(e){return bT(e)||e>=this.resolve(n)}})}},{key:"max",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jE.max,n=this.prepareParam(e,"max");return this.test({message:t,name:"max",exclusive:!0,params:{max:e},test:function(e){return bT(e)||e<=this.resolve(n)}})}}]),n}(lT);DT.INVALID_DATE=OT,PT.prototype=DT.prototype,PT.INVALID_DATE=OT;var FT=n(7499),LT=n.n(FT),MT=n(567),jT=n.n(MT),UT=n(9029),VT=n.n(UT),zT=n(6514),qT=n.n(zT);function BT(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=new Set,i=new Set(t.map((function(e){var t=a(e,2),n=t[0],r=t[1];return"".concat(n,"-").concat(r)})));function o(e,t){var a=(0,eT.split)(e)[0];r.add(a),i.has("".concat(t,"-").concat(a))||n.push([t,a])}var s=function(t){if(BE()(e,t)){var n=e[t];r.add(t),rT.isRef(n)&&n.isSibling?o(n.path,t):WE(n)&&"deps"in n&&n.deps.forEach((function(e){return o(e,t)}))}};for(var u in e)s(u);return qT().array(Array.from(r),n).reverse()}function WT(e,t){var n=1/0;return e.some((function(e,r){var i;if(-1!==(null==(i=t.path)?void 0:i.indexOf(e)))return n=r,!0})),n}function HT(e){return function(t,n){return WT(e,t)-WT(e,n)}}function KT(){return KT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},KT.apply(this,arguments)}var GT=function(e){return"[object Object]"===Object.prototype.toString.call(e)};function $T(e,t){var n=Object.keys(e.fields);return Object.keys(t).filter((function(e){return-1===n.indexOf(e)}))}var QT=HT([]),YT=function(e){Z(n,e);var t=ae(n);function n(e){var r;return Q(this,n),(r=t.call(this,{type:"object"})).fields=Object.create(null),r._sortErrors=QT,r._nodes=[],r._excludedEdges=[],r.withMutation((function(){r.transform((function(e){if("string"===typeof e)try{e=JSON.parse(e)}catch(t){e=null}return this.isType(e)?e:null})),e&&r.shape(e)})),r}return X(n,[{key:"_typeCheck",value:function(e){return GT(e)||"function"===typeof e}},{key:"_cast",value:function(e){var t,r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=Dt(ee(n.prototype),"_cast",this).call(this,e,i);if(void 0===a)return this.getDefault();if(!this._typeCheck(a))return a;var o,s=this.fields,u=null!=(t=i.stripUnknown)?t:this.spec.noUnknown,c=this._nodes.concat(Object.keys(a).filter((function(e){return-1===r._nodes.indexOf(e)}))),l={},f=KT({},i,{parent:l,__validating:i.__validating||!1}),h=!1,d=oe(c);try{for(d.s();!(o=d.n()).done;){var p=o.value,v=s[p],y=BE()(a,p);if(v){var m=void 0,g=a[p];f.path=(i.path?"".concat(i.path,"."):"")+p;var k="spec"in(v=v.resolve({value:g,context:i.context,parent:l}))?v.spec:void 0,_=null==k?void 0:k.strict;if(null==k?void 0:k.strip){h=h||p in a;continue}void 0!==(m=i.__validating&&_?a[p]:v.cast(a[p],f))&&(l[p]=m)}else y&&!u&&(l[p]=a[p]);l[p]!==a[p]&&(h=!0)}}catch(b){d.e(b)}finally{d.f()}return h?l:a}},{key:"_validate",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0,a=[],o=r.sync,s=r.from,u=void 0===s?[]:s,c=r.originalValue,l=void 0===c?e:c,f=r.abortEarly,h=void 0===f?this.spec.abortEarly:f,d=r.recursive,p=void 0===d?this.spec.recursive:d;u=[{schema:this,value:l}].concat(le(u)),r.__validating=!0,r.originalValue=l,r.from=u,Dt(ee(n.prototype),"_validate",this).call(this,e,r,(function(e,n){if(e){if(!YE.isError(e)||h)return void i(e,n);a.push(e)}if(p&&GT(n)){l=l||n;var s=t._nodes.map((function(e){return function(i,a){var o=-1===e.indexOf(".")?(r.path?"".concat(r.path,"."):"")+e:"".concat(r.path||"",'["').concat(e,'"]'),s=t.fields[e];s&&"validate"in s?s.validate(n[e],KT({},r,{path:o,from:u,strict:!0,parent:n,originalValue:l[e]}),a):a(null)}}));XE({sync:o,tests:s,value:n,errors:a,endEarly:h,sort:t._sortErrors,path:r.path},i)}else i(a[0]||null,n)}))}},{key:"clone",value:function(e){var t=Dt(ee(n.prototype),"clone",this).call(this,e);return t.fields=KT({},this.fields),t._nodes=this._nodes,t._excludedEdges=this._excludedEdges,t._sortErrors=this._sortErrors,t}},{key:"concat",value:function(e){for(var t=this,r=Dt(ee(n.prototype),"concat",this).call(this,e),i=r.fields,o=0,s=Object.entries(this.fields);o<s.length;o++){var u=a(s[o],2),c=u[0],l=u[1],f=i[c];void 0===f?i[c]=l:f instanceof lT&&l instanceof lT&&(i[c]=l.concat(f))}return r.withMutation((function(){return r.shape(i,t._excludedEdges)}))}},{key:"getDefaultFromShape",value:function(){var e=this,t={};return this._nodes.forEach((function(n){var r=e.fields[n];t[n]="default"in r?r.getDefault():void 0})),t}},{key:"_getDefault",value:function(){return"default"in this.spec?Dt(ee(n.prototype),"_getDefault",this).call(this):this._nodes.length?this.getDefaultFromShape():void 0}},{key:"shape",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=this.clone(),r=Object.assign(n.fields,e);return n.fields=r,n._sortErrors=HT(Object.keys(r)),t.length&&(Array.isArray(t[0])||(t=[t]),n._excludedEdges=[].concat(le(n._excludedEdges),le(t))),n._nodes=BT(r,n._excludedEdges),n}},{key:"pick",value:function(e){var t,n={},r=oe(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;this.fields[i]&&(n[i]=this.fields[i])}}catch(a){r.e(a)}finally{r.f()}return this.clone().withMutation((function(e){return e.fields={},e.shape(n)}))}},{key:"omit",value:function(e){var t=this.clone(),n=t.fields;t.fields={};var r,i=oe(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete n[a]}}catch(o){i.e(o)}finally{i.f()}return t.withMutation((function(){return t.shape(n)}))}},{key:"from",value:function(e,t,n){var r=(0,eT.getter)(e,!0);return this.transform((function(i){if(null==i)return i;var a=i;return BE()(i,e)&&(a=KT({},i),n||delete a[e],a[t]=r(i)),a}))}},{key:"noUnknown",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:VE.noUnknown;"string"===typeof e&&(t=e,e=!0);var n=this.test({name:"noUnknown",exclusive:!0,message:t,test:function(t){if(null==t)return!0;var n=$T(this.schema,t);return!e||0===n.length||this.createError({params:{unknown:n.join(", ")}})}});return n.spec.noUnknown=e,n}},{key:"unknown",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:VE.noUnknown;return this.noUnknown(!e,t)}},{key:"transformKeys",value:function(e){return this.transform((function(t){return t&&VT()(t,(function(t,n){return e(n)}))}))}},{key:"camelCase",value:function(){return this.transformKeys(jT())}},{key:"snakeCase",value:function(){return this.transformKeys(LT())}},{key:"constantCase",value:function(){return this.transformKeys((function(e){return LT()(e).toUpperCase()}))}},{key:"describe",value:function(){var e=Dt(ee(n.prototype),"describe",this).call(this);return e.fields=ZE()(this.fields,(function(e){return e.describe()})),e}}]),n}(lT);function XT(e){return new YT(e)}function JT(){return JT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},JT.apply(this,arguments)}XT.prototype=YT.prototype;var ZT=function(e){Z(n,e);var t=ae(n);function n(e){var r;return Q(this,n),(r=t.call(this,{type:"array"})).innerType=void 0,r.innerType=e,r.withMutation((function(){r.transform((function(e){if("string"===typeof e)try{e=JSON.parse(e)}catch(t){e=null}return this.isType(e)?e:null}))})),r}return X(n,[{key:"_typeCheck",value:function(e){return Array.isArray(e)}},{key:"_subType",get:function(){return this.innerType}},{key:"_cast",value:function(e,t){var r=this,i=Dt(ee(n.prototype),"_cast",this).call(this,e,t);if(!this._typeCheck(i)||!this.innerType)return i;var a=!1,o=i.map((function(e,n){var i=r.innerType.cast(e,JT({},t,{path:"".concat(t.path||"","[").concat(n,"]")}));return i!==e&&(a=!0),i}));return a?o:i}},{key:"_validate",value:function(e){var t,r,i=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0,s=[],u=a.sync,c=a.path,l=this.innerType,f=null!=(t=a.abortEarly)?t:this.spec.abortEarly,h=null!=(r=a.recursive)?r:this.spec.recursive,d=null!=a.originalValue?a.originalValue:e;Dt(ee(n.prototype),"_validate",this).call(this,e,a,(function(e,t){if(e){if(!YE.isError(e)||f)return void o(e,t);s.push(e)}if(h&&l&&i._typeCheck(t)){d=d||t;for(var n=new Array(t.length),r=function(e){var r=t[e],i="".concat(a.path||"","[").concat(e,"]"),o=JT({},a,{path:i,strict:!0,parent:t,index:e,originalValue:d[e]});n[e]=function(e,t){return l.validate(r,o,t)}},p=0;p<t.length;p++)r(p);XE({sync:u,path:c,value:t,errors:s,endEarly:f,tests:n},o)}else o(s[0]||null,t)}))}},{key:"clone",value:function(e){var t=Dt(ee(n.prototype),"clone",this).call(this,e);return t.innerType=this.innerType,t}},{key:"concat",value:function(e){var t=Dt(ee(n.prototype),"concat",this).call(this,e);return t.innerType=this.innerType,e.innerType&&(t.innerType=t.innerType?t.innerType.concat(e.innerType):e.innerType),t}},{key:"of",value:function(e){var t=this.clone();if(!WE(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+DE(e));return t.innerType=e,t}},{key:"length",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:zE.length;return this.test({message:t,name:"length",exclusive:!0,params:{length:e},test:function(t){return bT(t)||t.length===this.resolve(e)}})}},{key:"min",value:function(e,t){return t=t||zE.min,this.test({message:t,name:"min",exclusive:!0,params:{min:e},test:function(t){return bT(t)||t.length>=this.resolve(e)}})}},{key:"max",value:function(e,t){return t=t||zE.max,this.test({message:t,name:"max",exclusive:!0,params:{max:e},test:function(t){return bT(t)||t.length<=this.resolve(e)}})}},{key:"ensure",value:function(){var e=this;return this.default((function(){return[]})).transform((function(t,n){return e._typeCheck(t)?t:null==n?[]:[].concat(n)}))}},{key:"compact",value:function(e){var t=e?function(t,n,r){return!e(t,n,r)}:function(e){return!!e};return this.transform((function(e){return null!=e?e.filter(t):e}))}},{key:"describe",value:function(){var e=Dt(ee(n.prototype),"describe",this).call(this);return this.innerType&&(e.innerType=this.innerType.describe()),e}},{key:"nullable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return Dt(ee(n.prototype),"nullable",this).call(this,e)}},{key:"defined",value:function(){return Dt(ee(n.prototype),"defined",this).call(this)}},{key:"required",value:function(e){return Dt(ee(n.prototype),"required",this).call(this,e)}}]),n}(lT);ZT.prototype;var eC=n(77),tC=n.n(eC),nC=function(e){return function(e){return!!e&&"object"===typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===rC}(e)}(e)};var rC="function"===typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function iC(e,t){return!1!==t.clone&&t.isMergeableObject(e)?oC(function(e){return Array.isArray(e)?[]:{}}(e),e,t):e}function aC(e,t,n){return e.concat(t).map((function(e){return iC(e,n)}))}function oC(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||aC,n.isMergeableObject=n.isMergeableObject||nC;var r=Array.isArray(t);return r===Array.isArray(e)?r?n.arrayMerge(e,t,n):function(e,t,n){var r={};return n.isMergeableObject(e)&&Object.keys(e).forEach((function(t){r[t]=iC(e[t],n)})),Object.keys(t).forEach((function(i){n.isMergeableObject(t[i])&&e[i]?r[i]=oC(e[i],t[i],n):r[i]=iC(t[i],n)})),r}(e,t,n):iC(t,n)}oC.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return oC(e,n,t)}),{})};var sC=oC,uC="object"==typeof global&&global&&global.Object===Object&&global,cC="object"==typeof self&&self&&self.Object===Object&&self,lC=uC||cC||Function("return this")(),fC=lC.Symbol,hC=Object.prototype,dC=hC.hasOwnProperty,pC=hC.toString,vC=fC?fC.toStringTag:void 0;var yC=function(e){var t=dC.call(e,vC),n=e[vC];try{e[vC]=void 0;var r=!0}catch(a){}var i=pC.call(e);return r&&(t?e[vC]=n:delete e[vC]),i},mC=Object.prototype.toString;var gC=function(e){return mC.call(e)},kC=fC?fC.toStringTag:void 0;var _C=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":kC&&kC in Object(e)?yC(e):gC(e)};var bC=function(e,t){return function(n){return e(t(n))}},wC=bC(Object.getPrototypeOf,Object);var xC=function(e){return null!=e&&"object"==typeof e},EC=Function.prototype,TC=Object.prototype,CC=EC.toString,SC=TC.hasOwnProperty,IC=CC.call(Object);var NC=function(e){if(!xC(e)||"[object Object]"!=_C(e))return!1;var t=wC(e);if(null===t)return!0;var n=SC.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&CC.call(n)==IC};var AC=function(){this.__data__=[],this.size=0};var RC=function(e,t){return e===t||e!==e&&t!==t};var OC=function(e,t){for(var n=e.length;n--;)if(RC(e[n][0],t))return n;return-1},PC=Array.prototype.splice;var DC=function(e){var t=this.__data__,n=OC(t,e);return!(n<0)&&(n==t.length-1?t.pop():PC.call(t,n,1),--this.size,!0)};var FC=function(e){var t=this.__data__,n=OC(t,e);return n<0?void 0:t[n][1]};var LC=function(e){return OC(this.__data__,e)>-1};var MC=function(e,t){var n=this.__data__,r=OC(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function jC(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}jC.prototype.clear=AC,jC.prototype.delete=DC,jC.prototype.get=FC,jC.prototype.has=LC,jC.prototype.set=MC;var UC=jC;var VC=function(){this.__data__=new UC,this.size=0};var zC=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var qC=function(e){return this.__data__.get(e)};var BC=function(e){return this.__data__.has(e)};var WC=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var HC=function(e){if(!WC(e))return!1;var t=_C(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},KC=lC["__core-js_shared__"],GC=function(){var e=/[^.]+$/.exec(KC&&KC.keys&&KC.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var $C=function(e){return!!GC&&GC in e},QC=Function.prototype.toString;var YC=function(e){if(null!=e){try{return QC.call(e)}catch(t){}try{return e+""}catch(t){}}return""},XC=/^\[object .+?Constructor\]$/,JC=Function.prototype,ZC=Object.prototype,eS=JC.toString,tS=ZC.hasOwnProperty,nS=RegExp("^"+eS.call(tS).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var rS=function(e){return!(!WC(e)||$C(e))&&(HC(e)?nS:XC).test(YC(e))};var iS=function(e,t){return null==e?void 0:e[t]};var aS=function(e,t){var n=iS(e,t);return rS(n)?n:void 0},oS=aS(lC,"Map"),sS=aS(Object,"create");var uS=function(){this.__data__=sS?sS(null):{},this.size=0};var cS=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},lS=Object.prototype.hasOwnProperty;var fS=function(e){var t=this.__data__;if(sS){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return lS.call(t,e)?t[e]:void 0},hS=Object.prototype.hasOwnProperty;var dS=function(e){var t=this.__data__;return sS?void 0!==t[e]:hS.call(t,e)};var pS=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=sS&&void 0===t?"__lodash_hash_undefined__":t,this};function vS(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}vS.prototype.clear=uS,vS.prototype.delete=cS,vS.prototype.get=fS,vS.prototype.has=dS,vS.prototype.set=pS;var yS=vS;var mS=function(){this.size=0,this.__data__={hash:new yS,map:new(oS||UC),string:new yS}};var gS=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var kS=function(e,t){var n=e.__data__;return gS(t)?n["string"==typeof t?"string":"hash"]:n.map};var _S=function(e){var t=kS(this,e).delete(e);return this.size-=t?1:0,t};var bS=function(e){return kS(this,e).get(e)};var wS=function(e){return kS(this,e).has(e)};var xS=function(e,t){var n=kS(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function ES(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ES.prototype.clear=mS,ES.prototype.delete=_S,ES.prototype.get=bS,ES.prototype.has=wS,ES.prototype.set=xS;var TS=ES;var CS=function(e,t){var n=this.__data__;if(n instanceof UC){var r=n.__data__;if(!oS||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new TS(r)}return n.set(e,t),this.size=n.size,this};function SS(e){var t=this.__data__=new UC(e);this.size=t.size}SS.prototype.clear=VC,SS.prototype.delete=zC,SS.prototype.get=qC,SS.prototype.has=BC,SS.prototype.set=CS;var IS=SS;var NS=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e},AS=function(){try{var e=aS(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();var RS=function(e,t,n){"__proto__"==t&&AS?AS(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},OS=Object.prototype.hasOwnProperty;var PS=function(e,t,n){var r=e[t];OS.call(e,t)&&RC(r,n)&&(void 0!==n||t in e)||RS(e,t,n)};var DS=function(e,t,n,r){var i=!n;n||(n={});for(var a=-1,o=t.length;++a<o;){var s=t[a],u=r?r(n[s],e[s],s,n,e):void 0;void 0===u&&(u=e[s]),i?RS(n,s,u):PS(n,s,u)}return n};var FS=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};var LS=function(e){return xC(e)&&"[object Arguments]"==_C(e)},MS=Object.prototype,jS=MS.hasOwnProperty,US=MS.propertyIsEnumerable,VS=LS(function(){return arguments}())?LS:function(e){return xC(e)&&jS.call(e,"callee")&&!US.call(e,"callee")},zS=VS,qS=Array.isArray;var BS=function(){return!1},WS="object"==typeof exports&&exports&&!exports.nodeType&&exports,HS=WS&&"object"==typeof module&&module&&!module.nodeType&&module,KS=HS&&HS.exports===WS?lC.Buffer:void 0,GS=(KS?KS.isBuffer:void 0)||BS,$S=/^(?:0|[1-9]\d*)$/;var QS=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&$S.test(e))&&e>-1&&e%1==0&&e<t};var YS=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},XS={};XS["[object Float32Array]"]=XS["[object Float64Array]"]=XS["[object Int8Array]"]=XS["[object Int16Array]"]=XS["[object Int32Array]"]=XS["[object Uint8Array]"]=XS["[object Uint8ClampedArray]"]=XS["[object Uint16Array]"]=XS["[object Uint32Array]"]=!0,XS["[object Arguments]"]=XS["[object Array]"]=XS["[object ArrayBuffer]"]=XS["[object Boolean]"]=XS["[object DataView]"]=XS["[object Date]"]=XS["[object Error]"]=XS["[object Function]"]=XS["[object Map]"]=XS["[object Number]"]=XS["[object Object]"]=XS["[object RegExp]"]=XS["[object Set]"]=XS["[object String]"]=XS["[object WeakMap]"]=!1;var JS=function(e){return xC(e)&&YS(e.length)&&!!XS[_C(e)]};var ZS=function(e){return function(t){return e(t)}},eI="object"==typeof exports&&exports&&!exports.nodeType&&exports,tI=eI&&"object"==typeof module&&module&&!module.nodeType&&module,nI=tI&&tI.exports===eI&&uC.process,rI=function(){try{var e=tI&&tI.require&&tI.require("util").types;return e||nI&&nI.binding&&nI.binding("util")}catch(t){}}(),iI=rI&&rI.isTypedArray,aI=iI?ZS(iI):JS,oI=Object.prototype.hasOwnProperty;var sI=function(e,t){var n=qS(e),r=!n&&zS(e),i=!n&&!r&&GS(e),a=!n&&!r&&!i&&aI(e),o=n||r||i||a,s=o?FS(e.length,String):[],u=s.length;for(var c in e)!t&&!oI.call(e,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||QS(c,u))||s.push(c);return s},uI=Object.prototype;var cI=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||uI)},lI=bC(Object.keys,Object),fI=Object.prototype.hasOwnProperty;var hI=function(e){if(!cI(e))return lI(e);var t=[];for(var n in Object(e))fI.call(e,n)&&"constructor"!=n&&t.push(n);return t};var dI=function(e){return null!=e&&YS(e.length)&&!HC(e)};var pI=function(e){return dI(e)?sI(e):hI(e)};var vI=function(e,t){return e&&DS(t,pI(t),e)};var yI=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t},mI=Object.prototype.hasOwnProperty;var gI=function(e){if(!WC(e))return yI(e);var t=cI(e),n=[];for(var r in e)("constructor"!=r||!t&&mI.call(e,r))&&n.push(r);return n};var kI=function(e){return dI(e)?sI(e,!0):gI(e)};var _I=function(e,t){return e&&DS(t,kI(t),e)},bI="object"==typeof exports&&exports&&!exports.nodeType&&exports,wI=bI&&"object"==typeof module&&module&&!module.nodeType&&module,xI=wI&&wI.exports===bI?lC.Buffer:void 0,EI=xI?xI.allocUnsafe:void 0;var TI=function(e,t){if(t)return e.slice();var n=e.length,r=EI?EI(n):new e.constructor(n);return e.copy(r),r};var CI=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t};var SI=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a};var II=function(){return[]},NI=Object.prototype.propertyIsEnumerable,AI=Object.getOwnPropertySymbols,RI=AI?function(e){return null==e?[]:(e=Object(e),SI(AI(e),(function(t){return NI.call(e,t)})))}:II,OI=RI;var PI=function(e,t){return DS(e,OI(e),t)};var DI=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},FI=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)DI(t,OI(e)),e=wC(e);return t}:II,LI=FI;var MI=function(e,t){return DS(e,LI(e),t)};var jI=function(e,t,n){var r=t(e);return qS(e)?r:DI(r,n(e))};var UI=function(e){return jI(e,pI,OI)};var VI=function(e){return jI(e,kI,LI)},zI=aS(lC,"DataView"),qI=aS(lC,"Promise"),BI=aS(lC,"Set"),WI=aS(lC,"WeakMap"),HI="[object Map]",KI="[object Promise]",GI="[object Set]",$I="[object WeakMap]",QI="[object DataView]",YI=YC(zI),XI=YC(oS),JI=YC(qI),ZI=YC(BI),eN=YC(WI),tN=_C;(zI&&tN(new zI(new ArrayBuffer(1)))!=QI||oS&&tN(new oS)!=HI||qI&&tN(qI.resolve())!=KI||BI&&tN(new BI)!=GI||WI&&tN(new WI)!=$I)&&(tN=function(e){var t=_C(e),n="[object Object]"==t?e.constructor:void 0,r=n?YC(n):"";if(r)switch(r){case YI:return QI;case XI:return HI;case JI:return KI;case ZI:return GI;case eN:return $I}return t});var nN=tN,rN=Object.prototype.hasOwnProperty;var iN=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&rN.call(e,"index")&&(n.index=e.index,n.input=e.input),n},aN=lC.Uint8Array;var oN=function(e){var t=new e.constructor(e.byteLength);return new aN(t).set(new aN(e)),t};var sN=function(e,t){var n=t?oN(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},uN=/\w*$/;var cN=function(e){var t=new e.constructor(e.source,uN.exec(e));return t.lastIndex=e.lastIndex,t},lN=fC?fC.prototype:void 0,fN=lN?lN.valueOf:void 0;var hN=function(e){return fN?Object(fN.call(e)):{}};var dN=function(e,t){var n=t?oN(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)};var pN=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return oN(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return sN(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return dN(e,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return cN(e);case"[object Symbol]":return hN(e)}},vN=Object.create,yN=function(){function e(){}return function(t){if(!WC(t))return{};if(vN)return vN(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),mN=yN;var gN=function(e){return"function"!=typeof e.constructor||cI(e)?{}:mN(wC(e))};var kN=function(e){return xC(e)&&"[object Map]"==nN(e)},_N=rI&&rI.isMap,bN=_N?ZS(_N):kN;var wN=function(e){return xC(e)&&"[object Set]"==nN(e)},xN=rI&&rI.isSet,EN=xN?ZS(xN):wN,TN="[object Arguments]",CN="[object Function]",SN="[object Object]",IN={};IN[TN]=IN["[object Array]"]=IN["[object ArrayBuffer]"]=IN["[object DataView]"]=IN["[object Boolean]"]=IN["[object Date]"]=IN["[object Float32Array]"]=IN["[object Float64Array]"]=IN["[object Int8Array]"]=IN["[object Int16Array]"]=IN["[object Int32Array]"]=IN["[object Map]"]=IN["[object Number]"]=IN["[object Object]"]=IN["[object RegExp]"]=IN["[object Set]"]=IN["[object String]"]=IN["[object Symbol]"]=IN["[object Uint8Array]"]=IN["[object Uint8ClampedArray]"]=IN["[object Uint16Array]"]=IN["[object Uint32Array]"]=!0,IN["[object Error]"]=IN[CN]=IN["[object WeakMap]"]=!1;var NN=function e(t,n,r,i,a,o){var s,u=1&n,c=2&n,l=4&n;if(r&&(s=a?r(t,i,a,o):r(t)),void 0!==s)return s;if(!WC(t))return t;var f=qS(t);if(f){if(s=iN(t),!u)return CI(t,s)}else{var h=nN(t),d=h==CN||"[object GeneratorFunction]"==h;if(GS(t))return TI(t,u);if(h==SN||h==TN||d&&!a){if(s=c||d?{}:gN(t),!u)return c?MI(t,_I(s,t)):PI(t,vI(s,t))}else{if(!IN[h])return a?t:{};s=pN(t,h,u)}}o||(o=new IS);var p=o.get(t);if(p)return p;o.set(t,s),EN(t)?t.forEach((function(i){s.add(e(i,n,r,i,t,o))})):bN(t)&&t.forEach((function(i,a){s.set(a,e(i,n,r,a,t,o))}));var v=f?void 0:(l?c?VI:UI:c?kI:pI)(t);return NS(v||t,(function(i,a){v&&(i=t[a=i]),PS(s,a,e(i,n,r,a,t,o))})),s};var AN=function(e){return NN(e,4)};var RN=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i};var ON=function(e){return"symbol"==typeof e||xC(e)&&"[object Symbol]"==_C(e)};function PN(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(PN.Cache||TS),n}PN.Cache=TS;var DN=PN;var FN=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,LN=/\\(\\)?/g,MN=function(e){var t=DN(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(FN,(function(e,n,r,i){t.push(r?i.replace(LN,"$1"):n||e)})),t})),jN=MN;var UN=function(e){if("string"==typeof e||ON(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t},VN=fC?fC.prototype:void 0,zN=VN?VN.toString:void 0;var qN=function e(t){if("string"==typeof t)return t;if(qS(t))return RN(t,e)+"";if(ON(t))return zN?zN.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n};var BN=function(e){return null==e?"":qN(e)};var WN=function(e){return qS(e)?RN(e,UN):ON(e)?[e]:CI(jN(BN(e)))};var HN=function(e,t){};n(1975);var KN=function(e){return NN(e,5)};function GN(){return GN=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},GN.apply(this,arguments)}function $N(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function QN(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function YN(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var XN=function(e){return Array.isArray(e)&&0===e.length},JN=function(e){return"function"===typeof e},ZN=function(e){return null!==e&&"object"===typeof e},eA=function(e){return String(Math.floor(Number(e)))===e},tA=function(e){return"[object String]"===Object.prototype.toString.call(e)},nA=function(t){return 0===e.Children.count(t)},rA=function(e){return ZN(e)&&JN(e.then)};function iA(e,t,n,r){void 0===r&&(r=0);for(var i=WN(t);e&&r<i.length;)e=e[i[r++]];return void 0===e?n:e}function aA(e,t,n){for(var r=AN(e),i=r,a=0,o=WN(t);a<o.length-1;a++){var s=o[a],u=iA(e,o.slice(0,a+1));if(u&&(ZN(u)||Array.isArray(u)))i=i[s]=AN(u);else{var c=o[a+1];i=i[s]=eA(c)&&Number(c)>=0?[]:{}}}return(0===a?e:i)[o[a]]===n?e:(void 0===n?delete i[o[a]]:i[o[a]]=n,0===a&&void 0===n&&delete r[o[a]],r)}function oA(e,t,n,r){void 0===n&&(n=new WeakMap),void 0===r&&(r={});for(var i=0,a=Object.keys(e);i<a.length;i++){var o=a[i],s=e[o];ZN(s)?n.get(s)||(n.set(s,!0),r[o]=Array.isArray(s)?[]:{},oA(s,t,n,r[o])):r[o]=t}return r}var sA=(0,e.createContext)(void 0);sA.displayName="FormikContext";var uA=sA.Provider;sA.Consumer;function cA(){var t=(0,e.useContext)(sA);return t||HN(!1),t}function lA(e,t){switch(t.type){case"SET_VALUES":return GN({},e,{values:t.payload});case"SET_TOUCHED":return GN({},e,{touched:t.payload});case"SET_ERRORS":return tC()(e.errors,t.payload)?e:GN({},e,{errors:t.payload});case"SET_STATUS":return GN({},e,{status:t.payload});case"SET_ISSUBMITTING":return GN({},e,{isSubmitting:t.payload});case"SET_ISVALIDATING":return GN({},e,{isValidating:t.payload});case"SET_FIELD_VALUE":return GN({},e,{values:aA(e.values,t.payload.field,t.payload.value)});case"SET_FIELD_TOUCHED":return GN({},e,{touched:aA(e.touched,t.payload.field,t.payload.value)});case"SET_FIELD_ERROR":return GN({},e,{errors:aA(e.errors,t.payload.field,t.payload.value)});case"RESET_FORM":return GN({},e,t.payload);case"SET_FORMIK_STATE":return t.payload(e);case"SUBMIT_ATTEMPT":return GN({},e,{touched:oA(e.values,!0),isSubmitting:!0,submitCount:e.submitCount+1});case"SUBMIT_FAILURE":case"SUBMIT_SUCCESS":return GN({},e,{isSubmitting:!1});default:return e}}var fA={},hA={};function dA(t){var n=t.validateOnChange,r=void 0===n||n,i=t.validateOnBlur,a=void 0===i||i,o=t.validateOnMount,s=void 0!==o&&o,u=t.isInitialValid,c=t.enableReinitialize,l=void 0!==c&&c,f=t.onSubmit,h=QN(t,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),d=GN({validateOnChange:r,validateOnBlur:a,validateOnMount:s,onSubmit:f},h),p=(0,e.useRef)(d.initialValues),v=(0,e.useRef)(d.initialErrors||fA),y=(0,e.useRef)(d.initialTouched||hA),m=(0,e.useRef)(d.initialStatus),g=(0,e.useRef)(!1),k=(0,e.useRef)({});(0,e.useEffect)((function(){return g.current=!0,function(){g.current=!1}}),[]);var _=(0,e.useReducer)(lA,{values:d.initialValues,errors:d.initialErrors||fA,touched:d.initialTouched||hA,status:d.initialStatus,isSubmitting:!1,isValidating:!1,submitCount:0}),b=_[0],w=_[1],x=(0,e.useCallback)((function(e,t){return new Promise((function(n,r){var i=d.validate(e,t);null==i?n(fA):rA(i)?i.then((function(e){n(e||fA)}),(function(e){r(e)})):n(i)}))}),[d.validate]),E=(0,e.useCallback)((function(e,t){var n=d.validationSchema,r=JN(n)?n(t):n,i=t&&r.validateAt?r.validateAt(t,e):function(e,t,n,r){void 0===n&&(n=!1);void 0===r&&(r={});var i=vA(e);return t[n?"validateSync":"validate"](i,{abortEarly:!1,context:r})}(e,r);return new Promise((function(e,t){i.then((function(){e(fA)}),(function(n){"ValidationError"===n.name?e(function(e){var t={};if(e.inner){if(0===e.inner.length)return aA(t,e.path,e.message);var n=e.inner,r=Array.isArray(n),i=0;for(n=r?n:n[Symbol.iterator]();;){var a;if(r){if(i>=n.length)break;a=n[i++]}else{if((i=n.next()).done)break;a=i.value}var o=a;iA(t,o.path)||(t=aA(t,o.path,o.message))}}return t}(n)):t(n)}))}))}),[d.validationSchema]),T=(0,e.useCallback)((function(e,t){return new Promise((function(n){return n(k.current[e].validate(t))}))}),[]),C=(0,e.useCallback)((function(e){var t=Object.keys(k.current).filter((function(e){return JN(k.current[e].validate)})),n=t.length>0?t.map((function(t){return T(t,iA(e,t))})):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(n).then((function(e){return e.reduce((function(e,n,r){return"DO_NOT_DELETE_YOU_WILL_BE_FIRED"===n||n&&(e=aA(e,t[r],n)),e}),{})}))}),[T]),S=(0,e.useCallback)((function(e){return Promise.all([C(e),d.validationSchema?E(e):{},d.validate?x(e):{}]).then((function(e){var t=e[0],n=e[1],r=e[2];return sC.all([t,n,r],{arrayMerge:yA})}))}),[d.validate,d.validationSchema,C,x,E]),I=gA((function(e){return void 0===e&&(e=b.values),w({type:"SET_ISVALIDATING",payload:!0}),S(e).then((function(e){return g.current&&(w({type:"SET_ISVALIDATING",payload:!1}),w({type:"SET_ERRORS",payload:e})),e}))}));(0,e.useEffect)((function(){s&&!0===g.current&&tC()(p.current,d.initialValues)&&I(p.current)}),[s,I]);var N=(0,e.useCallback)((function(e){var t=e&&e.values?e.values:p.current,n=e&&e.errors?e.errors:v.current?v.current:d.initialErrors||{},r=e&&e.touched?e.touched:y.current?y.current:d.initialTouched||{},i=e&&e.status?e.status:m.current?m.current:d.initialStatus;p.current=t,v.current=n,y.current=r,m.current=i;var a=function(){w({type:"RESET_FORM",payload:{isSubmitting:!!e&&!!e.isSubmitting,errors:n,touched:r,status:i,values:t,isValidating:!!e&&!!e.isValidating,submitCount:e&&e.submitCount&&"number"===typeof e.submitCount?e.submitCount:0}})};if(d.onReset){var o=d.onReset(b.values,$);rA(o)?o.then(a):a()}else a()}),[d.initialErrors,d.initialStatus,d.initialTouched]);(0,e.useEffect)((function(){!0!==g.current||tC()(p.current,d.initialValues)||(l&&(p.current=d.initialValues,N()),s&&I(p.current))}),[l,d.initialValues,N,s,I]),(0,e.useEffect)((function(){l&&!0===g.current&&!tC()(v.current,d.initialErrors)&&(v.current=d.initialErrors||fA,w({type:"SET_ERRORS",payload:d.initialErrors||fA}))}),[l,d.initialErrors]),(0,e.useEffect)((function(){l&&!0===g.current&&!tC()(y.current,d.initialTouched)&&(y.current=d.initialTouched||hA,w({type:"SET_TOUCHED",payload:d.initialTouched||hA}))}),[l,d.initialTouched]),(0,e.useEffect)((function(){l&&!0===g.current&&!tC()(m.current,d.initialStatus)&&(m.current=d.initialStatus,w({type:"SET_STATUS",payload:d.initialStatus}))}),[l,d.initialStatus,d.initialTouched]);var A=gA((function(e){if(k.current[e]&&JN(k.current[e].validate)){var t=iA(b.values,e),n=k.current[e].validate(t);return rA(n)?(w({type:"SET_ISVALIDATING",payload:!0}),n.then((function(e){return e})).then((function(t){w({type:"SET_FIELD_ERROR",payload:{field:e,value:t}}),w({type:"SET_ISVALIDATING",payload:!1})}))):(w({type:"SET_FIELD_ERROR",payload:{field:e,value:n}}),Promise.resolve(n))}return d.validationSchema?(w({type:"SET_ISVALIDATING",payload:!0}),E(b.values,e).then((function(e){return e})).then((function(t){w({type:"SET_FIELD_ERROR",payload:{field:e,value:t[e]}}),w({type:"SET_ISVALIDATING",payload:!1})}))):Promise.resolve()})),R=(0,e.useCallback)((function(e,t){var n=t.validate;k.current[e]={validate:n}}),[]),O=(0,e.useCallback)((function(e){delete k.current[e]}),[]),P=gA((function(e,t){return w({type:"SET_TOUCHED",payload:e}),(void 0===t?a:t)?I(b.values):Promise.resolve()})),D=(0,e.useCallback)((function(e){w({type:"SET_ERRORS",payload:e})}),[]),F=gA((function(e,t){var n=JN(e)?e(b.values):e;return w({type:"SET_VALUES",payload:n}),(void 0===t?r:t)?I(n):Promise.resolve()})),L=(0,e.useCallback)((function(e,t){w({type:"SET_FIELD_ERROR",payload:{field:e,value:t}})}),[]),M=gA((function(e,t,n){return w({type:"SET_FIELD_VALUE",payload:{field:e,value:t}}),(void 0===n?r:n)?I(aA(b.values,e,t)):Promise.resolve()})),j=(0,e.useCallback)((function(e,t){var n,r=t,i=e;if(!tA(e)){e.persist&&e.persist();var a=e.target?e.target:e.currentTarget,o=a.type,s=a.name,u=a.id,c=a.value,l=a.checked,f=(a.outerHTML,a.options),h=a.multiple;r=t||(s||u),i=/number|range/.test(o)?(n=parseFloat(c),isNaN(n)?"":n):/checkbox/.test(o)?function(e,t,n){if("boolean"===typeof e)return Boolean(t);var r=[],i=!1,a=-1;if(Array.isArray(e))r=e,i=(a=e.indexOf(n))>=0;else if(!n||"true"==n||"false"==n)return Boolean(t);if(t&&n&&!i)return r.concat(n);if(!i)return r;return r.slice(0,a).concat(r.slice(a+1))}(iA(b.values,r),l,c):f&&h?function(e){return Array.from(e).filter((function(e){return e.selected})).map((function(e){return e.value}))}(f):c}r&&M(r,i)}),[M,b.values]),U=gA((function(e){if(tA(e))return function(t){return j(t,e)};j(e)})),V=gA((function(e,t,n){return void 0===t&&(t=!0),w({type:"SET_FIELD_TOUCHED",payload:{field:e,value:t}}),(void 0===n?a:n)?I(b.values):Promise.resolve()})),z=(0,e.useCallback)((function(e,t){e.persist&&e.persist();var n=e.target,r=n.name,i=n.id,a=(n.outerHTML,t||(r||i));V(a,!0)}),[V]),q=gA((function(e){if(tA(e))return function(t){return z(t,e)};z(e)})),B=(0,e.useCallback)((function(e){JN(e)?w({type:"SET_FORMIK_STATE",payload:e}):w({type:"SET_FORMIK_STATE",payload:function(){return e}})}),[]),W=(0,e.useCallback)((function(e){w({type:"SET_STATUS",payload:e})}),[]),H=(0,e.useCallback)((function(e){w({type:"SET_ISSUBMITTING",payload:e})}),[]),K=gA((function(){return w({type:"SUBMIT_ATTEMPT"}),I().then((function(e){var t=e instanceof Error;if(!t&&0===Object.keys(e).length){var n;try{if(void 0===(n=Q()))return}catch(ok){throw ok}return Promise.resolve(n).then((function(e){return g.current&&w({type:"SUBMIT_SUCCESS"}),e})).catch((function(e){if(g.current)throw w({type:"SUBMIT_FAILURE"}),e}))}if(g.current&&(w({type:"SUBMIT_FAILURE"}),t))throw e}))})),G=gA((function(e){e&&e.preventDefault&&JN(e.preventDefault)&&e.preventDefault(),e&&e.stopPropagation&&JN(e.stopPropagation)&&e.stopPropagation(),K().catch((function(e){console.warn("Warning: An unhandled error was caught from submitForm()",e)}))})),$={resetForm:N,validateForm:I,validateField:A,setErrors:D,setFieldError:L,setFieldTouched:V,setFieldValue:M,setStatus:W,setSubmitting:H,setTouched:P,setValues:F,setFormikState:B,submitForm:K},Q=gA((function(){return f(b.values,$)})),Y=gA((function(e){e&&e.preventDefault&&JN(e.preventDefault)&&e.preventDefault(),e&&e.stopPropagation&&JN(e.stopPropagation)&&e.stopPropagation(),N()})),X=(0,e.useCallback)((function(e){return{value:iA(b.values,e),error:iA(b.errors,e),touched:!!iA(b.touched,e),initialValue:iA(p.current,e),initialTouched:!!iA(y.current,e),initialError:iA(v.current,e)}}),[b.errors,b.touched,b.values]),J=(0,e.useCallback)((function(e){return{setValue:function(t,n){return M(e,t,n)},setTouched:function(t,n){return V(e,t,n)},setError:function(t){return L(e,t)}}}),[M,V,L]),Z=(0,e.useCallback)((function(e){var t=ZN(e),n=t?e.name:e,r=iA(b.values,n),i={name:n,value:r,onChange:U,onBlur:q};if(t){var a=e.type,o=e.value,s=e.as,u=e.multiple;"checkbox"===a?void 0===o?i.checked=!!r:(i.checked=!(!Array.isArray(r)||!~r.indexOf(o)),i.value=o):"radio"===a?(i.checked=r===o,i.value=o):"select"===s&&u&&(i.value=i.value||[],i.multiple=!0)}return i}),[q,U,b.values]),ee=(0,e.useMemo)((function(){return!tC()(p.current,b.values)}),[p.current,b.values]),te=(0,e.useMemo)((function(){return"undefined"!==typeof u?ee?b.errors&&0===Object.keys(b.errors).length:!1!==u&&JN(u)?u(d):u:b.errors&&0===Object.keys(b.errors).length}),[u,ee,b.errors,d]);return GN({},b,{initialValues:p.current,initialErrors:v.current,initialTouched:y.current,initialStatus:m.current,handleBlur:q,handleChange:U,handleReset:Y,handleSubmit:G,resetForm:N,setErrors:D,setFormikState:B,setFieldTouched:V,setFieldValue:M,setFieldError:L,setStatus:W,setSubmitting:H,setTouched:P,setValues:F,submitForm:K,validateForm:I,validateField:A,isValid:te,dirty:ee,unregisterField:O,registerField:R,getFieldProps:Z,getFieldMeta:X,getFieldHelpers:J,validateOnBlur:a,validateOnChange:r,validateOnMount:s})}function pA(t){var n=dA(t),r=t.component,i=t.children,a=t.render,o=t.innerRef;return(0,e.useImperativeHandle)(o,(function(){return n})),(0,e.createElement)(uA,{value:n},r?(0,e.createElement)(r,n):a?a(n):i?JN(i)?i(n):nA(i)?null:e.Children.only(i):null)}function vA(e){var t=Array.isArray(e)?[]:{};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=String(n);!0===Array.isArray(e[r])?t[r]=e[r].map((function(e){return!0===Array.isArray(e)||NC(e)?vA(e):""!==e?e:void 0})):NC(e[r])?t[r]=vA(e[r]):t[r]=""!==e[r]?e[r]:void 0}return t}function yA(e,t,n){var r=e.slice();return t.forEach((function(t,i){if("undefined"===typeof r[i]){var a=!1!==n.clone&&n.isMergeableObject(t);r[i]=a?sC(Array.isArray(t)?[]:{},t,n):t}else n.isMergeableObject(t)?r[i]=sC(e[i],t,n):-1===e.indexOf(t)&&r.push(t)})),r}var mA="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?e.useLayoutEffect:e.useEffect;function gA(t){var n=(0,e.useRef)(t);return mA((function(){n.current=t})),(0,e.useCallback)((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.current.apply(void 0,t)}),[])}function kA(t){var n=t.validate,r=t.name,i=t.render,a=t.children,o=t.as,s=t.component,u=QN(t,["validate","name","render","children","as","component"]),c=QN(cA(),["validate","validationSchema"]);var l=c.registerField,f=c.unregisterField;(0,e.useEffect)((function(){return l(r,{validate:n}),function(){f(r)}}),[l,f,r,n]);var h=c.getFieldProps(GN({name:r},u)),d=c.getFieldMeta(r),p={field:h,form:c};if(i)return i(GN({},p,{meta:d}));if(JN(a))return a(GN({},p,{meta:d}));if(s){if("string"===typeof s){var v=u.innerRef,y=QN(u,["innerRef"]);return(0,e.createElement)(s,GN({ref:v},h,y),a)}return(0,e.createElement)(s,GN({field:h,form:c},u),a)}var m=o||"input";if("string"===typeof m){var g=u.innerRef,k=QN(u,["innerRef"]);return(0,e.createElement)(m,GN({ref:g},h,k),a)}return(0,e.createElement)(m,GN({},h,u),a)}var _A=(0,e.forwardRef)((function(t,n){var r=t.action,i=QN(t,["action"]),a=null!=r?r:"#",o=cA(),s=o.handleReset,u=o.handleSubmit;return(0,e.createElement)("form",Object.assign({onSubmit:u,ref:n,onReset:s,action:a},i))}));_A.displayName="Form";var bA=function(e,t,n){var r=wA(e);return r.splice(t,0,n),r},wA=function(e){if(e){if(Array.isArray(e))return[].concat(e);var t=Object.keys(e).map((function(e){return parseInt(e)})).reduce((function(e,t){return t>e?t:e}),0);return Array.from(GN({},e,{length:t+1}))}return[]},xA=function(t){function n(e){var n;return(n=t.call(this,e)||this).updateArrayField=function(e,t,r){var i=n.props,a=i.name;(0,i.formik.setFormikState)((function(n){var i="function"===typeof r?r:e,o="function"===typeof t?t:e,s=aA(n.values,a,e(iA(n.values,a))),u=r?i(iA(n.errors,a)):void 0,c=t?o(iA(n.touched,a)):void 0;return XN(u)&&(u=void 0),XN(c)&&(c=void 0),GN({},n,{values:s,errors:r?aA(n.errors,a,u):n.errors,touched:t?aA(n.touched,a,c):n.touched})}))},n.push=function(e){return n.updateArrayField((function(t){return[].concat(wA(t),[KN(e)])}),!1,!1)},n.handlePush=function(e){return function(){return n.push(e)}},n.swap=function(e,t){return n.updateArrayField((function(n){return function(e,t,n){var r=wA(e),i=r[t];return r[t]=r[n],r[n]=i,r}(n,e,t)}),!0,!0)},n.handleSwap=function(e,t){return function(){return n.swap(e,t)}},n.move=function(e,t){return n.updateArrayField((function(n){return function(e,t,n){var r=wA(e),i=r[t];return r.splice(t,1),r.splice(n,0,i),r}(n,e,t)}),!0,!0)},n.handleMove=function(e,t){return function(){return n.move(e,t)}},n.insert=function(e,t){return n.updateArrayField((function(n){return bA(n,e,t)}),(function(t){return bA(t,e,null)}),(function(t){return bA(t,e,null)}))},n.handleInsert=function(e,t){return function(){return n.insert(e,t)}},n.replace=function(e,t){return n.updateArrayField((function(n){return function(e,t,n){var r=wA(e);return r[t]=n,r}(n,e,t)}),!1,!1)},n.handleReplace=function(e,t){return function(){return n.replace(e,t)}},n.unshift=function(e){var t=-1;return n.updateArrayField((function(n){var r=n?[e].concat(n):[e];return t<0&&(t=r.length),r}),(function(e){var n=e?[null].concat(e):[null];return t<0&&(t=n.length),n}),(function(e){var n=e?[null].concat(e):[null];return t<0&&(t=n.length),n})),t},n.handleUnshift=function(e){return function(){return n.unshift(e)}},n.handleRemove=function(e){return function(){return n.remove(e)}},n.handlePop=function(){return function(){return n.pop()}},n.remove=n.remove.bind(YN(n)),n.pop=n.pop.bind(YN(n)),n}$N(n,t);var r=n.prototype;return r.componentDidUpdate=function(e){this.props.validateOnChange&&this.props.formik.validateOnChange&&!tC()(iA(e.formik.values,e.name),iA(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},r.remove=function(e){var t;return this.updateArrayField((function(n){var r=n?wA(n):[];return t||(t=r[e]),JN(r.splice)&&r.splice(e,1),r}),!0,!0),t},r.pop=function(){var e;return this.updateArrayField((function(t){var n=t;return e||(e=n&&n.pop&&n.pop()),n}),!0,!0),e},r.render=function(){var t={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},n=this.props,r=n.component,i=n.render,a=n.children,o=n.name,s=GN({},t,{form:QN(n.formik,["validate","validationSchema"]),name:o});return r?(0,e.createElement)(r,s):i?i(s):a?"function"===typeof a?a(s):nA(a)?null:e.Children.only(a):null},n}(e.Component);xA.defaultProps={validateOnChange:!0};e.Component,e.Component;var EA=function(e){var t=e.form,n=e.field,r=e.label,i=e.type,a=void 0===i?"text":i,o=t.errors;return(0,Rx.jsxs)("div",{className:"mb-2",children:[(0,Rx.jsx)("label",{className:"max-w-screen-lg grid",children:r}),(0,Rx.jsx)("input",tE({className:"ml-4 border rounded border-gray-300 hover:bg-amber-50",type:a},n)),o[n.name]?(0,Rx.jsx)("p",{className:"text-[15px]",children:o[n.name]}):null]})},TA=/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/,CA=function(e){Z(n,e);var t=ae(n);function n(){var e;Q(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).hendleSubmit=function(e){Yr(Nx,e.email,e.password)},e}return X(n,[{key:"render",value:function(){return(0,Rx.jsx)(pA,{initialValues:{email:"",password:""},onSubmit:this.hendleSubmit,validationSchema:XT().shape({email:IT().email("\u0415mail \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0432\u0435\u0440\u043d\u043e\u0433\u043e \u0444\u043e\u0440\u043c\u0430\u0442\u0430").required("\u0415mail \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u0435\u043d"),password:IT().matches(TA,"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432 \u0438 \u0432\u043a\u043b\u044e\u0447\u0430\u0442\u044c \u043a\u0430\u043a \u043c\u0438\u043d\u0438\u043c\u0443\u043c \u043e\u0434\u043d\u0443 \u0431\u0443\u043a\u0432\u0443 \u0438 \u043e\u0434\u043d\u0443 \u0446\u0438\u0444\u0440\u0443").required("\u041f\u0430\u0440\u043e\u043b\u044c \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u0435\u043d")}),children:function(e){var t=e.isValid;return(0,Rx.jsxs)(_A,{className:"w-auto p-4 text-[18px]",children:[(0,Rx.jsx)(kA,{name:"email",component:EA,label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0435mail"}),(0,Rx.jsx)(kA,{name:"password",component:EA,label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",type:"password"}),(0,Rx.jsx)("button",{className:"m-2 border rounded border-gray-300 w-min px-2 hover:bg-amber-50",type:"submit",disabled:!t,children:"\u0412\u0445\u043e\u0434"})]})}})}}]),n}(e.Component),SA=/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/,IA=function(e){Z(n,e);var t=ae(n);function n(){var e;Q(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).hendleSubmit=function(e){$r(Nx,e.email,e.password).then(he(ce().mark((function t(){return ce().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Zr(Nx.currentUser,{displayName:e.username});case 2:vg(vm(Ax,"users",e.username),{username:e.username});case 3:case"end":return t.stop()}}),t)}))))},e}return X(n,[{key:"render",value:function(){return(0,Rx.jsx)(pA,{initialValues:{username:"",email:"",password:""},onSubmit:this.hendleSubmit,validationSchema:XT().shape({username:IT().required("\u0418\u043c\u044f \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e").max(20,"\u0418\u043c\u044f \u0434\u043e\u043b\u0436\u043d\u043e \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043d\u0435 \u0431\u043e\u043b\u0435\u0435 20 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"),email:IT().email("\u0415mail \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0432\u0435\u0440\u043d\u043e\u0433\u043e \u0444\u043e\u0440\u043c\u0430\u0442\u0430").required("\u0415mail \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u0435\u043d"),password:IT().matches(SA,"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432 \u0438 \u0432\u043a\u043b\u044e\u0447\u0430\u0442\u044c \u043a\u0430\u043a \u043c\u0438\u043d\u0438\u043c\u0443\u043c \u043e\u0434\u043d\u0443 \u0431\u0443\u043a\u0432\u0443 \u0438 \u043e\u0434\u043d\u0443 \u0446\u0438\u0444\u0440\u0443").required("\u041f\u0430\u0440\u043e\u043b\u044c \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u0435\u043d")}),children:function(e){var t=e.isValid;return(0,Rx.jsxs)(_A,{className:"w-auto p-4 text-[18px]",children:[(0,Rx.jsx)(kA,{name:"username",component:EA,label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f"}),(0,Rx.jsx)(kA,{name:"email",component:EA,label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0435mail"}),(0,Rx.jsx)(kA,{name:"password",component:EA,label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",type:"password"}),(0,Rx.jsx)("button",{className:"m-2 border rounded border-gray-300 w-min px-2 hover:bg-amber-50",type:"submit",disabled:!t,children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})]})}})}}]),n}(e.Component),NA=function(e){Z(n,e);var t=ae(n);function n(e){var r;return Q(this,n),(r=t.call(this,e)).addSingUp=function(){r.setState({addFormLogin:!1,addFormSingUp:!0})},r.addLogin=function(){r.setState({addFormLogin:!0,addFormSingUp:!1})},r.state={addFormLogin:!0,addFormSingUp:!1},r}return X(n,[{key:"render",value:function(){return(0,Rx.jsxs)("div",{className:"bg-white max-w-screen-lg mx-auto text-center w-full p-4",children:[(0,Rx.jsx)("button",{onClick:this.addLogin,className:"text-[20px] border px-4 py-2",children:"\u0412\u0445\u043e\u0434"}),(0,Rx.jsx)("button",{onClick:this.addSingUp,className:"text-[20px] border px-4 py-2",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),this.state.addFormLogin&&(0,Rx.jsx)(CA,{}),this.state.addFormSingUp&&(0,Rx.jsx)(IA,{})]})}}]),n}(e.Component),AA=function(e){Z(n,e);var t=ae(n);function n(){return Q(this,n),t.apply(this,arguments)}return X(n,[{key:"render",value:function(){var e=this.props.currentUser;return(0,Rx.jsx)("div",{className:"flex flex-col min-h-screen flex-grow w-full",children:e?(0,Rx.jsx)(k,{to:"/account"}):(0,Rx.jsx)(NA,{})})}}]),n}(e.Component);AA.defaultProps={currentUser:null};var RA=function(e){Z(n,e);var t=ae(n);function n(e){var r;return Q(this,n),(r=t.call(this,e)).handleChangeState=function(){iE.getCollection("dress").then((function(e){r.setState({dress:e})})),iE.getCollection("suit").then((function(e){r.setState({suit:e})})),iE.getCollection("sport").then((function(e){r.setState({sport:e})})),iE.getCollection("shirts").then((function(e){r.setState({shirts:e})}))},r.state={currentUser:null,dress:null,suit:null,sport:null,shirts:null,isUserLoading:!0},r}return X(n,[{key:"componentDidMount",value:function(){var e=this;!function(e,t,n,r){et(e).onAuthStateChanged(t,n,r)}(Nx,(function(t){e.setState({currentUser:t,isUserLoading:!1})})),this.handleChangeState()}},{key:"render",value:function(){var e=this.state,t=e.currentUser,n=e.dress,r=e.suit,i=e.sport,a=e.shirts,o=e.isUserLoading;return(0,Rx.jsxs)(Rx.Fragment,{children:[(0,Rx.jsx)(Ox,{}),(0,Rx.jsxs)(x,{children:[(0,Rx.jsx)(b,{path:"/",element:(0,Rx.jsx)(Hx,{})}),(0,Rx.jsx)(b,{path:"/account",element:(0,Rx.jsx)(EE,{currentUser:t,isUserLoading:o})}),(0,Rx.jsx)(b,{path:"/login",element:(0,Rx.jsx)(AA,{currentUser:t})}),(0,Rx.jsx)(b,{path:"/collections",element:(0,Rx.jsx)(hE,{currentUser:t,dress:n,suit:r,sport:i,shirts:a,handleChangeState:this.handleChangeState})})]}),(0,Rx.jsx)(Px,{})]})}}]),n}(e.Component);t.render((0,Rx.jsx)(e.StrictMode,{children:(0,Rx.jsx)(G,{basename:"/shine",children:(0,Rx.jsx)(RA,{})})}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.64206725.js.map