/*! For license information please see main.fc78ce53.js.LICENSE.txt */
!function(){var e={7757:function(e,t,n){e.exports=n(9727)},2110:function(e,t,n){"use strict";var r=n(8309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var s=u(t),v=u(n),y=0;y<o.length;++y){var m=o[y];if(!a[m]&&(!r||!r[m])&&(!v||!v[m])&&(!s||!s[m])){var g=h(n,m);try{c(t,m,g)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case s:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case y:case v:case u:return e;default:return t}}case i:return t}}}function w(e){return _(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=y,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return w(e)||_(e)===l},t.isConcurrentMode=w,t.isContextConsumer=function(e){return _(e)===c},t.isContextProvider=function(e){return _(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return _(e)===h},t.isFragment=function(e){return _(e)===a},t.isLazy=function(e){return _(e)===y},t.isMemo=function(e){return _(e)===v},t.isPortal=function(e){return _(e)===i},t.isProfiler=function(e){return _(e)===s},t.isStrictMode=function(e){return _(e)===o},t.isSuspense=function(e){return _(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===s||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===m)},t.typeOf=_},8309:function(e,t,n){"use strict";e.exports=n(746)},908:function(e,t,n){var r=n(8136)(n(7009),"DataView");e.exports=r},9676:function(e,t,n){var r=n(5403),i=n(2747),a=n(6037),o=n(4154),s=n(7728);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=o,u.prototype.set=s,e.exports=u},8384:function(e,t,n){var r=n(3894),i=n(8699),a=n(4957),o=n(7184),s=n(7109);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=o,u.prototype.set=s,e.exports=u},5797:function(e,t,n){var r=n(8136)(n(7009),"Map");e.exports=r},8059:function(e,t,n){var r=n(4086),i=n(9255),a=n(9186),o=n(3423),s=n(3739);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=o,u.prototype.set=s,e.exports=u},8319:function(e,t,n){var r=n(8136)(n(7009),"Promise");e.exports=r},3924:function(e,t,n){var r=n(8136)(n(7009),"Set");e.exports=r},692:function(e,t,n){var r=n(8059),i=n(5774),a=n(1596);function o(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}o.prototype.add=o.prototype.push=i,o.prototype.has=a,e.exports=o},2854:function(e,t,n){var r=n(8384),i=n(511),a=n(835),o=n(707),s=n(8832),u=n(5077);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=a,c.prototype.get=o,c.prototype.has=s,c.prototype.set=u,e.exports=c},7197:function(e,t,n){var r=n(7009).Symbol;e.exports=r},6219:function(e,t,n){var r=n(7009).Uint8Array;e.exports=r},7091:function(e,t,n){var r=n(8136)(n(7009),"WeakMap");e.exports=r},4903:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}},7538:function(e,t,n){var r=n(6478),i=n(4963),a=n(3629),o=n(5174),s=n(6800),u=n(9102),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=a(e),l=!n&&i(e),f=!n&&!l&&o(e),h=!n&&!l&&!f&&u(e),d=n||l||f||h,p=d?r(e.length,String):[],v=p.length;for(var y in e)!t&&!c.call(e,y)||d&&("length"==y||f&&("offset"==y||"parent"==y)||h&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||s(y,v))||p.push(y);return p}},8950:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},1705:function(e){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},2095:function(e){e.exports=function(e,t,n,r){var i=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}},7897:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},4622:function(e){e.exports=function(e){return e.split("")}},240:function(e){var t=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;e.exports=function(e){return e.match(t)||[]}},7112:function(e,t,n){var r=n(9231);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},2526:function(e,t,n){var r=n(8528);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},5099:function(e,t,n){var r=n(372)();e.exports=r},5358:function(e,t,n){var r=n(5099),i=n(2742);e.exports=function(e,t){return e&&r(e,t,i)}},8667:function(e,t,n){var r=n(3082),i=n(9793);e.exports=function(e,t){for(var n=0,a=(t=r(t,e)).length;null!=e&&n<a;)e=e[i(t[n++])];return n&&n==a?e:void 0}},1986:function(e,t,n){var r=n(1705),i=n(3629);e.exports=function(e,t,n){var a=t(e);return i(e)?a:r(a,n(e))}},9066:function(e,t,n){var r=n(7197),i=n(1587),a=n(3581),o=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?i(e):a(e)}},7852:function(e){var t=Object.prototype.hasOwnProperty;e.exports=function(e,n){return null!=e&&t.call(e,n)}},529:function(e){e.exports=function(e,t){return null!=e&&t in Object(e)}},4906:function(e,t,n){var r=n(9066),i=n(3141);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},1848:function(e,t,n){var r=n(3355),i=n(3141);e.exports=function e(t,n,a,o,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!==t&&n!==n:r(t,n,a,o,e,s))}},3355:function(e,t,n){var r=n(2854),i=n(5305),a=n(2206),o=n(8078),s=n(8383),u=n(3629),c=n(5174),l=n(9102),f="[object Arguments]",h="[object Array]",d="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,v,y,m){var g=u(e),k=u(t),b=g?h:s(e),_=k?h:s(t),w=(b=b==f?d:b)==d,x=(_=_==f?d:_)==d,E=b==_;if(E&&c(e)){if(!c(t))return!1;g=!0,w=!1}if(E&&!w)return m||(m=new r),g||l(e)?i(e,t,n,v,y,m):a(e,t,b,n,v,y,m);if(!(1&n)){var S=w&&p.call(e,"__wrapped__"),T=x&&p.call(t,"__wrapped__");if(S||T){var C=S?e.value():e,I=T?t.value():t;return m||(m=new r),y(C,I,n,v,m)}}return!!E&&(m||(m=new r),o(e,t,n,v,y,m))}},8856:function(e,t,n){var r=n(2854),i=n(1848);e.exports=function(e,t,n,a){var o=n.length,s=o,u=!a;if(null==e)return!s;for(e=Object(e);o--;){var c=n[o];if(u&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<s;){var l=(c=n[o])[0],f=e[l],h=c[1];if(u&&c[2]){if(void 0===f&&!(l in e))return!1}else{var d=new r;if(a)var p=a(f,h,l,e,t,d);if(!(void 0===p?i(h,f,3,a,d):p))return!1}}return!0}},6703:function(e,t,n){var r=n(4786),i=n(257),a=n(8092),o=n(7907),s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,f=c.hasOwnProperty,h=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!a(e)||i(e))&&(r(e)?h:s).test(o(e))}},8150:function(e,t,n){var r=n(9066),i=n(4635),a=n(3141),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return a(e)&&i(e.length)&&!!o[r(e)]}},6025:function(e,t,n){var r=n(7080),i=n(4322),a=n(2100),o=n(3629),s=n(38);e.exports=function(e){return"function"==typeof e?e:null==e?a:"object"==typeof e?o(e)?i(e[0],e[1]):r(e):s(e)}},3654:function(e,t,n){var r=n(2936),i=n(8836),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))a.call(e,n)&&"constructor"!=n&&t.push(n);return t}},7080:function(e,t,n){var r=n(8856),i=n(9091),a=n(284);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?a(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},4322:function(e,t,n){var r=n(1848),i=n(6181),a=n(5658),o=n(5823),s=n(5072),u=n(284),c=n(9793);e.exports=function(e,t){return o(e)&&s(t)?u(c(e),t):function(n){var o=i(n,e);return void 0===o&&o===t?a(n,e):r(t,o,3)}}},9586:function(e){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},4084:function(e,t,n){var r=n(8667);e.exports=function(e){return function(t){return r(t,e)}}},4632:function(e){e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},2646:function(e){e.exports=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+t];return a}},6478:function(e){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},2446:function(e,t,n){var r=n(7197),i=n(8950),a=n(3629),o=n(152),s=r?r.prototype:void 0,u=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(a(t))return i(t,e)+"";if(o(t))return u?u.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n}},6194:function(e){e.exports=function(e){return function(t){return e(t)}}},75:function(e){e.exports=function(e,t){return e.has(t)}},3082:function(e,t,n){var r=n(3629),i=n(5823),a=n(170),o=n(3518);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:a(o(e))}},9813:function(e,t,n){var r=n(2646);e.exports=function(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:r(e,t,n)}},5525:function(e,t,n){var r=n(7009)["__core-js_shared__"];e.exports=r},372:function(e){e.exports=function(e){return function(t,n,r){for(var i=-1,a=Object(t),o=r(t),s=o.length;s--;){var u=o[e?s:++i];if(!1===n(a[u],u,a))break}return t}}},322:function(e,t,n){var r=n(9813),i=n(7302),a=n(7580),o=n(3518);e.exports=function(e){return function(t){t=o(t);var n=i(t)?a(t):void 0,s=n?n[0]:t.charAt(0),u=n?r(n,1).join(""):t.slice(1);return s[e]()+u}}},7810:function(e,t,n){var r=n(2095),i=n(4857),a=n(5660),o=RegExp("['\u2019]","g");e.exports=function(e){return function(t){return r(a(i(t).replace(o,"")),e,"")}}},5868:function(e,t,n){var r=n(4632)({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"});e.exports=r},8528:function(e,t,n){var r=n(8136),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=i},5305:function(e,t,n){var r=n(692),i=n(7897),a=n(75);e.exports=function(e,t,n,o,s,u){var c=1&n,l=e.length,f=t.length;if(l!=f&&!(c&&f>l))return!1;var h=u.get(e),d=u.get(t);if(h&&d)return h==t&&d==e;var p=-1,v=!0,y=2&n?new r:void 0;for(u.set(e,t),u.set(t,e);++p<l;){var m=e[p],g=t[p];if(o)var k=c?o(g,m,p,t,e,u):o(m,g,p,e,t,u);if(void 0!==k){if(k)continue;v=!1;break}if(y){if(!i(t,(function(e,t){if(!a(y,t)&&(m===e||s(m,e,n,o,u)))return y.push(t)}))){v=!1;break}}else if(m!==g&&!s(m,g,n,o,u)){v=!1;break}}return u.delete(e),u.delete(t),v}},2206:function(e,t,n){var r=n(7197),i=n(6219),a=n(9231),o=n(5305),s=n(234),u=n(2230),c=r?r.prototype:void 0,l=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,f,h){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!f(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return a(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var d=s;case"[object Set]":var p=1&r;if(d||(d=u),e.size!=t.size&&!p)return!1;var v=h.get(e);if(v)return v==t;r|=2,h.set(e,t);var y=o(d(e),d(t),r,c,f,h);return h.delete(e),y;case"[object Symbol]":if(l)return l.call(e)==l.call(t)}return!1}},8078:function(e,t,n){var r=n(8248),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,a,o,s){var u=1&n,c=r(e),l=c.length;if(l!=r(t).length&&!u)return!1;for(var f=l;f--;){var h=c[f];if(!(u?h in t:i.call(t,h)))return!1}var d=s.get(e),p=s.get(t);if(d&&p)return d==t&&p==e;var v=!0;s.set(e,t),s.set(t,e);for(var y=u;++f<l;){var m=e[h=c[f]],g=t[h];if(a)var k=u?a(g,m,h,t,e,s):a(m,g,h,e,t,s);if(!(void 0===k?m===g||o(m,g,n,a,s):k)){v=!1;break}y||(y="constructor"==h)}if(v&&!y){var b=e.constructor,_=t.constructor;b==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof _&&_ instanceof _||(v=!1)}return s.delete(e),s.delete(t),v}},1032:function(e,t,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},8248:function(e,t,n){var r=n(1986),i=n(5918),a=n(2742);e.exports=function(e){return r(e,a,i)}},2799:function(e,t,n){var r=n(5964);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},9091:function(e,t,n){var r=n(5072),i=n(2742);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var a=t[n],o=e[a];t[n]=[a,o,r(o)]}return t}},8136:function(e,t,n){var r=n(6703),i=n(40);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},1587:function(e,t,n){var r=n(7197),i=Object.prototype,a=i.hasOwnProperty,o=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=a.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(u){}var i=o.call(e);return r&&(t?e[s]=n:delete e[s]),i}},5918:function(e,t,n){var r=n(4903),i=n(8174),a=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,s=o?function(e){return null==e?[]:(e=Object(e),r(o(e),(function(t){return a.call(e,t)})))}:i;e.exports=s},8383:function(e,t,n){var r=n(908),i=n(5797),a=n(8319),o=n(3924),s=n(7091),u=n(9066),c=n(7907),l="[object Map]",f="[object Promise]",h="[object Set]",d="[object WeakMap]",p="[object DataView]",v=c(r),y=c(i),m=c(a),g=c(o),k=c(s),b=u;(r&&b(new r(new ArrayBuffer(1)))!=p||i&&b(new i)!=l||a&&b(a.resolve())!=f||o&&b(new o)!=h||s&&b(new s)!=d)&&(b=function(e){var t=u(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case v:return p;case y:return l;case m:return f;case g:return h;case k:return d}return t}),e.exports=b},40:function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},6417:function(e,t,n){var r=n(3082),i=n(4963),a=n(3629),o=n(6800),s=n(4635),u=n(9793);e.exports=function(e,t,n){for(var c=-1,l=(t=r(t,e)).length,f=!1;++c<l;){var h=u(t[c]);if(!(f=null!=e&&n(e,h)))break;e=e[h]}return f||++c!=l?f:!!(l=null==e?0:e.length)&&s(l)&&o(h,l)&&(a(e)||i(e))}},7302:function(e){var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},7137:function(e){var t=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;e.exports=function(e){return t.test(e)}},5403:function(e,t,n){var r=n(9620);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},2747:function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},6037:function(e,t,n){var r=n(9620),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},4154:function(e,t,n){var r=n(9620),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},7728:function(e,t,n){var r=n(9620);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},6800:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},5823:function(e,t,n){var r=n(3629),i=n(152),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||(o.test(e)||!a.test(e)||null!=t&&e in Object(t))}},5964:function(e){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},257:function(e,t,n){var r=n(5525),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},2936:function(e){var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},5072:function(e,t,n){var r=n(8092);e.exports=function(e){return e===e&&!r(e)}},3894:function(e){e.exports=function(){this.__data__=[],this.size=0}},8699:function(e,t,n){var r=n(7112),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},4957:function(e,t,n){var r=n(7112);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},7184:function(e,t,n){var r=n(7112);e.exports=function(e){return r(this.__data__,e)>-1}},7109:function(e,t,n){var r=n(7112);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},4086:function(e,t,n){var r=n(9676),i=n(8384),a=n(5797);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(a||i),string:new r}}},9255:function(e,t,n){var r=n(2799);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},9186:function(e,t,n){var r=n(2799);e.exports=function(e){return r(this,e).get(e)}},3423:function(e,t,n){var r=n(2799);e.exports=function(e){return r(this,e).has(e)}},3739:function(e,t,n){var r=n(2799);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},234:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},284:function(e){e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},4634:function(e,t,n){var r=n(9151);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},9620:function(e,t,n){var r=n(8136)(Object,"create");e.exports=r},8836:function(e,t,n){var r=n(2709)(Object.keys,Object);e.exports=r},9494:function(e,t,n){e=n.nmd(e);var r=n(1032),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,o=a&&a.exports===i&&r.process,s=function(){try{var e=a&&a.require&&a.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(t){}}();e.exports=s},3581:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},2709:function(e){e.exports=function(e,t){return function(n){return e(t(n))}}},7009:function(e,t,n){var r=n(1032),i="object"==typeof self&&self&&self.Object===Object&&self,a=r||i||Function("return this")();e.exports=a},5774:function(e){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},1596:function(e){e.exports=function(e){return this.__data__.has(e)}},2230:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},511:function(e,t,n){var r=n(8384);e.exports=function(){this.__data__=new r,this.size=0}},835:function(e){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},707:function(e){e.exports=function(e){return this.__data__.get(e)}},8832:function(e){e.exports=function(e){return this.__data__.has(e)}},5077:function(e,t,n){var r=n(8384),i=n(5797),a=n(8059);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var o=n.__data__;if(!i||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new a(o)}return n.set(e,t),this.size=n.size,this}},7580:function(e,t,n){var r=n(4622),i=n(7302),a=n(2129);e.exports=function(e){return i(e)?a(e):r(e)}},170:function(e,t,n){var r=n(4634),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,o=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,n,r,i){t.push(r?i.replace(a,"$1"):n||e)})),t}));e.exports=o},9793:function(e,t,n){var r=n(152);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},7907:function(e){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},2129:function(e){var t="[\\ud800-\\udfff]",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",r="\\ud83c[\\udffb-\\udfff]",i="[^\\ud800-\\udfff]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",o="[\\ud800-\\udbff][\\udc00-\\udfff]",s="(?:"+n+"|"+r+")"+"?",u="[\\ufe0e\\ufe0f]?",c=u+s+("(?:\\u200d(?:"+[i,a,o].join("|")+")"+u+s+")*"),l="(?:"+[i+n+"?",n,a,o,t].join("|")+")",f=RegExp(r+"(?="+r+")|"+l+c,"g");e.exports=function(e){return e.match(f)||[]}},1029:function(e){var t="\\u2700-\\u27bf",n="a-z\\xdf-\\xf6\\xf8-\\xff",r="A-Z\\xc0-\\xd6\\xd8-\\xde",i="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",a="["+i+"]",o="\\d+",s="[\\u2700-\\u27bf]",u="["+n+"]",c="[^\\ud800-\\udfff"+i+o+t+n+r+"]",l="(?:\\ud83c[\\udde6-\\uddff]){2}",f="[\\ud800-\\udbff][\\udc00-\\udfff]",h="["+r+"]",d="(?:"+u+"|"+c+")",p="(?:"+h+"|"+c+")",v="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",y="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",m="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",g="[\\ufe0e\\ufe0f]?",k=g+m+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",l,f].join("|")+")"+g+m+")*"),b="(?:"+[s,l,f].join("|")+")"+k,_=RegExp([h+"?"+u+"+"+v+"(?="+[a,h,"$"].join("|")+")",p+"+"+y+"(?="+[a,h+d,"$"].join("|")+")",h+"?"+d+"+"+v,h+"+"+y,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",o,b].join("|"),"g");e.exports=function(e){return e.match(_)||[]}},567:function(e,t,n){var r=n(3131),i=n(7810)((function(e,t,n){return t=t.toLowerCase(),e+(n?r(t):t)}));e.exports=i},3131:function(e,t,n){var r=n(3518),i=n(2085);e.exports=function(e){return i(r(e).toLowerCase())}},4857:function(e,t,n){var r=n(5868),i=n(3518),a=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,o=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");e.exports=function(e){return(e=i(e))&&e.replace(a,r).replace(o,"")}},9231:function(e){e.exports=function(e,t){return e===t||e!==e&&t!==t}},6181:function(e,t,n){var r=n(8667);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},7805:function(e,t,n){var r=n(7852),i=n(6417);e.exports=function(e,t){return null!=e&&i(e,t,r)}},5658:function(e,t,n){var r=n(529),i=n(6417);e.exports=function(e,t){return null!=e&&i(e,t,r)}},2100:function(e){e.exports=function(e){return e}},4963:function(e,t,n){var r=n(4906),i=n(3141),a=Object.prototype,o=a.hasOwnProperty,s=a.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return i(e)&&o.call(e,"callee")&&!s.call(e,"callee")};e.exports=u},3629:function(e){var t=Array.isArray;e.exports=t},1473:function(e,t,n){var r=n(4786),i=n(4635);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},5174:function(e,t,n){e=n.nmd(e);var r=n(7009),i=n(9488),a=t&&!t.nodeType&&t,o=a&&e&&!e.nodeType&&e,s=o&&o.exports===a?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||i;e.exports=u},4786:function(e,t,n){var r=n(9066),i=n(8092);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},4635:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},8092:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},3141:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},152:function(e,t,n){var r=n(9066),i=n(3141);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},9102:function(e,t,n){var r=n(8150),i=n(6194),a=n(9494),o=a&&a.isTypedArray,s=o?i(o):r;e.exports=s},2742:function(e,t,n){var r=n(7538),i=n(3654),a=n(1473);e.exports=function(e){return a(e)?r(e):i(e)}},9029:function(e,t,n){var r=n(2526),i=n(5358),a=n(6025);e.exports=function(e,t){var n={};return t=a(t,3),i(e,(function(e,i,a){r(n,t(e,i,a),e)})),n}},7702:function(e,t,n){var r=n(2526),i=n(5358),a=n(6025);e.exports=function(e,t){var n={};return t=a(t,3),i(e,(function(e,i,a){r(n,i,t(e,i,a))})),n}},9151:function(e,t,n){var r=n(8059);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},38:function(e,t,n){var r=n(9586),i=n(4084),a=n(5823),o=n(9793);e.exports=function(e){return a(e)?r(o(e)):i(e)}},7499:function(e,t,n){var r=n(7810)((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));e.exports=r},8174:function(e){e.exports=function(){return[]}},9488:function(e){e.exports=function(){return!1}},3518:function(e,t,n){var r=n(2446);e.exports=function(e){return null==e?"":r(e)}},2085:function(e,t,n){var r=n(322)("toUpperCase");e.exports=r},5660:function(e,t,n){var r=n(240),i=n(7137),a=n(3518),o=n(1029);e.exports=function(e,t,n){return e=a(e),void 0===(t=n?void 0:t)?i(e)?o(e):r(e):e.match(t)||[]}},1725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,s,u=i(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(u[l]=o[l]);if(t){s=t(o);for(var f=0;f<s.length;f++)r.call(o,s[f])&&(u[s[f]]=o[s[f]])}}return u}},2758:function(e){"use strict";function t(e){this._maxSize=e,this.clear()}t.prototype.clear=function(){this._size=0,this._values=Object.create(null)},t.prototype.get=function(e){return this._values[e]},t.prototype.set=function(e,t){return this._size>=this._maxSize&&this.clear(),e in this._values||this._size++,this._values[e]=t};var n=/[^.^\]^[]+|(?=\[\]|\.\.)/g,r=/^\d+$/,i=/^\d/,a=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,o=/^\s*(['"]?)(.*?)(\1)\s*$/,s=new t(512),u=new t(512),c=new t(512);function l(e){return s.get(e)||s.set(e,f(e).map((function(e){return e.replace(o,"$2")})))}function f(e){return e.match(n)}function h(e){return"string"===typeof e&&e&&-1!==["'",'"'].indexOf(e.charAt(0))}function d(e){return!h(e)&&(function(e){return e.match(i)&&!e.match(r)}(e)||function(e){return a.test(e)}(e))}e.exports={Cache:t,split:f,normalizePath:l,setter:function(e){var t=l(e);return u.get(e)||u.set(e,(function(e,n){for(var r=0,i=t.length,a=e;r<i-1;){var o=t[r];if("__proto__"===o||"constructor"===o||"prototype"===o)return e;a=a[t[r++]]}a[t[r]]=n}))},getter:function(e,t){var n=l(e);return c.get(e)||c.set(e,(function(e){for(var r=0,i=n.length;r<i;){if(null==e&&t)return;e=e[n[r++]]}return e}))},join:function(e){return e.reduce((function(e,t){return e+(h(t)||r.test(t)?"["+t+"]":(e?".":"")+t)}),"")},forEach:function(e,t,n){!function(e,t,n){var r,i,a,o,s=e.length;for(i=0;i<s;i++)(r=e[i])&&(d(r)&&(r='"'+r+'"'),a=!(o=h(r))&&/^\d+$/.test(r),t.call(n,r,o,a,i,e))}(Array.isArray(e)?e:f(e),t,n)}}},4463:function(e,t,n){"use strict";var r=n(2791),i=n(1725),a=n(5296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function y(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new y(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new y(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new y(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new y(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new y(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new y(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new y(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new y(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new y(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,k);m[t]=new y(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,k);m[t]=new y(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,k);m[t]=new y(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new y(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new y(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=60103,x=60106,E=60107,S=60108,T=60114,C=60109,I=60110,N=60112,A=60113,O=60120,R=60115,P=60116,D=60121,F=60128,L=60129,j=60130,M=60131;if("function"===typeof Symbol&&Symbol.for){var U=Symbol.for;w=U("react.element"),x=U("react.portal"),E=U("react.fragment"),S=U("react.strict_mode"),T=U("react.profiler"),C=U("react.provider"),I=U("react.context"),N=U("react.forward_ref"),A=U("react.suspense"),O=U("react.suspense_list"),R=U("react.memo"),P=U("react.lazy"),D=U("react.block"),U("react.scope"),F=U("react.opaque.id"),L=U("react.debug_trace_mode"),j=U("react.offscreen"),M=U("react.legacy_hidden")}var V,z="function"===typeof Symbol&&Symbol.iterator;function q(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=z&&e[z]||e["@@iterator"])?e:null}function B(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var W=!1;function H(e,t){if(!e||W)return"";W=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=s);break}}}finally{W=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function K(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=H(e.type,!1);case 11:return e=H(e.type.render,!1);case 22:return e=H(e.type._render,!1);case 1:return e=H(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case x:return"Portal";case T:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case R:return G(e.type);case D:return G(e._render);case P:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function $(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=Q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=$(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=$(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,$(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+$(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:$(n)}}function ce(e,t){var n=$(t.value),r=$(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,ye,me=(ye=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ye(e,t)}))}:ye);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ke={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function _e(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ke.hasOwnProperty(e)&&ke[e]?(""+t).trim():t+"px"}function we(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=_e(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ke).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ke[t]=ke[e]}))}));var xe=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ee(e,t){if(t){if(xe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Se(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Te(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ce=null,Ie=null,Ne=null;function Ae(e){if(e=ri(e)){if("function"!==typeof Ce)throw Error(o(280));var t=e.stateNode;t&&(t=ai(t),Ce(e.stateNode,e.type,t))}}function Oe(e){Ie?Ne?Ne.push(e):Ne=[e]:Ie=e}function Re(){if(Ie){var e=Ie,t=Ne;if(Ne=Ie=null,Ae(e),t)for(e=0;e<t.length;e++)Ae(t[e])}}function Pe(e,t){return e(t)}function De(e,t,n,r,i){return e(t,n,r,i)}function Fe(){}var Le=Pe,je=!1,Me=!1;function Ue(){null===Ie&&null===Ne||(Fe(),Re())}function Ve(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var ze=!1;if(f)try{var qe={};Object.defineProperty(qe,"passive",{get:function(){ze=!0}}),window.addEventListener("test",qe,qe),window.removeEventListener("test",qe,qe)}catch(ye){ze=!1}function Be(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var We=!1,He=null,Ke=!1,Ge=null,$e={onError:function(e){We=!0,He=e}};function Qe(e,t,n,r,i,a,o,s,u){We=!1,He=null,Be.apply($e,arguments)}function Ye(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Xe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Je(e){if(Ye(e)!==e)throw Error(o(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ye(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Je(i),e;if(a===r)return Je(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],st=null,ut=null,ct=null,lt=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function yt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function mt(e){var t=ni(e.target);if(null!==t){var n=Ye(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Xe(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function kt(e,t,n){gt(e)&&n.delete(t)}function bt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==st&&gt(st)&&(st=null),null!==ut&&gt(ut)&&(ut=null),null!==ct&&gt(ct)&&(ct=null),lt.forEach(kt),ft.forEach(kt)}function _t(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,bt)))}function wt(e){function t(t){return _t(t,e)}if(0<ot.length){_t(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&_t(st,e),null!==ut&&_t(ut,e),null!==ct&&_t(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)mt(n),null===n.blockedOn&&ht.shift()}function xt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Et={animationend:xt("Animation","AnimationEnd"),animationiteration:xt("Animation","AnimationIteration"),animationstart:xt("Animation","AnimationStart"),transitionend:xt("Transition","TransitionEnd")},St={},Tt={};function Ct(e){if(St[e])return St[e];if(!Et[e])return e;var t,n=Et[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tt)return St[e]=n[t];return e}f&&(Tt=document.createElement("div").style,"AnimationEvent"in window||(delete Et.animationend.animation,delete Et.animationiteration.animation,delete Et.animationstart.animation),"TransitionEvent"in window||delete Et.transitionend.transition);var It=Ct("animationend"),Nt=Ct("animationiteration"),At=Ct("animationstart"),Ot=Ct("transitionend"),Rt=new Map,Pt=new Map,Dt=["abort","abort",It,"animationEnd",Nt,"animationIteration",At,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ot,"transitionEnd","waiting","waiting"];function Ft(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Pt.set(r,t),Rt.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Lt=8;function jt(e){if(0!==(1&e))return Lt=15,1;if(0!==(2&e))return Lt=14,2;if(0!==(4&e))return Lt=13,4;var t=24&e;return 0!==t?(Lt=12,t):0!==(32&e)?(Lt=11,32):0!==(t=192&e)?(Lt=10,t):0!==(256&e)?(Lt=9,256):0!==(t=3584&e)?(Lt=8,t):0!==(4096&e)?(Lt=7,4096):0!==(t=4186112&e)?(Lt=6,t):0!==(t=62914560&e)?(Lt=5,t):67108864&e?(Lt=4,67108864):0!==(134217728&e)?(Lt=3,134217728):0!==(t=805306368&e)?(Lt=2,t):0!==(1073741824&e)?(Lt=1,1073741824):(Lt=8,e)}function Mt(e,t){var n=e.pendingLanes;if(0===n)return Lt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,s=e.pingedLanes;if(0!==a)r=a,i=Lt=15;else if(0!==(a=134217727&n)){var u=a&~o;0!==u?(r=jt(u),i=Lt):0!==(s&=a)&&(r=jt(s),i=Lt)}else 0!==(a=n&~o)?(r=jt(a),i=Lt):0!==s&&(r=jt(s),i=Lt);if(0===r)return 0;if(r=n&((0>(r=31-Wt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(jt(t),i<=Lt)return t;Lt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Wt(t)),r|=e[n],t&=~i;return r}function Ut(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Vt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=zt(24&~t))?Vt(10,t):e;case 10:return 0===(e=zt(192&~t))?Vt(8,t):e;case 8:return 0===(e=zt(3584&~t))&&(0===(e=zt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=zt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function zt(e){return e&-e}function qt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Bt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Wt(t)]=n}var Wt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Ht(e)/Kt|0)|0},Ht=Math.log,Kt=Math.LN2;var Gt=a.unstable_UserBlockingPriority,$t=a.unstable_runWithPriority,Qt=!0;function Yt(e,t,n,r){je||Fe();var i=Jt,a=je;je=!0;try{De(i,e,t,n,r)}finally{(je=a)||Ue()}}function Xt(e,t,n,r){$t(Gt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var i;if(Qt)if((i=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=Zt(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=yt(st,e,t,n,r,i),!0;case"dragenter":return ut=yt(ut,e,t,n,r,i),!0;case"mouseover":return ct=yt(ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,yt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ft.set(a,yt(ft.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}Fr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=Te(r);if(null!==(i=ni(i))){var a=Ye(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Xe(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Fr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function sn(){return!1}function un(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=un(hn),pn=i({},hn,{view:0,detail:0}),vn=un(pn),yn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),mn=un(yn),gn=un(i({},yn,{dataTransfer:0})),kn=un(i({},pn,{relatedTarget:0})),bn=un(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),_n=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=un(_n),xn=un(i({},hn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Tn[e])&&!!t[e]}function In(){return Cn}var Nn=i({},pn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),An=un(Nn),On=un(i({},yn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Rn=un(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),Pn=un(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=i({},yn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Fn=un(Dn),Ln=[9,13,27,32],jn=f&&"CompositionEvent"in window,Mn=null;f&&"documentMode"in document&&(Mn=document.documentMode);var Un=f&&"TextEvent"in window&&!Mn,Vn=f&&(!jn||Mn&&8<Mn&&11>=Mn),zn=String.fromCharCode(32),qn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Kn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Kn[e.type]:"textarea"===t}function $n(e,t,n,r){Oe(r),0<(t=jr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Qn=null,Yn=null;function Xn(e){Nr(e,0)}function Jn(e){if(X(ii(e)))return e}function Zn(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Qn&&(Qn.detachEvent("onpropertychange",ar),Yn=Qn=null)}function ar(e){if("value"===e.propertyName&&Jn(Yn)){var t=[];if($n(t,Yn,e,Te(e)),e=Xn,je)e(t);else{je=!0;try{Pe(e,t)}finally{je=!1,Ue()}}}}function or(e,t,n){"focusin"===e?(ir(),Yn=n,(Qn=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Yn)}function ur(e,t){if("click"===e)return Jn(t)}function cr(e,t){if("input"===e||"change"===e)return Jn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function hr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function yr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=f&&"documentMode"in document&&11>=document.documentMode,kr=null,br=null,_r=null,wr=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==kr||kr!==J(r)||("selectionStart"in(r=kr)&&mr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},_r&&hr(_r,r)||(_r=r,0<(r=jr(br,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kr)))}Ft("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Ft("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Ft(Dt,2);for(var Er="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Sr=0;Sr<Er.length;Sr++)Pt.set(Er[Sr],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tr));function Ir(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,c){if(Qe.apply(this,arguments),We){if(!We)throw Error(o(198));var l=He;We=!1,He=null,Ke||(Ke=!0,Ge=l)}}(r,t,void 0,e),e.currentTarget=null}function Nr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Ir(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Ir(i,s,c),a=u}}}if(Ke)throw e=Ge,Ke=!1,Ge=null,e}function Ar(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Dr(t,e,2,!1),n.add(r))}var Or="_reactListening"+Math.random().toString(36).slice(2);function Rr(e){e[Or]||(e[Or]=!0,s.forEach((function(t){Cr.has(t)||Pr(t,!1,e,null),Pr(t,!0,e,null)})))}function Pr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Cr.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=oi(a),s=e+"__"+(t?"capture":"bubble");o.has(s)||(t&&(i|=4),Dr(a,e,i,t),o.add(s))}function Dr(e,t,n,r){var i=Pt.get(t);switch(void 0===i?2:i){case 0:i=Yt;break;case 1:i=Xt;break;default:i=Jt}n=i.bind(null,t,n,e),i=void 0,!ze||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Fr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=ni(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Me)return e(t,n);Me=!0;try{Le(e,t,n)}finally{Me=!1,Ue()}}((function(){var r=a,i=Te(n),o=[];e:{var s=Rt.get(e);if(void 0!==s){var u=dn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":u=An;break;case"focusin":c="focus",u=kn;break;case"focusout":c="blur",u=kn;break;case"beforeblur":case"afterblur":u=kn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Rn;break;case It:case Nt:case At:u=bn;break;case Ot:u=Pn;break;case"scroll":u=vn;break;case"wheel":u=Fn;break;case"copy":case"cut":case"paste":u=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=On}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ve(p,h))&&l.push(Lr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(f=Ye(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=mn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=On,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:ii(u),d=null==c?s:ii(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,ni(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Mr(d))p++;for(d=0,v=h;v;v=Mr(v))d++;for(;0<p-d;)l=Mr(l),p--;for(;0<d-p;)h=Mr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Mr(l),h=Mr(h)}l=null}else l=null;null!==u&&Ur(o,s,u,l,!1),null!==c&&null!==f&&Ur(o,f,c,l,!0)}if("select"===(u=(s=r?ii(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var y=Zn;else if(Gn(s))if(er)y=cr;else{y=sr;var m=or}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(y=ur);switch(y&&(y=y(e,r))?$n(o,y,n,i):(m&&m(e,s,r),"focusout"===e&&(m=s._wrapperState)&&m.controlled&&"number"===s.type&&ie(s,"number",s.value)),m=r?ii(r):window,e){case"focusin":(Gn(m)||"true"===m.contentEditable)&&(kr=m,br=r,_r=null);break;case"focusout":_r=br=kr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,xr(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":xr(o,n,i)}var g;if(jn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Hn?Bn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Vn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Hn&&(g=rn()):(tn="value"in(en=i)?en.value:en.textContent,Hn=!0)),0<(m=jr(r,k)).length&&(k=new xn(k,e,null,n,i),o.push({event:k,listeners:m}),g?k.data=g:null!==(g=Wn(n))&&(k.data=g))),(g=Un?function(e,t){switch(e){case"compositionend":return Wn(t);case"keypress":return 32!==t.which?null:(qn=!0,zn);case"textInput":return(e=t.data)===zn&&qn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!jn&&Bn(e,t)?(e=rn(),nn=tn=en=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=jr(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Nr(o,t)}))}function Lr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function jr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ve(e,n))&&r.unshift(Lr(e,a,i)),null!=(a=Ve(e,t))&&r.push(Lr(e,a,i))),e=e.return}return r}function Mr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ur(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Ve(n,a))&&o.unshift(Lr(n,u,s)):i||null!=(u=Ve(n,a))&&o.push(Lr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Vr(){}var zr=null,qr=null;function Br(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Wr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Hr="function"===typeof setTimeout?setTimeout:void 0,Kr="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function $r(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Qr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Yr=0;var Xr=Math.random().toString(36).slice(2),Jr="__reactFiber$"+Xr,Zr="__reactProps$"+Xr,ei="__reactContainer$"+Xr,ti="__reactEvents$"+Xr;function ni(e){var t=e[Jr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Jr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Qr(e);null!==e;){if(n=e[Jr])return n;e=Qr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Jr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ai(e){return e[Zr]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var si=[],ui=-1;function ci(e){return{current:e}}function li(e){0>ui||(e.current=si[ui],si[ui]=null,ui--)}function fi(e,t){ui++,si[ui]=e.current,e.current=t}var hi={},di=ci(hi),pi=ci(!1),vi=hi;function yi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function mi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gi(){li(pi),li(di)}function ki(e,t,n){if(di.current!==hi)throw Error(o(168));fi(di,t),fi(pi,n)}function bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,G(t)||"Unknown",a));return i({},n,r)}function _i(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,vi=di.current,fi(di,e),fi(pi,pi.current),!0}function wi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=bi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),fi(di,e)):li(pi),fi(pi,n)}var xi=null,Ei=null,Si=a.unstable_runWithPriority,Ti=a.unstable_scheduleCallback,Ci=a.unstable_cancelCallback,Ii=a.unstable_shouldYield,Ni=a.unstable_requestPaint,Ai=a.unstable_now,Oi=a.unstable_getCurrentPriorityLevel,Ri=a.unstable_ImmediatePriority,Pi=a.unstable_UserBlockingPriority,Di=a.unstable_NormalPriority,Fi=a.unstable_LowPriority,Li=a.unstable_IdlePriority,ji={},Mi=void 0!==Ni?Ni:function(){},Ui=null,Vi=null,zi=!1,qi=Ai(),Bi=1e4>qi?Ai:function(){return Ai()-qi};function Wi(){switch(Oi()){case Ri:return 99;case Pi:return 98;case Di:return 97;case Fi:return 96;case Li:return 95;default:throw Error(o(332))}}function Hi(e){switch(e){case 99:return Ri;case 98:return Pi;case 97:return Di;case 96:return Fi;case 95:return Li;default:throw Error(o(332))}}function Ki(e,t){return e=Hi(e),Si(e,t)}function Gi(e,t,n){return e=Hi(e),Ti(e,t,n)}function $i(){if(null!==Vi){var e=Vi;Vi=null,Ci(e)}Qi()}function Qi(){if(!zi&&null!==Ui){zi=!0;var e=0;try{var t=Ui;Ki(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ui=null}catch(n){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ti(Ri,$i),n}finally{zi=!1}}}var Yi=_.ReactCurrentBatchConfig;function Xi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ji=ci(null),Zi=null,ea=null,ta=null;function na(){ta=ea=Zi=null}function ra(e){var t=Ji.current;li(Ji),e.type._context._currentValue=t}function ia(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){Zi=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(jo=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===Zi)throw Error(o(308));ea=t,Zi.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var sa=!1;function ua(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ha(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var a=e.updateQueue;sa=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,u=a.shared.pending;if(null!==u){a.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?o=l:s.next=l,s=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==s&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(h=a.baseState,s=0,f=l=c=null;;){u=o.lane;var d=o.eventTime;if((r&u)===u){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(u=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,u);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(u="function"===typeof(p=v.payload)?p.call(d,h,u):p)||void 0===u)break e;h=i({},h,u);break e;case 2:sa=!0}}null!==o.callback&&(e.flags|=32,null===(u=a.effects)?a.effects=[o]:u.push(o))}else d={eventTime:d,lane:u,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,s|=u;if(null===(o=o.next)){if(null===(u=a.shared.pending))break;o=u.next,u.next=null,a.lastBaseUpdate=u,a.shared.pending=null}}null===f&&(c=h),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,zs|=s,e.lanes=s,e.memoizedState=h}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var va=(new r.Component).refs;function ya(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ma={isMounted:function(e){return!!(e=e._reactInternals)&&Ye(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),a=la(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),pu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),a=la(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),pu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hu(),r=du(e),i=la(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fa(e,i),pu(e,r,n)}};function ga(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,a))}function ka(e,t,n){var r=!1,i=hi,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(i=mi(t)?vi:di.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?yi(e,i):hi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ma,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ba(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ma.enqueueReplaceState(t,t.state,null)}function _a(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=va,ua(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=oa(a):(a=mi(t)?vi:di.current,i.context=yi(e,a)),da(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ya(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ma.enqueueReplaceState(i,i.state,null),da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var wa=Array.isArray;function xa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===va&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ea(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Sa(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ku(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Yu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=xa(e,t,n),r.return=e,r):((r=Gu(n.type,n.key,n.props,null,e.mode,r)).ref=xa(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Xu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=$u(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Yu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Gu(t.type,t.key,t.props,null,e.mode,n)).ref=xa(e,null,t),n.return=e,n;case x:return(t=Xu(t,e.mode,n)).return=e,t}if(wa(t)||q(t))return(t=$u(t,e.mode,n,null)).return=e,t;Ea(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?n.type===E?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null}if(wa(n)||q(n))return null!==i?null:f(e,t,n,r,null);Ea(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return e=e.get(null===r.key?n:r.key)||null,r.type===E?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(wa(r)||q(r))return f(t,e=e.get(n)||null,r,i,null);Ea(t,r)}return null}function v(i,o,s,u){for(var c=null,l=null,f=o,v=o=0,y=null;null!==f&&v<s.length;v++){f.index>v?(y=f,f=null):y=f.sibling;var m=d(i,f,s[v],u);if(null===m){null===f&&(f=y);break}e&&f&&null===m.alternate&&t(i,f),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m,f=y}if(v===s.length)return n(i,f),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<s.length;v++)null!==(y=p(f,i,v,s[v],u))&&(e&&null!==y.alternate&&f.delete(null===y.key?v:y.key),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y);return e&&f.forEach((function(e){return t(i,e)})),c}function y(i,s,u,c){var l=q(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var f=l=null,v=s,y=s=0,m=null,g=u.next();null!==v&&!g.done;y++,g=u.next()){v.index>y?(m=v,v=null):m=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=m);break}e&&v&&null===k.alternate&&t(i,v),s=a(k,s,y),null===f?l=k:f.sibling=k,f=k,v=m}if(g.done)return n(i,v),l;if(null===v){for(;!g.done;y++,g=u.next())null!==(g=h(i,g.value,c))&&(s=a(g,s,y),null===f?l=g:f.sibling=g,f=g);return l}for(v=r(i,v);!g.done;y++,g=u.next())null!==(g=p(v,i,y,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?y:g.key),s=a(g,s,y),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,u){var c="object"===typeof a&&null!==a&&a.type===E&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case w:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===E){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=xa(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===E?((r=$u(a.props.children,e.mode,u,a.key)).return=e,e=r):((u=Gu(a.type,a.key,a.props,null,e.mode,u)).ref=xa(e,r,a),u.return=e,e=u)}return s(e);case x:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Xu(a,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Yu(a,e.mode,u)).return=e,e=r),s(e);if(wa(a))return v(e,r,a,u);if(q(a))return y(e,r,a,u);if(l&&Ea(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,G(e.type)||"Component"))}return n(e,r)}}var Ta=Sa(!0),Ca=Sa(!1),Ia={},Na=ci(Ia),Aa=ci(Ia),Oa=ci(Ia);function Ra(e){if(e===Ia)throw Error(o(174));return e}function Pa(e,t){switch(fi(Oa,t),fi(Aa,e),fi(Na,Ia),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Na),fi(Na,t)}function Da(){li(Na),li(Aa),li(Oa)}function Fa(e){Ra(Oa.current);var t=Ra(Na.current),n=pe(t,e.type);t!==n&&(fi(Aa,e),fi(Na,n))}function La(e){Aa.current===e&&(li(Na),li(Aa))}var ja=ci(0);function Ma(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ua=null,Va=null,za=!1;function qa(e,t){var n=Wu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ba(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Wa(e){if(za){var t=Va;if(t){var n=t;if(!Ba(e,t)){if(!(t=$r(n.nextSibling))||!Ba(e,t))return e.flags=-1025&e.flags|2,za=!1,void(Ua=e);qa(Ua,n)}Ua=e,Va=$r(t.firstChild)}else e.flags=-1025&e.flags|2,za=!1,Ua=e}}function Ha(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ua=e}function Ka(e){if(e!==Ua)return!1;if(!za)return Ha(e),za=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Wr(t,e.memoizedProps))for(t=Va;t;)qa(e,t),t=$r(t.nextSibling);if(Ha(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Va=$r(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Va=null}}else Va=Ua?$r(e.stateNode.nextSibling):null;return!0}function Ga(){Va=Ua=null,za=!1}var $a=[];function Qa(){for(var e=0;e<$a.length;e++)$a[e]._workInProgressVersionPrimary=null;$a.length=0}var Ya=_.ReactCurrentDispatcher,Xa=_.ReactCurrentBatchConfig,Ja=0,Za=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,a){if(Ja=a,Za=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ya.current=null===e||null===e.memoizedState?Po:Do,e=n(r,i),ro){a=0;do{if(ro=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,Ya.current=Fo,e=n(r,i)}while(ro)}if(Ya.current=Ro,t=null!==eo&&null!==eo.next,Ja=0,to=eo=Za=null,no=!1,t)throw Error(o(300));return e}function so(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Za.memoizedState=to=e:to=to.next=e,to}function uo(){if(null===eo){var e=Za.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?Za.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?Za.memoizedState=to=e:to=to.next=e}return to}function co(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=a=null,c=i;do{var l=c.lane;if((Ja&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=f,a=r):u=u.next=f,Za.lanes|=l,zs|=l}c=c.next}while(null!==c&&c!==i);null===u?a=r:u.next=s,lr(r,t.memoizedState)||(jo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fo(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);lr(a,t.memoizedState)||(jo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Ja&e)===e)&&(t._workInProgressVersionPrimary=r,$a.push(t))),e)return n(t._source);throw $a.push(t),Error(o(350))}function po(e,t,n,r){var i=Ps;if(null===i)throw Error(o(349));var a=t._getVersion,s=a(t._source),u=Ya.current,c=u.useState((function(){return ho(i,t,n)})),l=c[1],f=c[0];c=to;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var y=Za;return e.memoizedState={refs:d,source:t,subscribe:r},u.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!lr(s,e)){e=n(t._source),lr(f,e)||(l(e),e=du(y),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var u=31-Wt(o),c=1<<u;r[u]|=e,o&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=du(y);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:f}).dispatch=l=Oo.bind(null,Za,e),c.queue=e,c.baseQueue=null,f=ho(i,t,n),c.memoizedState=c.baseState=f),f}function vo(e,t,n){return po(uo(),e,t,n)}function yo(e){var t=so();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=Oo.bind(null,Za,e),[t.memoizedState,e]}function mo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Za.updateQueue)?(t={lastEffect:null},Za.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function go(e){return e={current:e},so().memoizedState=e}function ko(){return uo().memoizedState}function bo(e,t,n,r){var i=so();Za.flags|=e,i.memoizedState=mo(1|t,n,void 0,void 0===r?null:r)}function _o(e,t,n,r){var i=uo();r=void 0===r?null:r;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==r&&ao(r,o.deps))return void mo(t,n,a,r)}Za.flags|=e,i.memoizedState=mo(1|t,n,a,r)}function wo(e,t){return bo(516,4,e,t)}function xo(e,t){return _o(516,4,e,t)}function Eo(e,t){return _o(4,2,e,t)}function So(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function To(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,_o(4,2,So.bind(null,t,e),n)}function Co(){}function Io(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function No(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ao(e,t){var n=Wi();Ki(98>n?98:n,(function(){e(!0)})),Ki(97<n?97:n,(function(){var n=Xa.transition;Xa.transition=1;try{e(!1),t()}finally{Xa.transition=n}}))}function Oo(e,t,n){var r=hu(),i=du(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Za||null!==o&&o===Za)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=o(s,n);if(a.eagerReducer=o,a.eagerState=u,lr(u,s))return}catch(c){}pu(e,i,r)}}var Ro={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Po={readContext:oa,useCallback:function(e,t){return so().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:wo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,So.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bo(4,2,e,t)},useMemo:function(e,t){var n=so();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=so();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Oo.bind(null,Za,e),[r.memoizedState,e]},useRef:go,useState:yo,useDebugValue:Co,useDeferredValue:function(e){var t=yo(e),n=t[0],r=t[1];return wo((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=yo(!1),t=e[0];return go(e=Ao.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=so();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(za){var e=!1,t=function(e){return{$$typeof:F,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Yr++).toString(36))),Error(o(355))})),n=yo(t)[1];return 0===(2&Za.mode)&&(Za.flags|=516,mo(5,(function(){n("r:"+(Yr++).toString(36))}),void 0,null)),t}return yo(t="r:"+(Yr++).toString(36)),t},unstable_isNewReconciler:!1},Do={readContext:oa,useCallback:Io,useContext:oa,useEffect:xo,useImperativeHandle:To,useLayoutEffect:Eo,useMemo:No,useReducer:lo,useRef:ko,useState:function(){return lo(co)},useDebugValue:Co,useDeferredValue:function(e){var t=lo(co),n=t[0],r=t[1];return xo((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=lo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return lo(co)[0]},unstable_isNewReconciler:!1},Fo={readContext:oa,useCallback:Io,useContext:oa,useEffect:xo,useImperativeHandle:To,useLayoutEffect:Eo,useMemo:No,useReducer:fo,useRef:ko,useState:function(){return fo(co)},useDebugValue:Co,useDeferredValue:function(e){var t=fo(co),n=t[0],r=t[1];return xo((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=fo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return fo(co)[0]},unstable_isNewReconciler:!1},Lo=_.ReactCurrentOwner,jo=!1;function Mo(e,t,n,r){t.child=null===e?Ca(t,null,n,r):Ta(t,e.child,n,r)}function Uo(e,t,n,r,i){n=n.render;var a=t.ref;return aa(t,i),r=oo(e,t,n,r,a,i),null===e||jo?(t.flags|=1,Mo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Vo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Hu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gu(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,zo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?as(e,t,a):(t.flags|=1,(e=Ku(o,r)).ref=t.ref,e.return=t,t.child=e)}function zo(e,t,n,r,i,a){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(jo=!1,0===(a&i))return t.lanes=e.lanes,as(e,t,a);0!==(16384&e.flags)&&(jo=!0)}return Wo(e,t,n,r,a)}function qo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},wu(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},wu(t,e),null;t.memoizedState={baseLanes:0},wu(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,wu(t,r);return Mo(e,t,i,n),t.child}function Bo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Wo(e,t,n,r,i){var a=mi(n)?vi:di.current;return a=yi(t,a),aa(t,i),n=oo(e,t,n,r,a,i),null===e||jo?(t.flags|=1,Mo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Ho(e,t,n,r,i){if(mi(n)){var a=!0;_i(t)}else a=!1;if(aa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ka(t,n,r),_a(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=oa(c):c=yi(t,c=mi(n)?vi:di.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&ba(t,o,r,c),sa=!1;var h=t.memoizedState;o.state=h,da(t,r,o,i),u=t.memoizedState,s!==r||h!==u||pi.current||sa?("function"===typeof l&&(ya(t,n,l,r),u=t.memoizedState),(s=sa||ga(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ca(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Xi(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=oa(u):u=yi(t,u=mi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&ba(t,o,r,u),sa=!1,h=t.memoizedState,o.state=h,da(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||pi.current||sa?("function"===typeof d&&(ya(t,n,d,r),p=t.memoizedState),(c=sa||ga(t,n,c,r,h,p,u))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Ko(e,t,n,r,a,i)}function Ko(e,t,n,r,i,a){Bo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&wi(t,n,!1),as(e,t,a);r=t.stateNode,Lo.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ta(t,e.child,null,a),t.child=Ta(t,null,s,a)):Mo(e,t,s,a),t.memoizedState=r.state,i&&wi(t,n,!0),t.child}function Go(e){var t=e.stateNode;t.pendingContext?ki(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ki(0,t.context,!1),Pa(e,t.containerInfo)}var $o,Qo,Yo,Xo={dehydrated:null,retryLane:0};function Jo(e,t,n){var r,i=t.pendingProps,a=ja.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),fi(ja,1&a),null===e?(void 0!==i.fallback&&Wa(t),e=i.children,a=i.fallback,o?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xo,e):"number"===typeof i.unstable_expectedLoadTime?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xo,t.lanes=33554432,e):((n=Qu({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=ts(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Xo,i):(n=es(e,t,i.children,n),t.memoizedState=null,n))}function Zo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Qu(t,i,0,null),n=$u(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function es(e,t,n,r){var i=e.child;return e=i.sibling,n=Ku(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ts(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var s={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=s,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Ku(o,s),null!==e?r=Ku(e,r):(r=$u(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ns(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ia(e.return,t)}function rs(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function is(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Mo(e,t,r.children,n),0!==(2&(r=ja.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(ja,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Ma(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rs(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Ma(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rs(t,!0,n,null,a,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function as(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),zs|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ku(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ku(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function os(e,t){if(!za)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ss(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return mi(t.type)&&gi(),null;case 3:return Da(),li(pi),li(di),Qa(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ka(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:La(t);var a=Ra(Oa.current);if(n=t.type,null!==e&&null!=t.stateNode)Qo(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Ra(Na.current),Ka(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Jr]=t,r[Zr]=s,n){case"dialog":Ar("cancel",r),Ar("close",r);break;case"iframe":case"object":case"embed":Ar("load",r);break;case"video":case"audio":for(e=0;e<Tr.length;e++)Ar(Tr[e],r);break;case"source":Ar("error",r);break;case"img":case"image":case"link":Ar("error",r),Ar("load",r);break;case"details":Ar("toggle",r);break;case"input":ee(r,s),Ar("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ar("invalid",r);break;case"textarea":ue(r,s),Ar("invalid",r)}for(var c in Ee(n,s),e=null,s)s.hasOwnProperty(c)&&(a=s[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):u.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Ar("scroll",r));switch(n){case"input":Y(r),re(r,s,!0);break;case"textarea":Y(r),le(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Vr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Jr]=t,e[Zr]=r,$o(e,t),t.stateNode=e,c=Se(n,r),n){case"dialog":Ar("cancel",e),Ar("close",e),a=r;break;case"iframe":case"object":case"embed":Ar("load",e),a=r;break;case"video":case"audio":for(a=0;a<Tr.length;a++)Ar(Tr[a],e);a=r;break;case"source":Ar("error",e),a=r;break;case"img":case"image":case"link":Ar("error",e),Ar("load",e),a=r;break;case"details":Ar("toggle",e),a=r;break;case"input":ee(e,r),a=Z(e,r),Ar("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Ar("invalid",e);break;case"textarea":ue(e,r),a=se(e,r),Ar("invalid",e);break;default:a=r}Ee(n,a);var l=a;for(s in l)if(l.hasOwnProperty(s)){var f=l[s];"style"===s?we(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&me(e,f):"children"===s?"string"===typeof f?("textarea"!==n||""!==f)&&ge(e,f):"number"===typeof f&&ge(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=f&&"onScroll"===s&&Ar("scroll",e):null!=f&&b(e,s,f,c))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+$(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?oe(e,!!r.multiple,s,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Vr)}Br(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Yo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Ra(Oa.current),Ra(Na.current),Ka(t)?(r=t.stateNode,n=t.memoizedProps,r[Jr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Jr]=t,t.stateNode=r)}return null;case 13:return li(ja),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ka(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&ja.current)?0===Ms&&(Ms=3):(0!==Ms&&3!==Ms||(Ms=4),null===Ps||0===(134217727&zs)&&0===(134217727&qs)||gu(Ps,Fs))),(r||n)&&(t.flags|=4),null);case 4:return Da(),null===e&&Rr(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(li(ja),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(c=r.rendering))if(s)os(r,!1);else{if(0!==Ms||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Ma(e))){for(t.flags|=64,os(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(ja,1&ja.current|2),t.child}e=e.sibling}null!==r.tail&&Bi()>Ks&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Ma(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),os(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!za)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Bi()-r.renderingStartTime>Ks&&1073741824!==n&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Bi(),n.sibling=null,t=ja.current,fi(ja,s?1&t|2:1&t),n):null;case 23:case 24:return xu(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function us(e){switch(e.tag){case 1:mi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Da(),li(pi),li(di),Qa(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return La(e),null;case 13:return li(ja),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(ja),null;case 4:return Da(),null;case 10:return ra(e),null;case 23:case 24:return xu(),null;default:return null}}function cs(e,t){try{var n="",r=t;do{n+=K(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function ls(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}$o=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Qo=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Ra(Na.current);var o,s=null;switch(n){case"input":a=Z(e,a),r=Z(e,r),s=[];break;case"option":a=ae(e,a),r=ae(e,r),s=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":a=se(e,a),r=se(e,r),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Vr)}for(f in Ee(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(u.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(u.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Ar("scroll",e),s||c===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===F?l.toString():(s=s||[]).push(f,l))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}},Yo=function(e,t,n,r){n!==r&&(t.flags|=4)};var fs="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=la(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ys||(Ys=!0,Xs=r),ls(0,t)},n}function ds(e,t,n){(n=la(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ls(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Js?Js=new Set([this]):Js.add(this),ls(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ps="function"===typeof WeakSet?WeakSet:Set;function vs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Vu(e,n)}else t.current=null}function ys(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Xi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gr(t.stateNode.containerInfo))}throw Error(o(163))}function ms(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(ju(n,e),Lu(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Xi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Br(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&wt(n)))))}throw Error(o(163))}function gs(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=_e("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ks(e,t){if(Ei&&"function"===typeof Ei.onCommitFiberUnmount)try{Ei.onCommitFiberUnmount(xi,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))ju(t,n);else{r=t;try{i()}catch(a){Vu(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vs(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Vu(t,a)}break;case 5:vs(t);break;case 4:Ss(e,t)}}function bs(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function _s(e){return 5===e.tag||3===e.tag||4===e.tag}function ws(e){e:{for(var t=e.return;null!==t;){if(_s(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||_s(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?xs(e,n,t):Es(e,n,t)}function xs(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Vr));else if(4!==r&&null!==(e=e.child))for(xs(e,t,n),e=e.sibling;null!==e;)xs(e,t,n),e=e.sibling}function Es(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Es(e,t,n),e=e.sibling;null!==e;)Es(e,t,n),e=e.sibling}function Ss(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,c=u;;)if(ks(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ks(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Ts(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Zr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Se(e,i),t=Se(e,r),i=0;i<a.length;i+=2){var s=a[i],u=a[i+1];"style"===s?we(n,u):"dangerouslySetInnerHTML"===s?me(n,u):"children"===s?ge(n,u):b(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,wt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Hs=Bi(),gs(t.child,!0)),void Cs(t);case 19:return void Cs(t);case 23:case 24:return void gs(t,null!==t.memoizedState)}throw Error(o(163))}function Cs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ps),t.forEach((function(t){var r=qu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Is(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Ns=Math.ceil,As=_.ReactCurrentDispatcher,Os=_.ReactCurrentOwner,Rs=0,Ps=null,Ds=null,Fs=0,Ls=0,js=ci(0),Ms=0,Us=null,Vs=0,zs=0,qs=0,Bs=0,Ws=null,Hs=0,Ks=1/0;function Gs(){Ks=Bi()+500}var $s,Qs=null,Ys=!1,Xs=null,Js=null,Zs=!1,eu=null,tu=90,nu=[],ru=[],iu=null,au=0,ou=null,su=-1,uu=0,cu=0,lu=null,fu=!1;function hu(){return 0!==(48&Rs)?Bi():-1!==su?su:su=Bi()}function du(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Wi()?1:2;if(0===uu&&(uu=Vs),0!==Yi.transition){0!==cu&&(cu=null!==Ws?Ws.pendingLanes:0),e=uu;var t=4186112&~cu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Wi(),0!==(4&Rs)&&98===e?e=Vt(12,uu):e=Vt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),uu),e}function pu(e,t,n){if(50<au)throw au=0,ou=null,Error(o(185));if(null===(e=vu(e,t)))return null;Bt(e,t,n),e===Ps&&(qs|=t,4===Ms&&gu(e,Fs));var r=Wi();1===t?0!==(8&Rs)&&0===(48&Rs)?ku(e):(yu(e,n),0===Rs&&(Gs(),$i())):(0===(4&Rs)||98!==r&&99!==r||(null===iu?iu=new Set([e]):iu.add(e)),yu(e,n)),Ws=e}function vu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function yu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-Wt(s),c=1<<u,l=a[u];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,jt(c);var f=Lt;a[u]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);s&=~c}if(r=Mt(e,e===Ps?Fs:0),t=Lt,0===r)null!==n&&(n!==ji&&Ci(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==ji&&Ci(n)}15===t?(n=ku.bind(null,e),null===Ui?(Ui=[n],Vi=Ti(Ri,Qi)):Ui.push(n),n=ji):14===t?n=Gi(99,ku.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Gi(n,mu.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function mu(e){if(su=-1,cu=uu=0,0!==(48&Rs))throw Error(o(327));var t=e.callbackNode;if(Fu()&&e.callbackNode!==t)return null;var n=Mt(e,e===Ps?Fs:0);if(0===n)return null;var r=n,i=Rs;Rs|=16;var a=Tu();for(Ps===e&&Fs===r||(Gs(),Eu(e,r));;)try{Nu();break}catch(u){Su(e,u)}if(na(),As.current=a,Rs=i,null!==Ds?r=0:(Ps=null,Fs=0,r=Ms),0!==(Vs&qs))Eu(e,0);else if(0!==r){if(2===r&&(Rs|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(n=Ut(e))&&(r=Cu(e,n))),1===r)throw t=Us,Eu(e,0),gu(e,n),yu(e,Bi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Ru(e);break;case 3:if(gu(e,n),(62914560&n)===n&&10<(r=Hs+500-Bi())){if(0!==Mt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Hr(Ru.bind(null,e),r);break}Ru(e);break;case 4:if(gu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Wt(n);a=1<<s,(s=r[s])>i&&(i=s),n&=~a}if(n=i,10<(n=(120>(n=Bi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ns(n/1960))-n)){e.timeoutHandle=Hr(Ru.bind(null,e),n);break}Ru(e);break;default:throw Error(o(329))}}return yu(e,Bi()),e.callbackNode===t?mu.bind(null,e):null}function gu(e,t){for(t&=~Bs,t&=~qs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Wt(t),r=1<<n;e[n]=-1,t&=~r}}function ku(e){if(0!==(48&Rs))throw Error(o(327));if(Fu(),e===Ps&&0!==(e.expiredLanes&Fs)){var t=Fs,n=Cu(e,t);0!==(Vs&qs)&&(n=Cu(e,t=Mt(e,t)))}else n=Cu(e,t=Mt(e,0));if(0!==e.tag&&2===n&&(Rs|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(t=Ut(e))&&(n=Cu(e,t))),1===n)throw n=Us,Eu(e,0),gu(e,t),yu(e,Bi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ru(e),yu(e,Bi()),null}function bu(e,t){var n=Rs;Rs|=1;try{return e(t)}finally{0===(Rs=n)&&(Gs(),$i())}}function _u(e,t){var n=Rs;Rs&=-2,Rs|=8;try{return e(t)}finally{0===(Rs=n)&&(Gs(),$i())}}function wu(e,t){fi(js,Ls),Ls|=t,Vs|=t}function xu(){Ls=js.current,li(js)}function Eu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Kr(n)),null!==Ds)for(n=Ds.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gi();break;case 3:Da(),li(pi),li(di),Qa();break;case 5:La(r);break;case 4:Da();break;case 13:case 19:li(ja);break;case 10:ra(r);break;case 23:case 24:xu()}n=n.return}Ps=e,Ds=Ku(e.current,null),Fs=Ls=Vs=t,Ms=0,Us=null,Bs=qs=zs=0}function Su(e,t){for(;;){var n=Ds;try{if(na(),Ya.current=Ro,no){for(var r=Za.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if(Ja=0,to=eo=Za=null,ro=!1,Os.current=null,null===n||null===n.return){Ms=1,Us=t,Ds=null;break}e:{var a=e,o=n.return,s=n,u=t;if(t=Fs,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!==(1&ja.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var y=h.updateQueue;if(null===y){var m=new Set;m.add(c),h.updateQueue=m}else y.add(c);if(0===(2&h.mode)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var g=la(-1,1);g.tag=2,fa(s,g)}s.lanes|=1;break e}u=void 0,s=t;var k=a.pingCache;if(null===k?(k=a.pingCache=new fs,u=new Set,k.set(c,u)):void 0===(u=k.get(c))&&(u=new Set,k.set(c,u)),!u.has(s)){u.add(s);var b=zu.bind(null,a,c,s);c.then(b,b)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);u=Error((G(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Ms&&(Ms=2),u=cs(u,s),h=o;do{switch(h.tag){case 3:a=u,h.flags|=4096,t&=-t,h.lanes|=t,ha(h,hs(0,a,t));break e;case 1:a=u;var _=h.type,w=h.stateNode;if(0===(64&h.flags)&&("function"===typeof _.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Js||!Js.has(w)))){h.flags|=4096,t&=-t,h.lanes|=t,ha(h,ds(h,a,t));break e}}h=h.return}while(null!==h)}Ou(n)}catch(x){t=x,Ds===n&&null!==n&&(Ds=n=n.return);continue}break}}function Tu(){var e=As.current;return As.current=Ro,null===e?Ro:e}function Cu(e,t){var n=Rs;Rs|=16;var r=Tu();for(Ps===e&&Fs===t||Eu(e,t);;)try{Iu();break}catch(i){Su(e,i)}if(na(),Rs=n,As.current=r,null!==Ds)throw Error(o(261));return Ps=null,Fs=0,Ms}function Iu(){for(;null!==Ds;)Au(Ds)}function Nu(){for(;null!==Ds&&!Ii();)Au(Ds)}function Au(e){var t=$s(e.alternate,e,Ls);e.memoizedProps=e.pendingProps,null===t?Ou(e):Ds=t,Os.current=null}function Ou(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ss(n,t,Ls)))return void(Ds=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ls)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=us(t)))return n.flags&=2047,void(Ds=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ds=t);Ds=t=e}while(null!==t);0===Ms&&(Ms=5)}function Ru(e){var t=Wi();return Ki(99,Pu.bind(null,e,t)),null}function Pu(e,t){do{Fu()}while(null!==eu);if(0!==(48&Rs))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<a;){var c=31-Wt(a),l=1<<c;i[c]=0,s[c]=-1,u[c]=-1,a&=~l}if(null!==iu&&0===(24&r)&&iu.has(e)&&iu.delete(e),e===Ps&&(Ds=Ps=null,Fs=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Rs,Rs|=32,Os.current=null,zr=Qt,mr(s=yr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(T){u=null;break e}var f=0,h=-1,d=-1,p=0,v=0,y=s,m=null;t:for(;;){for(var g;y!==u||0!==a&&3!==y.nodeType||(h=f+a),y!==c||0!==l&&3!==y.nodeType||(d=f+l),3===y.nodeType&&(f+=y.nodeValue.length),null!==(g=y.firstChild);)m=y,y=g;for(;;){if(y===s)break t;if(m===u&&++p===a&&(h=f),m===c&&++v===l&&(d=f),null!==(g=y.nextSibling))break;m=(y=m).parentNode}y=g}u=-1===h||-1===d?null:{start:h,end:d}}else u=null;u=u||{start:0,end:0}}else u=null;qr={focusedElem:s,selectionRange:u},Qt=!1,lu=null,fu=!1,Qs=r;do{try{Du()}catch(T){if(null===Qs)throw Error(o(330));Vu(Qs,T),Qs=Qs.nextEffect}}while(null!==Qs);lu=null,Qs=r;do{try{for(s=e;null!==Qs;){var k=Qs.flags;if(16&k&&ge(Qs.stateNode,""),128&k){var b=Qs.alternate;if(null!==b){var _=b.ref;null!==_&&("function"===typeof _?_(null):_.current=null)}}switch(1038&k){case 2:ws(Qs),Qs.flags&=-3;break;case 6:ws(Qs),Qs.flags&=-3,Ts(Qs.alternate,Qs);break;case 1024:Qs.flags&=-1025;break;case 1028:Qs.flags&=-1025,Ts(Qs.alternate,Qs);break;case 4:Ts(Qs.alternate,Qs);break;case 8:Ss(s,u=Qs);var w=u.alternate;bs(u),null!==w&&bs(w)}Qs=Qs.nextEffect}}catch(T){if(null===Qs)throw Error(o(330));Vu(Qs,T),Qs=Qs.nextEffect}}while(null!==Qs);if(_=qr,b=yr(),k=_.focusedElem,s=_.selectionRange,b!==k&&k&&k.ownerDocument&&vr(k.ownerDocument.documentElement,k)){null!==s&&mr(k)&&(b=s.start,void 0===(_=s.end)&&(_=b),"selectionStart"in k?(k.selectionStart=b,k.selectionEnd=Math.min(_,k.value.length)):(_=(b=k.ownerDocument||document)&&b.defaultView||window).getSelection&&(_=_.getSelection(),u=k.textContent.length,w=Math.min(s.start,u),s=void 0===s.end?w:Math.min(s.end,u),!_.extend&&w>s&&(u=s,s=w,w=u),u=pr(k,w),a=pr(k,s),u&&a&&(1!==_.rangeCount||_.anchorNode!==u.node||_.anchorOffset!==u.offset||_.focusNode!==a.node||_.focusOffset!==a.offset)&&((b=b.createRange()).setStart(u.node,u.offset),_.removeAllRanges(),w>s?(_.addRange(b),_.extend(a.node,a.offset)):(b.setEnd(a.node,a.offset),_.addRange(b))))),b=[];for(_=k;_=_.parentNode;)1===_.nodeType&&b.push({element:_,left:_.scrollLeft,top:_.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<b.length;k++)(_=b[k]).element.scrollLeft=_.left,_.element.scrollTop=_.top}Qt=!!zr,qr=zr=null,e.current=n,Qs=r;do{try{for(k=e;null!==Qs;){var x=Qs.flags;if(36&x&&ms(k,Qs.alternate,Qs),128&x){b=void 0;var E=Qs.ref;if(null!==E){var S=Qs.stateNode;Qs.tag,b=S,"function"===typeof E?E(b):E.current=b}}Qs=Qs.nextEffect}}catch(T){if(null===Qs)throw Error(o(330));Vu(Qs,T),Qs=Qs.nextEffect}}while(null!==Qs);Qs=null,Mi(),Rs=i}else e.current=n;if(Zs)Zs=!1,eu=e,tu=t;else for(Qs=r;null!==Qs;)t=Qs.nextEffect,Qs.nextEffect=null,8&Qs.flags&&((x=Qs).sibling=null,x.stateNode=null),Qs=t;if(0===(r=e.pendingLanes)&&(Js=null),1===r?e===ou?au++:(au=0,ou=e):au=0,n=n.stateNode,Ei&&"function"===typeof Ei.onCommitFiberRoot)try{Ei.onCommitFiberRoot(xi,n,void 0,64===(64&n.current.flags))}catch(T){}if(yu(e,Bi()),Ys)throw Ys=!1,e=Xs,Xs=null,e;return 0!==(8&Rs)||$i(),null}function Du(){for(;null!==Qs;){var e=Qs.alternate;fu||null===lu||(0!==(8&Qs.flags)?et(Qs,lu)&&(fu=!0):13===Qs.tag&&Is(e,Qs)&&et(Qs,lu)&&(fu=!0));var t=Qs.flags;0!==(256&t)&&ys(e,Qs),0===(512&t)||Zs||(Zs=!0,Gi(97,(function(){return Fu(),null}))),Qs=Qs.nextEffect}}function Fu(){if(90!==tu){var e=97<tu?97:tu;return tu=90,Ki(e,Mu)}return!1}function Lu(e,t){nu.push(t,e),Zs||(Zs=!0,Gi(97,(function(){return Fu(),null})))}function ju(e,t){ru.push(t,e),Zs||(Zs=!0,Gi(97,(function(){return Fu(),null})))}function Mu(){if(null===eu)return!1;var e=eu;if(eu=null,0!==(48&Rs))throw Error(o(331));var t=Rs;Rs|=32;var n=ru;ru=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===a)throw Error(o(330));Vu(a,c)}}for(n=nu,nu=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var u=i.create;i.destroy=u()}catch(c){if(null===a)throw Error(o(330));Vu(a,c)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Rs=t,$i(),!0}function Uu(e,t,n){fa(e,t=hs(0,t=cs(n,t),1)),t=hu(),null!==(e=vu(e,1))&&(Bt(e,1,t),yu(e,t))}function Vu(e,t){if(3===e.tag)Uu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Uu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Js||!Js.has(r))){var i=ds(n,e=cs(t,e),1);if(fa(n,i),i=hu(),null!==(n=vu(n,1)))Bt(n,1,i),yu(n,i);else if("function"===typeof r.componentDidCatch&&(null===Js||!Js.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function zu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hu(),e.pingedLanes|=e.suspendedLanes&n,Ps===e&&(Fs&n)===n&&(4===Ms||3===Ms&&(62914560&Fs)===Fs&&500>Bi()-Hs?Eu(e,0):Bs|=n),yu(e,t)}function qu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Wi()?1:2:(0===uu&&(uu=Vs),0===(t=zt(62914560&~uu))&&(t=4194304))),n=hu(),null!==(e=vu(e,t))&&(Bt(e,t,n),yu(e,n))}function Bu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Wu(e,t,n,r){return new Bu(e,t,n,r)}function Hu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ku(e,t){var n=e.alternate;return null===n?((n=Wu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gu(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Hu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case E:return $u(n.children,i,a,t);case L:s=8,i|=16;break;case S:s=8,i|=1;break;case T:return(e=Wu(12,n,t,8|i)).elementType=T,e.type=T,e.lanes=a,e;case A:return(e=Wu(13,n,t,i)).type=A,e.elementType=A,e.lanes=a,e;case O:return(e=Wu(19,n,t,i)).elementType=O,e.lanes=a,e;case j:return Qu(n,i,a,t);case M:return(e=Wu(24,n,t,i)).elementType=M,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case I:s=9;break e;case N:s=11;break e;case R:s=14;break e;case P:s=16,r=null;break e;case D:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Wu(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function $u(e,t,n,r){return(e=Wu(7,e,r,t)).lanes=n,e}function Qu(e,t,n,r){return(e=Wu(23,e,r,t)).elementType=j,e.lanes=n,e}function Yu(e,t,n){return(e=Wu(6,e,null,t)).lanes=n,e}function Xu(e,t,n){return(t=Wu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ju(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=qt(0),this.expirationTimes=qt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qt(0),this.mutableSourceEagerHydrationData=null}function Zu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,a=hu(),s=du(i);e:if(n){t:{if(Ye(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(mi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(o(171))}if(1===n.tag){var c=n.type;if(mi(c)){n=bi(n,c,u);break e}}n=u}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=la(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fa(i,t),pu(i,s,a),s}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Ju(e,t,null!=n&&!0===n.hydrate),t=Wu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ua(t),e[ei]=n.current,Rr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ac(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=tc(o);s.call(e)}}ec(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var u=i;i=function(){var e=tc(o);u.call(e)}}_u((function(){ec(t,o,e,i)}))}return tc(o)}function sc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ac(t))throw Error(o(200));return Zu(e,t,null,n)}$s=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)jo=!0;else{if(0===(n&r)){switch(jo=!1,t.tag){case 3:Go(t),Ga();break;case 5:Fa(t);break;case 1:mi(t.type)&&_i(t);break;case 4:Pa(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi(Ji,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Jo(e,t,n):(fi(ja,1&ja.current),null!==(t=as(e,t,n))?t.sibling:null);fi(ja,1&ja.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return is(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(ja,ja.current),r)break;return null;case 23:case 24:return t.lanes=0,qo(e,t,n)}return as(e,t,n)}jo=0!==(16384&e.flags)}else jo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=yi(t,di.current),aa(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,mi(r)){var a=!0;_i(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ua(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&ya(t,r,s,e),i.updater=ma,t.stateNode=i,i._reactInternals=t,_a(t,r,e,n),t=Ko(null,t,r,!0,a,n)}else t.tag=0,Mo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Hu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===R)return 14}return 2}(i),e=Xi(i,e),a){case 0:t=Wo(null,t,i,e,n);break e;case 1:t=Ho(null,t,i,e,n);break e;case 11:t=Uo(null,t,i,e,n);break e;case 14:t=Vo(null,t,i,Xi(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Wo(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ho(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 3:if(Go(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ca(e,t),da(t,r,null,n),(r=t.memoizedState.element)===i)Ga(),t=as(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Va=$r(t.stateNode.containerInfo.firstChild),Ua=t,a=za=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],$a.push(a);for(n=Ca(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Mo(e,t,r,n),Ga();t=t.child}return t;case 5:return Fa(t),null===e&&Wa(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,Wr(r,i)?s=null:null!==a&&Wr(r,a)&&(t.flags|=16),Bo(e,t),Mo(e,t,s,n),t.child;case 6:return null===e&&Wa(t),null;case 13:return Jo(e,t,n);case 4:return Pa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ta(t,null,r,n):Mo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Uo(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 7:return Mo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Mo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value;var u=t.type._context;if(fi(Ji,u._currentValue),u._currentValue=a,null!==s)if(u=s.value,0===(a=lr(u,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,a):1073741823))){if(s.children===i.children&&!pi.current){t=as(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===u.tag&&((l=la(-1,n&-n)).tag=2,fa(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),ia(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Mo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(i=oa(i,a.unstable_observedBits)),t.flags|=1,Mo(e,t,r,n),t.child;case 14:return a=Xi(i=t.type,t.pendingProps),Vo(e,t,i,a=Xi(i.type,a),r,n);case 15:return zo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,mi(r)?(e=!0,_i(t)):e=!1,aa(t,n),ka(t,r,i),_a(t,r,i,n),Ko(null,t,r,!0,e,n);case 19:return is(e,t,n);case 23:case 24:return qo(e,t,n)}throw Error(o(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(pu(e,4,hu()),rc(e,4))},nt=function(e){13===e.tag&&(pu(e,67108864,hu()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=hu(),n=du(e);pu(e,n,t),rc(e,n)}},it=function(e,t){return t()},Ce=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(o(90));X(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Pe=bu,De=function(e,t,n,r,i){var a=Rs;Rs|=4;try{return Ki(98,e.bind(null,t,n,r,i))}finally{0===(Rs=a)&&(Gs(),$i())}},Fe=function(){0===(49&Rs)&&(function(){if(null!==iu){var e=iu;iu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,yu(e,Bi())}))}$i()}(),Fu())},Le=function(e,t){var n=Rs;Rs|=2;try{return e(t)}finally{0===(Rs=n)&&(Gs(),$i())}};var uc={Events:[ri,ii,ai,Oe,Re,Fu,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{xi=fc.inject(lc),Ei=fc}catch(ye){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uc,t.createPortal=sc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Rs;if(0!==(48&n))return e(t);Rs|=1;try{if(e)return Ki(99,e.bind(null,t))}finally{Rs=n,$i()}},t.hydrate=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ac(e))throw Error(o(40));return!!e._reactRootContainer&&(_u((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=bu,t.unstable_createPortal=function(e,t){return sc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ac(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},77:function(e){"use strict";var t=Array.isArray,n=Object.keys,r=Object.prototype.hasOwnProperty,i="undefined"!==typeof Element;function a(e,o){if(e===o)return!0;if(e&&o&&"object"==typeof e&&"object"==typeof o){var s,u,c,l=t(e),f=t(o);if(l&&f){if((u=e.length)!=o.length)return!1;for(s=u;0!==s--;)if(!a(e[s],o[s]))return!1;return!0}if(l!=f)return!1;var h=e instanceof Date,d=o instanceof Date;if(h!=d)return!1;if(h&&d)return e.getTime()==o.getTime();var p=e instanceof RegExp,v=o instanceof RegExp;if(p!=v)return!1;if(p&&v)return e.toString()==o.toString();var y=n(e);if((u=y.length)!==n(o).length)return!1;for(s=u;0!==s--;)if(!r.call(o,y[s]))return!1;if(i&&e instanceof Element&&o instanceof Element)return e===o;for(s=u;0!==s--;)if(("_owner"!==(c=y[s])||!e.$$typeof)&&!a(e[c],o[c]))return!1;return!0}return e!==e&&o!==o}e.exports=function(e,t){try{return a(e,t)}catch(n){if(n.message&&n.message.match(/stack|recursion/i)||-2146828260===n.number)return console.warn("Warning: react-fast-compare does not handle circular references.",n.name,n.message),!1;throw n}}},1372:function(e,t){"use strict";var n=60103,r=60106,i=60107,a=60108,o=60114,s=60109,u=60110,c=60112,l=60113,f=60120,h=60115,d=60116,p=60121,v=60122,y=60117,m=60129,g=60131;if("function"===typeof Symbol&&Symbol.for){var k=Symbol.for;n=k("react.element"),r=k("react.portal"),i=k("react.fragment"),a=k("react.strict_mode"),o=k("react.profiler"),s=k("react.provider"),u=k("react.context"),c=k("react.forward_ref"),l=k("react.suspense"),f=k("react.suspense_list"),h=k("react.memo"),d=k("react.lazy"),p=k("react.block"),v=k("react.server.block"),y=k("react.fundamental"),m=k("react.debug_trace_mode"),g=k("react.legacy_hidden")}function b(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case o:case a:case l:case f:return e;default:switch(e=e&&e.$$typeof){case u:case c:case d:case h:case s:return e;default:return t}}case r:return t}}}},7441:function(e,t,n){"use strict";n(1372)},6374:function(e,t,n){"use strict";n(1725);var r=n(2791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},9117:function(e,t,n){"use strict";var r=n(1725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,s=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),s=f("react.context"),u=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function m(){}function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},m.prototype=y.prototype;var k=g.prototype=new m;k.constructor=g,r(k,y.prototype),k.isPureReactComponent=!0;var b={current:null},_=Object.prototype.hasOwnProperty,w={key:!0,ref:!0,__self:!0,__source:!0};function x(e,t,n){var r,a={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,r)&&!w.hasOwnProperty(r)&&(a[r]=t[r]);var u=arguments.length-2;if(1===u)a.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===a[r]&&(a[r]=u[r]);return{$$typeof:i,type:e,key:o,ref:s,props:a,_owner:b.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var S=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,n,r,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case a:u=!0}}if(u)return o=o(u=e),e=""===r?"."+T(u,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(S,"$&/")+"/"),C(o,t,n,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(S,"$&/")+"/")+e)),t.push(o)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+T(s=e[c],c);u+=C(s,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=C(s=s.value,t,n,l=r+T(s,c++),o);else if("object"===s)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function I(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var A={current:null};function O(){var e=A.current;if(null===e)throw Error(d(321));return e}var R={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:I,forEach:function(e,t,n){I(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return I(e,(function(){t++})),t},toArray:function(e){return I(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error(d(143));return e}},t.Component=y,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=b.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)_.call(t,l)&&!w.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:s,props:a,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=x,t.createFactory=function(e){var t=x.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return O().useCallback(e,t)},t.useContext=function(e,t){return O().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return O().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return O().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return O().useLayoutEffect(e,t)},t.useMemo=function(e,t){return O().useMemo(e,t)},t.useReducer=function(e,t,n){return O().useReducer(e,t,n)},t.useRef=function(e){return O().useRef(e)},t.useState=function(e){return O().useState(e)},t.version="17.0.2"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},9727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(O){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),o=new I(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return A()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=S(o,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=l(e,t,n);if("normal"===u.type){if(r=n.done?p:h,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(O){return{type:"throw",arg:O}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function y(){}function m(){}function g(){}var k={};u(k,a,(function(){return this}));var b=Object.getPrototypeOf,_=b&&b(b(N([])));_&&_!==n&&r.call(_,a)&&(k=_);var w=g.prototype=y.prototype=Object.create(k);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(i,a,o,s){var u=l(e[i],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(u.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function S(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,S(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function N(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:A}}function A(){return{value:t,done:!0}}return m.prototype=g,u(w,"constructor",g),u(g,"constructor",m),m.displayName=u(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,s,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},x(E.prototype),u(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new E(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},x(w),u(w,s,"Generator"),u(w,a,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:N(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},6813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,y=null,m=-1,g=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,_=b.port2;b.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();k=e+g;try{y(!0,e)?_.postMessage(null):(v=!1,y=null)}catch(n){throw _.postMessage(null),n}}else v=!1},n=function(e){y=e,v||(v=!0,_.postMessage(null))},r=function(e,n){m=h((function(){e(t.unstable_now())}),n)},i=function(){d(m),m=-1}}function w(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<S(i,t)))break e;e[r]=t,e[n]=i,n=r}}function x(e){return void 0===(e=e[0])?null:e}function E(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],s=a+1,u=e[s];if(void 0!==o&&0>S(o,n))void 0!==u&&0>S(u,o)?(e[r]=u,e[s]=n,r=s):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==u&&0>S(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function S(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var T=[],C=[],I=1,N=null,A=3,O=!1,R=!1,P=!1;function D(e){for(var t=x(C);null!==t;){if(null===t.callback)E(C);else{if(!(t.startTime<=e))break;E(C),t.sortIndex=t.expirationTime,w(T,t)}t=x(C)}}function F(e){if(P=!1,D(e),!R)if(null!==x(T))R=!0,n(L);else{var t=x(C);null!==t&&r(F,t.startTime-e)}}function L(e,n){R=!1,P&&(P=!1,i()),O=!0;var a=A;try{for(D(n),N=x(T);null!==N&&(!(N.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=N.callback;if("function"===typeof o){N.callback=null,A=N.priorityLevel;var s=o(N.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?N.callback=s:N===x(T)&&E(T),D(n)}else E(T);N=x(T)}if(null!==N)var u=!0;else{var c=x(C);null!==c&&r(F,c.startTime-n),u=!1}return u}finally{N=null,A=a,O=!1}}var j=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){R||O||(R=!0,n(L))},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_getFirstCallbackNode=function(){return x(T)},t.unstable_next=function(e){switch(A){case 1:case 2:case 3:var t=3;break;default:t=A}var n=A;A=t;try{return e()}finally{A=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=j,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=A;A=e;try{return t()}finally{A=n}},t.unstable_scheduleCallback=function(e,a,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:I++,callback:a,priorityLevel:e,startTime:o,expirationTime:u=o+u,sortIndex:-1},o>s?(e.sortIndex=o,w(C,e),null===x(T)&&e===x(C)&&(P?i():P=!0,r(F,o-s))):(e.sortIndex=u,w(T,e),R||O||(R=!0,n(L))),e},t.unstable_wrapCallback=function(e){var t=A;return function(){var n=A;A=t;try{return e.apply(this,arguments)}finally{A=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},6514:function(e){function t(e,t){var n=e.length,r=new Array(n),i={},a=n,o=function(e){for(var t=new Map,n=0,r=e.length;n<r;n++){var i=e[n];t.has(i[0])||t.set(i[0],new Set),t.has(i[1])||t.set(i[1],new Set),t.get(i[0]).add(i[1])}return t}(t),s=function(e){for(var t=new Map,n=0,r=e.length;n<r;n++)t.set(e[n],n);return t}(e);for(t.forEach((function(e){if(!s.has(e[0])||!s.has(e[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")}));a--;)i[a]||u(e[a],a,new Set);return r;function u(e,t,a){if(a.has(e)){var c;try{c=", node was:"+JSON.stringify(e)}catch(h){c=""}throw new Error("Cyclic dependency"+c)}if(!s.has(e))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(e));if(!i[t]){i[t]=!0;var l=o.get(e)||new Set;if(t=(l=Array.from(l)).length){a.add(e);do{var f=l[--t];u(f,s.get(f),a)}while(t);a.delete(e)}r[--n]=e}}}e.exports=function(e){return t(function(e){for(var t=new Set,n=0,r=e.length;n<r;n++){var i=e[n];t.add(i[0]),t.add(i[1])}return Array.from(t)}(e),e)},e.exports.array=t},5293:function(e,t,n){"use strict";e.exports=n.p+"static/media/1.26dd2f320f5d75b2124c.png"},8074:function(e,t,n){"use strict";e.exports=n.p+"static/media/2.e2a457a2dfffe878b293.png"},9279:function(e,t,n){"use strict";e.exports=n.p+"static/media/3.fa6ee7606f79fe188a8e.png"},5223:function(e,t,n){"use strict";e.exports=n.p+"static/media/4.bc60942f9314ceeed296.png"},111:function(e,t,n){"use strict";e.exports=n.p+"static/media/5.97c304e28974b56e8dc5.png"},9502:function(e,t,n){"use strict";e.exports=n.p+"static/media/6.d3da50a4dd8a9346dc34.png"},7417:function(e,t,n){"use strict";e.exports=n.p+"static/media/7.c13f9900d938db6d2a23.png"},4196:function(e,t,n){"use strict";e.exports=n.p+"static/media/8.bbaae238efd4bff32917.png"},831:function(e,t,n){"use strict";e.exports=n.p+"static/media/9.9edae11cef7f9d33df4d.png"},8081:function(e,t,n){"use strict";e.exports=n.p+"static/media/sizes_women.9e1652c85867d2f9da64.jpg"}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r](a,a.exports,n),a.loaded=!0,a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.p="/shine/",function(){"use strict";var e=n(2791),t=n(4164);function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}var s,u=s||(s={});u.Pop="POP",u.Push="PUSH",u.Replace="REPLACE";var c=function(e){return e};function l(e){e.preventDefault(),e.returnValue=""}function f(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function h(){return Math.random().toString(36).substr(2,8)}function d(e){var t=e.pathname;t=void 0===t?"/":t;var n=e.search;return n=void 0===n?"":n,e=void 0===(e=e.hash)?"":e,n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),e&&"#"!==e&&(t+="#"===e.charAt(0)?e:"#"+e),t}function p(e){var t={};if(e){var n=e.indexOf("#");0<=n&&(t.hash=e.substr(n),e=e.substr(0,n)),0<=(n=e.indexOf("?"))&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function v(e,t){if(!e)throw new Error(t)}var y=(0,e.createContext)(null);var m=(0,e.createContext)(null);var g=(0,e.createContext)({outlet:null,matches:[]});function k(t){var n=t.to,r=t.replace,i=t.state;S()||v(!1);var a=C();return(0,e.useEffect)((function(){a(n,{replace:r,state:i})})),null}function b(t){return function(t){var n=(0,e.useContext)(g).outlet;if(n)return(0,e.createElement)(I.Provider,{value:t},n);return n}(t.context)}function _(e){v(!1)}function w(t){var n=t.basename,r=void 0===n?"/":n,i=t.children,a=void 0===i?null:i,o=t.location,u=t.navigationType,c=void 0===u?s.Pop:u,l=t.navigator,f=t.static,h=void 0!==f&&f;S()&&v(!1);var d=z(r),g=(0,e.useMemo)((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof o&&(o=p(o));var k=o,b=k.pathname,_=void 0===b?"/":b,w=k.search,x=void 0===w?"":w,E=k.hash,T=void 0===E?"":E,C=k.state,I=void 0===C?null:C,N=k.key,A=void 0===N?"default":N,O=(0,e.useMemo)((function(){var e=U(_,d);return null==e?null:{pathname:e,search:x,hash:T,state:I,key:A}}),[d,_,x,T,I,A]);return null==O?null:(0,e.createElement)(y.Provider,{value:g},(0,e.createElement)(m.Provider,{children:a,value:{location:O,navigationType:c}}))}function x(t){var n=t.children,r=t.location;return function(t,n){S()||v(!1);var r=(0,e.useContext)(g).matches,i=r[r.length-1],a=i?i.params:{},o=(i&&i.pathname,i?i.pathnameBase:"/");i&&i.route;0;var s,u=T();if(n){var c,l="string"===typeof n?p(n):n;"/"===o||(null==(c=l.pathname)?void 0:c.startsWith(o))||v(!1),s=l}else s=u;var f=s.pathname||"/",h="/"===o?f:f.slice(o.length)||"/",d=function(e,t,n){void 0===n&&(n="/");var r=U(("string"===typeof t?p(t):t).pathname||"/",n);if(null==r)return null;var i=O(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=F(i[o],r);return a}(t,{pathname:h});0;return L(d&&d.map((function(e){return Object.assign({},e,{params:Object.assign({},a,e.params),pathname:V([o,e.pathname]),pathnameBase:"/"===e.pathnameBase?o:V([o,e.pathnameBase])})})),r)}(A(n),r)}function E(t){S()||v(!1);var n=(0,e.useContext)(y),r=n.basename,i=n.navigator,a=N(t),o=a.hash,s=a.pathname,u=a.search,c=s;if("/"!==r){var l=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?p(e).pathname:e.pathname}(t),f=null!=l&&l.endsWith("/");c="/"===s?r+(f?"/":""):V([r,s])}return i.createHref({pathname:c,search:u,hash:o})}function S(){return null!=(0,e.useContext)(m)}function T(){return S()||v(!1),(0,e.useContext)(m).location}function C(){S()||v(!1);var t=(0,e.useContext)(y),n=t.basename,r=t.navigator,i=(0,e.useContext)(g).matches,a=T().pathname,o=JSON.stringify(i.map((function(e){return e.pathnameBase}))),s=(0,e.useRef)(!1);(0,e.useEffect)((function(){s.current=!0}));var u=(0,e.useCallback)((function(e,t){if(void 0===t&&(t={}),s.current)if("number"!==typeof e){var i=M(e,JSON.parse(o),a);"/"!==n&&(i.pathname=V([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state)}else r.go(e)}),[n,r,o,a]);return u}var I=(0,e.createContext)(null);function N(t){var n=(0,e.useContext)(g).matches,r=T().pathname,i=JSON.stringify(n.map((function(e){return e.pathnameBase})));return(0,e.useMemo)((function(){return M(t,JSON.parse(i),r)}),[t,i,r])}function A(t){var n=[];return e.Children.forEach(t,(function(t){if((0,e.isValidElement)(t))if(t.type!==e.Fragment){t.type!==_&&v(!1);var r={caseSensitive:t.props.caseSensitive,element:t.props.element,index:t.props.index,path:t.props.path};t.props.children&&(r.children=A(t.props.children)),n.push(r)}else n.push.apply(n,A(t.props.children))})),n}function O(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||v(!1),a.relativePath=a.relativePath.slice(r.length));var o=V([r,a.relativePath]),s=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&v(!1),O(e.children,t,s,o)),(null!=e.path||e.index)&&t.push({path:o,score:D(o,e.index),routesMeta:s})})),t}var R=/^:\w+$/,P=function(e){return"*"===e};function D(e,t){var n=e.split("/"),r=n.length;return n.some(P)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!P(e)})).reduce((function(e,t){return e+(R.test(t)?3:""===t?1:10)}),r)}function F(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=j({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;a.push({params:r,pathname:V([i,l.pathname]),pathnameBase:V([i,l.pathnameBase]),route:f}),"/"!==l.pathnameBase&&(i=V([i,l.pathnameBase]))}return a}function L(t,n){return void 0===n&&(n=[]),null==t?null:t.reduceRight((function(r,i,a){return(0,e.createElement)(g.Provider,{children:void 0!==i.route.element?i.route.element:(0,e.createElement)(b,null),value:{outlet:r,matches:n.concat(t.slice(0,a+1))}})}),null)}function j(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=a(n,2),i=r[0],o=r[1],s=t.match(i);if(!s)return null;var u=s[0],c=u.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:o.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";c=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(e_){return e}}(l[n]||""),e}),{}),pathname:u,pathnameBase:c,pattern:e}}function M(e,t,n){var r,i="string"===typeof e?p(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var s=a.split("/");".."===s[0];)s.shift(),o-=1;i.pathname=s.join("/")}r=o>=0?t[o]:"/"}var u=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?p(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:q(a),hash:B(s)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!u.pathname.endsWith("/")&&(u.pathname+="/"),u}function U(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var V=function(e){return e.join("/").replace(/\/\/+/g,"/")},z=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},q=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},B=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function W(){return W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W.apply(this,arguments)}function H(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var K=["onClick","reloadDocument","replace","state","target","to"];function G(t){var n=t.basename,r=t.children,i=t.window,u=(0,e.useRef)();null==u.current&&(u.current=function(e){function t(){var e=u.location,t=v.state||{};return[t.idx,c({pathname:e.pathname,search:e.search,hash:e.hash,state:t.usr||null,key:t.key||"default"})]}function n(e){return"string"===typeof e?e:d(e)}function r(e,t){return void 0===t&&(t=null),c(o({pathname:k.pathname,hash:"",search:""},"string"===typeof e?p(e):e,{state:t,key:h()}))}function i(e){m=e,e=t(),g=e[0],k=e[1],b.call({action:m,location:k})}function a(e){v.go(e)}void 0===e&&(e={});var u=void 0===(e=e.window)?document.defaultView:e,v=u.history,y=null;u.addEventListener("popstate",(function(){if(y)_.call(y),y=null;else{var e=s.Pop,n=t(),r=n[0];if(n=n[1],_.length){if(null!=r){var o=g-r;o&&(y={action:e,location:n,retry:function(){a(-1*o)}},a(o))}}else i(e)}}));var m=s.Pop,g=(e=t())[0],k=e[1],b=f(),_=f();return null==g&&(g=0,v.replaceState(o({},v.state,{idx:g}),"")),{get action(){return m},get location(){return k},createHref:n,push:function e(t,a){var o=s.Push,c=r(t,a);if(!_.length||(_.call({action:o,location:c,retry:function(){e(t,a)}}),0)){var l=[{usr:c.state,key:c.key,idx:g+1},n(c)];c=l[0],l=l[1];try{v.pushState(c,"",l)}catch(Ue){u.location.assign(l)}i(o)}},replace:function e(t,a){var o=s.Replace,u=r(t,a);_.length&&(_.call({action:o,location:u,retry:function(){e(t,a)}}),1)||(u=[{usr:u.state,key:u.key,idx:g},n(u)],v.replaceState(u[0],"",u[1]),i(o))},go:a,back:function(){a(-1)},forward:function(){a(1)},listen:function(e){return b.push(e)},block:function(e){var t=_.push(e);return 1===_.length&&u.addEventListener("beforeunload",l),function(){t(),_.length||u.removeEventListener("beforeunload",l)}}}}({window:i}));var v=u.current,y=a((0,e.useState)({action:v.action,location:v.location}),2),m=y[0],g=y[1];return(0,e.useLayoutEffect)((function(){return v.listen(g)}),[v]),(0,e.createElement)(w,{basename:n,children:r,location:m.location,navigationType:m.action,navigator:v})}var $=(0,e.forwardRef)((function(t,n){var r=t.onClick,i=t.reloadDocument,a=t.replace,o=void 0!==a&&a,s=t.state,u=t.target,c=t.to,l=H(t,K),f=E(c),h=function(t,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,s=C(),u=T(),c=N(t);return(0,e.useCallback)((function(e){if(0===e.button&&(!i||"_self"===i)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)){e.preventDefault();var n=!!a||d(u)===d(c);s(t,{replace:n,state:o})}}),[u,s,c,a,o,i,t])}(c,{replace:o,state:s,target:u});return(0,e.createElement)("a",W({},l,{href:f,onClick:function(e){r&&r(e),e.defaultPrevented||i||h(e)},ref:n,target:u}))}));var Q=e.createContext(null);var Y=function(e){e()},X=function(){return Y};var J={notify:function(){},get:function(){return[]}};function Z(e,t){var n,r=J;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=X(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=J)},getListeners:function(){return r}};return o}var ee="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?e.useLayoutEffect:e.useEffect;var te=function(t){var n=t.store,r=t.context,i=t.children,a=(0,e.useMemo)((function(){var e=Z(n);return e.onStateChange=e.notifyNestedSubs,{store:n,subscription:e}}),[n]),o=(0,e.useMemo)((function(){return n.getState()}),[n]);ee((function(){var e=a.subscription;return e.trySubscribe(),o!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[a,o]);var s=r||Q;return e.createElement(s.Provider,{value:a},i)};n(2110),n(7441);var ne;function re(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function ie(e){return!!e&&!!e[Ge]}function ae(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===$e}(e)||Array.isArray(e)||!!e[Ke]||!!e.constructor[Ke]||he(e)||de(e))}function oe(e,t,n){void 0===n&&(n=!1),0===se(e)?(n?Object.keys:Qe)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function se(e){var t=e[Ge];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:he(e)?2:de(e)?3:0}function ue(e,t){return 2===se(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function ce(e,t){return 2===se(e)?e.get(t):e[t]}function le(e,t,n){var r=se(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function fe(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function he(e){return qe&&e instanceof Map}function de(e){return Be&&e instanceof Set}function pe(e){return e.o||e.t}function ve(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Ye(e);delete t[Ge];for(var n=Qe(t),r=0;r<n.length;r++){var i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function ye(e,t){return void 0===t&&(t=!1),ge(e)||ie(e)||!ae(e)||(se(e)>1&&(e.set=e.add=e.clear=e.delete=me),Object.freeze(e),t&&oe(e,(function(e,t){return ye(t,!0)}),!0)),e}function me(){re(2)}function ge(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function ke(e){var t=Xe[e];return t||re(18,e),t}function be(e,t){Xe[e]||(Xe[e]=t)}function _e(){return Ve}function we(e,t){t&&(ke("Patches"),e.u=[],e.s=[],e.v=t)}function xe(e){Ee(e),e.p.forEach(Te),e.p=null}function Ee(e){e===Ve&&(Ve=e.l)}function Se(e){return Ve={p:[],l:Ve,h:e,m:!0,_:0}}function Te(e){var t=e[Ge];0===t.i||1===t.i?t.j():t.O=!0}function Ce(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||ke("ES5").S(t,e,r),r?(n[Ge].P&&(xe(t),re(4)),ae(e)&&(e=Ie(t,e),t.l||Ae(t,e)),t.u&&ke("Patches").M(n[Ge],e,t.u,t.s)):e=Ie(t,n,[]),xe(t),t.u&&t.v(t.u,t.s),e!==He?e:void 0}function Ie(e,t,n){if(ge(t))return t;var r=t[Ge];if(!r)return oe(t,(function(i,a){return Ne(e,r,t,i,a,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return Ae(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=ve(r.k):r.o;oe(3===r.i?new Set(i):i,(function(t,a){return Ne(e,r,i,t,a,n)})),Ae(e,i,!1),n&&e.u&&ke("Patches").R(r,n,e.u,e.s)}return r.o}function Ne(e,t,n,r,i,a){if(ie(i)){var o=Ie(e,i,a&&t&&3!==t.i&&!ue(t.D,r)?a.concat(r):void 0);if(le(n,r,o),!ie(o))return;e.m=!1}if(ae(i)&&!ge(i)){if(!e.h.F&&e._<1)return;Ie(e,i),t&&t.A.l||Ae(e,i)}}function Ae(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&ye(t,n)}function Oe(e,t){var n=e[Ge];return(n?pe(n):e)[t]}function Re(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function Pe(e){e.P||(e.P=!0,e.l&&Pe(e.l))}function De(e){e.o||(e.o=ve(e.t))}function Fe(e,t,n){var r=he(t)?ke("MapSet").N(t,n):de(t)?ke("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:_e(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,a=Je;n&&(i=[r],a=Ze);var o=Proxy.revocable(i,a),s=o.revoke,u=o.proxy;return r.k=u,r.j=s,u}(t,n):ke("ES5").J(t,n);return(n?n.A:_e()).p.push(r),r}function Le(e){return ie(e)||re(22,e),function e(t){if(!ae(t))return t;var n,r=t[Ge],i=se(t);if(r){if(!r.P&&(r.i<4||!ke("ES5").K(r)))return r.t;r.I=!0,n=je(t,i),r.I=!1}else n=je(t,i);return oe(n,(function(t,i){r&&ce(r.t,t)===i||le(n,t,e(i))})),3===i?new Set(n):n}(e)}function je(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return ve(e)}function Me(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[Ge];return Je.get(t,e)},set:function(t){var n=this[Ge];Je.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][Ge];if(!i.P)switch(i.i){case 5:r(i)&&Pe(i);break;case 4:n(i)&&Pe(i)}}}function n(e){for(var t=e.t,n=e.k,r=Qe(n),i=r.length-1;i>=0;i--){var a=r[i];if(a!==Ge){var o=t[a];if(void 0===o&&!ue(t,a))return!0;var s=n[a],u=s&&s[Ge];if(u?u.t!==o:!fe(s,o))return!0}}var c=!!t[Ge];return r.length!==Qe(t).length+(c?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);return!(!n||n.get)}var i={};be("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var a=Ye(n);delete a[Ge];for(var o=Qe(a),s=0;s<o.length;s++){var u=o[s];a[u]=e(u,t||!!a[u].enumerable)}return Object.create(Object.getPrototypeOf(n),a)}(r,t),a={i:r?5:4,A:n?n.A:_e(),P:!1,I:!1,D:{},l:n,t:t,k:i,o:null,O:!1,C:!1};return Object.defineProperty(i,Ge,{value:a,writable:!0}),i},S:function(e,n,i){i?ie(n)&&n[Ge].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[Ge];if(n){var i=n.t,a=n.k,o=n.D,s=n.i;if(4===s)oe(a,(function(t){t!==Ge&&(void 0!==i[t]||ue(i,t)?o[t]||e(a[t]):(o[t]=!0,Pe(n)))})),oe(i,(function(e){void 0!==a[e]||ue(a,e)||(o[e]=!1,Pe(n))}));else if(5===s){if(r(n)&&(Pe(n),o.length=!0),a.length<i.length)for(var u=a.length;u<i.length;u++)o[u]=!1;else for(var c=i.length;c<a.length;c++)o[c]=!0;for(var l=Math.min(a.length,i.length),f=0;f<l;f++)void 0===o[f]&&e(a[f])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}ne=t.unstable_batchedUpdates,Y=ne;var Ue,Ve,ze="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),qe="undefined"!=typeof Map,Be="undefined"!=typeof Set,We="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,He=ze?Symbol.for("immer-nothing"):((Ue={})["immer-nothing"]=!0,Ue),Ke=ze?Symbol.for("immer-draftable"):"__$immer_draftable",Ge=ze?Symbol.for("immer-state"):"__$immer_state",$e=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),Qe="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Ye=Object.getOwnPropertyDescriptors||function(e){var t={};return Qe(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},Xe={},Je={get:function(e,t){if(t===Ge)return e;var n=pe(e);if(!ue(n,t))return function(e,t,n){var r,i=Re(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!ae(r)?r:r===Oe(e.t,t)?(De(e),e.o[t]=Fe(e.A.h,r,e)):r},has:function(e,t){return t in pe(e)},ownKeys:function(e){return Reflect.ownKeys(pe(e))},set:function(e,t,n){var r=Re(pe(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=Oe(pe(e),t),a=null==i?void 0:i[Ge];if(a&&a.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(fe(n,i)&&(void 0!==n||ue(e.t,t)))return!0;De(e),Pe(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==Oe(e.t,t)||t in e.t?(e.D[t]=!1,De(e),Pe(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=pe(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){re(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){re(12)}},Ze={};oe(Je,(function(e,t){Ze[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),Ze.deleteProperty=function(e,t){return Je.deleteProperty.call(this,e[0],t)},Ze.set=function(e,t,n){return Je.set.call(this,e[0],t,n,e[0])};var et=function(){function e(e){var t=this;this.g=We,this.F=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,o=Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return a.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(o))}))}}var o;if("function"!=typeof n&&re(6),void 0!==r&&"function"!=typeof r&&re(7),ae(e)){var s=Se(t),u=Fe(t,e,void 0),c=!0;try{o=n(u),c=!1}finally{c?xe(s):Ee(s)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return we(s,r),Ce(e,s)}),(function(e){throw xe(s),e})):(we(s,r),Ce(o,s))}if(!e||"object"!=typeof e){if((o=n(e))===He)return;return void 0===o&&(o=e),t.F&&ye(o,!0),o}re(21,e)},this.produceWithPatches=function(e,n){return"function"==typeof e?function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))}:[t.produce(e,n,(function(e,t){r=e,i=t})),r,i];var r,i},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){ae(e)||re(8),ie(e)&&(e=Le(e));var t=Se(this),n=Fe(this,e,void 0);return n[Ge].C=!0,Ee(t),n},t.finishDraft=function(e,t){var n=(e&&e[Ge]).A;return we(n,t),Ce(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!We&&re(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=ke("Patches").$;return ie(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),tt=new et,nt=tt.produce,rt=(tt.produceWithPatches.bind(tt),tt.setAutoFreeze.bind(tt),tt.setUseProxies.bind(tt),tt.applyPatches.bind(tt),tt.createDraft.bind(tt),tt.finishDraft.bind(tt),nt);function it(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function at(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?at(Object(n),!0).forEach((function(t){it(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):at(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function st(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var ut="function"===typeof Symbol&&Symbol.observable||"@@observable",ct=function(){return Math.random().toString(36).substring(7).split("").join(".")},lt={INIT:"@@redux/INIT"+ct(),REPLACE:"@@redux/REPLACE"+ct(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+ct()}};function ft(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function ht(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(st(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(st(1));return n(ht)(e,t)}if("function"!==typeof e)throw new Error(st(2));var i=e,a=t,o=[],s=o,u=!1;function c(){s===o&&(s=o.slice())}function l(){if(u)throw new Error(st(3));return a}function f(e){if("function"!==typeof e)throw new Error(st(4));if(u)throw new Error(st(5));var t=!0;return c(),s.push(e),function(){if(t){if(u)throw new Error(st(6));t=!1,c();var n=s.indexOf(e);s.splice(n,1),o=null}}}function h(e){if(!ft(e))throw new Error(st(7));if("undefined"===typeof e.type)throw new Error(st(8));if(u)throw new Error(st(9));try{u=!0,a=i(a,e)}finally{u=!1}for(var t=o=s,n=0;n<t.length;n++){(0,t[n])()}return e}function d(e){if("function"!==typeof e)throw new Error(st(10));i=e,h({type:lt.REPLACE})}function p(){var e,t=f;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(st(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[ut]=function(){return this},e}return h({type:lt.INIT}),(r={dispatch:h,subscribe:f,getState:l,replaceReducer:d})[ut]=p,r}function dt(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:lt.INIT}))throw new Error(st(12));if("undefined"===typeof n(void 0,{type:lt.PROBE_UNKNOWN_ACTION()}))throw new Error(st(13))}))}(n)}catch(s){a=s}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},s=0;s<o.length;s++){var u=o[s],c=n[u],l=e[u],f=c(l,t);if("undefined"===typeof f){t&&t.type;throw new Error(st(14))}i[u]=f,r=r||f!==l}return(r=r||o.length!==Object.keys(e).length)?i:e}}function pt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function vt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(st(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=pt.apply(void 0,a)(n.dispatch),ot(ot({},n),{},{dispatch:r})}}}function yt(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var mt=yt();mt.withExtraArgument=yt;var gt=mt,kt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),bt=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},_t=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},wt=Object.defineProperty,xt=Object.defineProperties,Et=Object.getOwnPropertyDescriptors,St=Object.getOwnPropertySymbols,Tt=Object.prototype.hasOwnProperty,Ct=Object.prototype.propertyIsEnumerable,It=function(e,t,n){return t in e?wt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Nt=function(e,t){for(var n in t||(t={}))Tt.call(t,n)&&It(e,n,t[n]);if(St)for(var r=0,i=St(t);r<i.length;r++){n=i[r];Ct.call(t,n)&&It(e,n,t[n])}return e},At=function(e,t){return xt(e,Et(t))},Ot="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?pt:pt.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function Rt(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}var Pt=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return kt(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,_t([void 0],e[0].concat(this)))):new(t.bind.apply(t,_t([void 0],e.concat(this))))},t}(Array);function Dt(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,new Pt);n&&(!function(e){return"boolean"===typeof e}(n)?r.push(gt.withExtraArgument(n.extraArgument)):r.push(gt));0;return r}(e)}}function Ft(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return Nt(Nt({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function Lt(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"===typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}function jt(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:rt(e.initialState,(function(){})),i=e.reducers||{},a=Object.keys(i),o={},s={},u={};function c(){var t="function"===typeof e.extraReducers?Lt(e.extraReducers):[e.extraReducers],n=t[0],i=void 0===n?{}:n,a=t[1],o=void 0===a?[]:a,u=t[2],c=void 0===u?void 0:u,l=Nt(Nt({},i),s);return function(e,t,n,r){void 0===n&&(n=[]);var i,a="function"===typeof t?Lt(t):[t,n,r],o=a[0],s=a[1],u=a[2];if(function(e){return"function"===typeof e}(e))i=function(){return rt(e(),(function(){}))};else{var c=rt(e,(function(){}));i=function(){return c}}function l(e,t){void 0===e&&(e=i());var n=_t([o[t.type]],s.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[u]),n.reduce((function(e,n){if(n){var r;if(ie(e))return"undefined"===typeof(r=n(e,t))?e:r;if(ae(e))return rt(e,(function(e){return n(e,t)}));if("undefined"===typeof(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return l.getInitialState=i,l}(r,l,o,c)}return a.forEach((function(e){var n,r,a=i[e],c=t+"/"+e;"reducer"in a?(n=a.reducer,r=a.prepare):n=a,o[e]=n,s[c]=n,u[e]=r?Ft(c,r):Ft(c)})),{name:t,reducer:function(e,t){return n||(n=c()),n(e,t)},actions:u,caseReducers:o,getInitialState:function(){return n||(n=c()),n.getInitialState()}}}var Mt=["name","message","stack","code"],Ut=function(e,t){this.payload=e,this.meta=t},Vt=function(e,t){this.payload=e,this.meta=t},zt=function(e){if("object"===typeof e&&null!==e){for(var t={},n=0,r=Mt;n<r.length;n++){var i=r[n];"string"===typeof e[i]&&(t[i]=e[i])}return t}return{message:String(e)}};function qt(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}Me();var Bt=jt({name:"auth",initialState:{currentUser:null},reducers:{setUser:function(e,t){e.currentUser=t.payload}}}),Wt=(Bt.actions.setUser,Bt.reducer);function Ht(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(e_){return void n(e_)}s.done?t(u):Promise.resolve(u).then(r,i)}function Kt(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Ht(a,r,i,o,s,"next",e)}function s(e){Ht(a,r,i,o,s,"throw",e)}o(void 0)}))}}var Gt=n(7757),$t=n.n(Gt);function Qt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xt(e,t,n){return t&&Yt(e.prototype,t),n&&Yt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Jt(e,t){return Jt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Jt(e,t)}function Zt(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&Jt(e,t)}function en(e){return en=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},en(e)}function tn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function nn(e){return nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nn(e)}function rn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function an(e,t){if(t&&("object"===nn(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return rn(e)}function on(e){var t=tn();return function(){var n,r=en(e);if(t){var i=en(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return an(this,n)}}function sn(e,t,n){return sn=tn()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Jt(i,n.prototype),i},sn.apply(null,arguments)}function un(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=en(e)););return e}function cn(){return cn="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=un(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},cn.apply(this,arguments)}function ln(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=i(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}function fn(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hn(e){var t="function"===typeof Map?new Map:void 0;return hn=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return sn(e,arguments,en(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Jt(n,e)},hn(e)}var dn=!1,pn=!1,vn="${JSCORE_VERSION}",yn=function(e,t){if(!e)throw mn(t)},mn=function(e){return new Error("Firebase Database ("+vn+") INTERNAL ASSERT FAILED: "+e)},gn=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},kn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(gn(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},bn=function(e){var t=gn(e);return kn.encodeByteArray(t,!0)},_n=function(e){try{return kn.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function wn(e){return xn(void 0,e)}function xn(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=xn(e[n],t[n]));return e}var En=function(){function e(){var t=this;Qt(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Xt(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Sn(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Tn(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Sn())}function Cn(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function In(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Nn(){var e=Sn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function An(){return!0===dn||!0===pn}var On=function(e){Zt(n,e);var t=on(n);function n(e,r,i){var a;return Qt(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(rn(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(rn(a),Rn.prototype.create),a}return Xt(n)}(hn(Error)),Rn=function(){function e(t,n,r){Qt(this,e),this.service=t,this.serviceName=n,this.errors=r}return Xt(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Pn(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new On(n,a,t);return o}}]),e}();function Pn(e,t){return e.replace(Dn,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Dn=/\{\$([^}]+)}/g;function Fn(e){return JSON.parse(e)}function Ln(e){return JSON.stringify(e)}var jn=function(e){var t={},n={},r={},i="";try{var a=e.split(".");t=Fn(_n(a[0])||""),n=Fn(_n(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch(o){}return{header:t,claims:n,data:r,signature:i}};function Mn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Un(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function Vn(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function zn(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function qn(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(Bn(s)&&Bn(u)){if(!qn(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Bn(e){return null!==e&&"object"===typeof e}function Wn(e){for(var t=[],n=function(){var e=a(i[r],2),n=e[0],o=e[1];Array.isArray(o)?o.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Hn(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=a(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Kn(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var Gn=function(){function e(){Qt(this,e),this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return Xt(e,[{key:"reset",value:function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}},{key:"compress_",value:function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var a=16;a<80;a++){var o=n[a-3]^n[a-8]^n[a-14]^n[a-16];n[a]=4294967295&(o<<1|o>>>31)}for(var s,u,c=this.chain_[0],l=this.chain_[1],f=this.chain_[2],h=this.chain_[3],d=this.chain_[4],p=0;p<80;p++){p<40?p<20?(s=h^l&(f^h),u=1518500249):(s=l^f^h,u=1859775393):p<60?(s=l&f|h&(l|f),u=2400959708):(s=l^f^h,u=3395469782);var v=(c<<5|c>>>27)+s+d+u+n[p]&4294967295;d=h,h=f,f=4294967295&(l<<30|l>>>2),l=c,c=v}this.chain_[0]=this.chain_[0]+c&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}},{key:"update",value:function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,a=this.inbuf_;r<t;){if(0===a)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[a]=e.charCodeAt(r),++r,++a===this.blockSize){this.compress_(i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++r,++a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=t}}},{key:"digest",value:function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var a=24;a>=0;a-=8)e[r]=this.chain_[i]>>a&255,++r;return e}}]),e}();var $n=function(){function e(t,n){var r=this;Qt(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Xt(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=ln(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Qn),void 0===r.error&&(r.error=Qn),void 0===r.complete&&(r.complete=Qn);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Qn(){}function Yn(e,t){return"".concat(e," failed: ").concat(t," argument ")}var Xn=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function Jn(e){return e&&e._delegate?e._delegate:e}var Zn=function(){function e(t,n,r){Qt(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Xt(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),er="[DEFAULT]",tr=function(){function e(t,n){Qt(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Xt(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new En;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:er})}catch(c){}var t,n=ln(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=a(t.value,2),i=r[0],o=r[1],s=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:s});o.resolve(u)}catch(c){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:er;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Kt(Gt.mark((function e(){var t;return Gt.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(fn(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),fn(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:er;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:er;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,o=this.getOrInitializeService({instanceIdentifier:r,options:n}),s=ln(this.instancesDeferred.entries());try{for(s.s();!(i=s.n()).done;){var u=a(i.value,2),c=u[0],l=u[1],f=this.normalizeInstanceIdentifier(c);r===f&&l.resolve(o)}}catch(h){s.e(h)}finally{s.f()}return o}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=ln(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch($p){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===er?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch($p){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:er;return this.component?this.component.multipleInstances?e:er:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var nr,rr,ir=function(){function e(t){Qt(this,e),this.name=t,this.providers=new Map}return Xt(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new tr(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),ar=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(rr||(rr={}));var or,sr,ur={debug:rr.DEBUG,verbose:rr.VERBOSE,info:rr.INFO,warn:rr.WARN,error:rr.ERROR,silent:rr.SILENT},cr=rr.INFO,lr=(it(nr={},rr.DEBUG,"log"),it(nr,rr.VERBOSE,"log"),it(nr,rr.INFO,"info"),it(nr,rr.WARN,"warn"),it(nr,rr.ERROR,"error"),nr),fr=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=lr[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},hr=function(){function e(t){Qt(this,e),this.name=t,this._logLevel=cr,this._logHandler=fr,this._userLogHandler=null,ar.push(this)}return Xt(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in rr))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?ur[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,rr.DEBUG].concat(t)),this._logHandler.apply(this,[this,rr.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,rr.VERBOSE].concat(t)),this._logHandler.apply(this,[this,rr.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,rr.INFO].concat(t)),this._logHandler.apply(this,[this,rr.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,rr.WARN].concat(t)),this._logHandler.apply(this,[this,rr.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,rr.ERROR].concat(t)),this._logHandler.apply(this,[this,rr.ERROR].concat(t))}}]),e}();var dr=function(){function e(t){Qt(this,e),this.container=t}return Xt(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var pr="@firebase/app",vr="0.7.15",yr=new hr("@firebase/app"),mr="[DEFAULT]",gr=(it(or={},pr,"fire-core"),it(or,"@firebase/app-compat","fire-core-compat"),it(or,"@firebase/analytics","fire-analytics"),it(or,"@firebase/analytics-compat","fire-analytics-compat"),it(or,"@firebase/app-check","fire-app-check"),it(or,"@firebase/app-check-compat","fire-app-check-compat"),it(or,"@firebase/auth","fire-auth"),it(or,"@firebase/auth-compat","fire-auth-compat"),it(or,"@firebase/database","fire-rtdb"),it(or,"@firebase/database-compat","fire-rtdb-compat"),it(or,"@firebase/functions","fire-fn"),it(or,"@firebase/functions-compat","fire-fn-compat"),it(or,"@firebase/installations","fire-iid"),it(or,"@firebase/installations-compat","fire-iid-compat"),it(or,"@firebase/messaging","fire-fcm"),it(or,"@firebase/messaging-compat","fire-fcm-compat"),it(or,"@firebase/performance","fire-perf"),it(or,"@firebase/performance-compat","fire-perf-compat"),it(or,"@firebase/remote-config","fire-rc"),it(or,"@firebase/remote-config-compat","fire-rc-compat"),it(or,"@firebase/storage","fire-gcs"),it(or,"@firebase/storage-compat","fire-gcs-compat"),it(or,"@firebase/firestore","fire-fst"),it(or,"@firebase/firestore-compat","fire-fst-compat"),it(or,"fire-js","fire-js"),it(or,"firebase","fire-js-all"),or),kr=new Map,br=new Map;function _r(e,t){try{e.container.addComponent(t)}catch(n){yr.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function wr(e){var t=e.name;if(br.has(t))return yr.debug("There were multiple attempts to register component ".concat(t,".")),!1;br.set(t,e);var n,r=ln(kr.values());try{for(r.s();!(n=r.n()).done;){_r(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function xr(e,t){return e.container.getProvider(t)}var Er,Sr=(it(sr={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),it(sr,"bad-app-name","Illegal App name: '{$appName}"),it(sr,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),it(sr,"app-deleted","Firebase App named '{$appName}' already deleted"),it(sr,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),it(sr,"invalid-log-argument","First argument to `onLog` must be null or a function."),sr),Tr=new Rn("app","Firebase",Sr),Cr=function(){function e(t,n,r){var i=this;Qt(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Zn("app",(function(){return i}),"PUBLIC"))}return Xt(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Tr.create("app-deleted",{appName:this._name})}}]),e}(),Ir="9.6.5";function Nr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mr,t=kr.get(e);if(!t)throw Tr.create("no-app",{appName:e});return t}function Ar(e,t,n){var r,i=null!==(r=gr[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void yr.warn(s.join(" "))}wr(new Zn("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}Er="",wr(new Zn("platform-logger",(function(e){return new dr(e)}),"PRIVATE")),Ar(pr,vr,Er),Ar(pr,vr,"esm2017"),Ar("fire-js","");var Or,Rr="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Pr={},Dr=Dr||{},Fr=Rr||self;function Lr(){}function jr(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Mr(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Ur="closure_uid_"+(1e9*Math.random()>>>0),Vr=0;function zr(e,t,n){return e.call.apply(e.bind,arguments)}function qr(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Br(e,t,n){return(Br=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?zr:qr).apply(null,arguments)}function Wr(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Hr(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Kr(){this.s=this.s,this.o=this.o}var Gr={};Kr.prototype.s=!1,Kr.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Ur)&&e[Ur]||(e[Ur]=++Vr)}(this);delete Gr[e]}},Kr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var $r=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Qr=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function Yr(e){return Array.prototype.concat.apply([],arguments)}function Xr(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Jr(e){return/^[\s\xa0]*$/.test(e)}var Zr,ei=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function ti(e,t){return-1!=e.indexOf(t)}function ni(e,t){return e<t?-1:e>t?1:0}e:{var ri=Fr.navigator;if(ri){var ii=ri.userAgent;if(ii){Zr=ii;break e}}Zr=""}function ai(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function oi(e){var t={};for(var n in e)t[n]=e[n];return t}var si="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ui(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<si.length;a++)n=si[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ci(e){return ci[" "](e),e}ci[" "]=Lr;var li,fi=ti(Zr,"Opera"),hi=ti(Zr,"Trident")||ti(Zr,"MSIE"),di=ti(Zr,"Edge"),pi=di||hi,vi=ti(Zr,"Gecko")&&!(ti(Zr.toLowerCase(),"webkit")&&!ti(Zr,"Edge"))&&!(ti(Zr,"Trident")||ti(Zr,"MSIE"))&&!ti(Zr,"Edge"),yi=ti(Zr.toLowerCase(),"webkit")&&!ti(Zr,"Edge");function mi(){var e=Fr.document;return e?e.documentMode:void 0}e:{var gi="",ki=function(){var e=Zr;return vi?/rv:([^\);]+)(\)|;)/.exec(e):di?/Edge\/([\d\.]+)/.exec(e):hi?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):yi?/WebKit\/(\S+)/.exec(e):fi?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(ki&&(gi=ki?ki[1]:""),hi){var bi=mi();if(null!=bi&&bi>parseFloat(gi)){li=String(bi);break e}}li=gi}var _i,wi={};function xi(){return function(e){var t=wi;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=ei(String(li)).split("."),n=ei("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=ni(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||ni(0==a[2].length,0==o[2].length)||ni(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Fr.document&&hi){var Ei=mi();_i=Ei||(parseInt(li,10)||void 0)}else _i=void 0;var Si=_i,Ti=function(){if(!Fr.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Fr.addEventListener("test",Lr,t),Fr.removeEventListener("test",Lr,t)}catch(fe){}return e}();function Ci(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Ii(e,t){if(Ci.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(vi){e:{try{ci(t.nodeName);var i=!0;break e}catch(le){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Ni[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Ii.Z.h.call(this)}}Ci.prototype.h=function(){this.defaultPrevented=!0},Hr(Ii,Ci);var Ni={2:"touch",3:"pen",4:"mouse"};Ii.prototype.h=function(){Ii.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Ai="closure_listenable_"+(1e6*Math.random()|0),Oi=0;function Ri(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Oi,this.ca=this.fa=!1}function Pi(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Di(e){this.src=e,this.g={},this.h=0}function Fi(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=$r(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Pi(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Li(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}Di.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Li(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Ri(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var ji="closure_lm_"+(1e6*Math.random()|0),Mi={};function Ui(e,t,n,r,i){if(r&&r.once)return zi(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Ui(e,t[a],n,r,i);return null}return n=$i(n),e&&e[Ai]?e.N(t,n,Mr(r)?!!r.capture:!!r,i):Vi(e,t,n,!1,r,i)}function Vi(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Mr(i)?!!i.capture:!!i,s=Ki(e);if(s||(e[ji]=s=new Di(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Hi;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Ti||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Wi(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function zi(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)zi(e,t[a],n,r,i);return null}return n=$i(n),e&&e[Ai]?e.O(t,n,Mr(r)?!!r.capture:!!r,i):Vi(e,t,n,!0,r,i)}function qi(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)qi(e,t[a],n,r,i);else r=Mr(r)?!!r.capture:!!r,n=$i(n),e&&e[Ai]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Li(a=e.g[t],n,r,i))&&(Pi(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Ki(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Li(t,n,r,i)),(n=-1<e?t[e]:null)&&Bi(n))}function Bi(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Ai])Fi(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Wi(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ki(t))?(Fi(n,e),0==n.h&&(n.src=null,t[ji]=null)):Pi(e)}}}function Wi(e){return e in Mi?Mi[e]:Mi[e]="on"+e}function Hi(e,t){if(e.ca)e=!0;else{t=new Ii(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Bi(e),e=n.call(r,t)}return e}function Ki(e){return(e=e[ji])instanceof Di?e:null}var Gi="__closure_events_fn_"+(1e9*Math.random()>>>0);function $i(e){return"function"===typeof e?e:(e[Gi]||(e[Gi]=function(t){return e.handleEvent(t)}),e[Gi])}function Qi(){Kr.call(this),this.i=new Di(this),this.P=this,this.I=null}function Yi(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Ci(t,e);else if(t instanceof Ci)t.target=t.target||e;else{var i=t;ui(t=new Ci(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Xi(o,r,!0,t)&&i}if(i=Xi(o=t.g=e,r,!0,t)&&i,i=Xi(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Xi(o=t.g=n[a],r,!1,t)&&i}function Xi(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var s=o.listener,u=o.ia||o.src;o.fa&&Fi(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Hr(Qi,Kr),Qi.prototype[Ai]=!0,Qi.prototype.removeEventListener=function(e,t,n,r){qi(this,e,t,n,r)},Qi.prototype.M=function(){if(Qi.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Pi(n[r]);delete t.g[e],t.h--}}this.I=null},Qi.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Qi.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Ji=Fr.JSON.stringify;function Zi(){var e=sa,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var ea,ta=function(){function e(){Qt(this,e),this.h=this.g=null}return Xt(e,[{key:"add",value:function(e,t){var n=na.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),na=new(function(){function e(t,n){Qt(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Xt(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new ra}),(function(e){return e.reset()})),ra=function(){function e(){Qt(this,e),this.next=this.g=this.h=null}return Xt(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function ia(e){Fr.setTimeout((function(){throw e}),0)}function aa(e,t){ea||function(){var e=Fr.Promise.resolve(void 0);ea=function(){e.then(ua)}}(),oa||(ea(),oa=!0),sa.add(e,t)}var oa=!1,sa=new ta;function ua(){for(var e;e=Zi();){try{e.h.call(e.g)}catch(fe){ia(fe)}var t=na;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}oa=!1}function ca(e,t){Qi.call(this),this.h=e||1,this.g=t||Fr,this.j=Br(this.kb,this),this.l=Date.now()}function la(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function fa(e,t,n){if("function"===typeof e)n&&(e=Br(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Br(e.handleEvent,e)}return 2147483647<Number(t)?-1:Fr.setTimeout(e,t||0)}function ha(e){e.g=fa((function(){e.g=null,e.i&&(e.i=!1,ha(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Hr(ca,Qi),(Or=ca.prototype).da=!1,Or.S=null,Or.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Yi(this,"tick"),this.da&&(la(this),this.start()))}},Or.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Or.M=function(){ca.Z.M.call(this),la(this),delete this.g};var da=function(e){Zt(n,e);var t=on(n);function n(e,r){var i;return Qt(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Xt(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:ha(this)}},{key:"M",value:function(){cn(en(n.prototype),"M",this).call(this),this.g&&(Fr.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Kr);function pa(e){Kr.call(this),this.h=e,this.g={}}Hr(pa,Kr);var va=[];function ya(e,t,n,r){Array.isArray(n)||(n&&(va[0]=n.toString()),n=va);for(var i=0;i<n.length;i++){var a=Ui(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function ma(e){ai(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Bi(e)}),e),e.g={}}function ga(){this.g=!0}function ka(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Ji(n)}catch(re){return t}}(e,n)+(r?" "+r:"")}))}pa.prototype.M=function(){pa.Z.M.call(this),ma(this)},pa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ga.prototype.Aa=function(){this.g=!1},ga.prototype.info=function(){};var ba={},_a=null;function wa(){return _a=_a||new Qi}function xa(e){Ci.call(this,ba.Ma,e)}function Ea(e){var t=wa();Yi(t,new xa(t,e))}function Sa(e,t){Ci.call(this,ba.STAT_EVENT,e),this.stat=t}function Ta(e){var t=wa();Yi(t,new Sa(t,e))}function Ca(e,t){Ci.call(this,ba.Na,e),this.size=t}function Ia(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Fr.setTimeout((function(){e()}),t)}ba.Ma="serverreachability",Hr(xa,Ci),ba.STAT_EVENT="statevent",Hr(Sa,Ci),ba.Na="timingevent",Hr(Ca,Ci);var Na={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Aa={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Oa(){}function Ra(e){return e.h||(e.h=e.i())}function Pa(){}Oa.prototype.h=null;var Da,Fa={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function La(){Ci.call(this,"d")}function ja(){Ci.call(this,"c")}function Ma(){}function Ua(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new pa(this),this.P=za,e=pi?125:void 0,this.W=new ca(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Va}function Va(){this.i=null,this.g="",this.h=!1}Hr(La,Ci),Hr(ja,Ci),Hr(Ma,Oa),Ma.prototype.g=function(){return new XMLHttpRequest},Ma.prototype.i=function(){return{}},Da=new Ma;var za=45e3,qa={},Ba={};function Wa(e,t,n){e.K=1,e.v=po(so(t)),e.s=n,e.U=!0,Ha(e,null)}function Ha(e,t){e.F=Date.now(),Qa(e),e.A=so(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Co(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Va,e.g=Is(e.l,n?t:null,!e.s),0<e.O&&(e.L=new da(Br(e.Ia,e,e.g),e.O)),ya(e.V,e.g,"readystatechange",e.gb),t=e.H?oi(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ea(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Ka(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Ga(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=$a(e,n))==Ba){4==t&&(e.o=4,Ta(14),i=!1),ka(e.j,e.m,null,"[Incomplete Response]");break}if(r==qa){e.o=4,Ta(15),ka(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}ka(e.j,e.m,r,null),eo(e,r)}Ka(e)&&r!=Ba&&r!=qa&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Ta(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),bs(t),t.L=!0,Ta(11))):(ka(e.j,e.m,n,"[Invalid Chunked Response]"),Za(e),Ja(e))}function $a(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ba:(n=Number(t.substring(n,r)),isNaN(n)?qa:(r+=1)+n>t.length?Ba:(t=t.substr(r,n),e.C=r+n,t))}function Qa(e){e.Y=Date.now()+e.P,Ya(e,e.P)}function Ya(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ia(Br(e.eb,e),t)}function Xa(e){e.B&&(Fr.clearTimeout(e.B),e.B=null)}function Ja(e){0==e.l.G||e.I||xs(e.l,e)}function Za(e){Xa(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,la(e.W),ma(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function eo(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Do(n.i,e)))if(n.I=e.N,!e.J&&Do(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;ws(n),fs(n)}ks(n),Ta(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Ia(Br(n.ab,n),6e3));if(1>=Po(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else Ss(n,11)}else if((e.J||n.g==e)&&ws(n),!Jr(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var s=a[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(ti(l,"spdy")||ti(l,"quic")||ti(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(Fo(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,ho(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=Cs(r,r.H?r.la:null,r.W),d.J){Lo(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Xa(p),Qa(p)),r.g=d}else gs(r);0<n.l.length&&ps(n)}else"stop"!=a[0]&&"close"!=a[0]||Ss(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Ss(n,7):ls(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}Ea(4)}catch(a){}}function to(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(jr(e)||"string"===typeof e)Qr(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(jr(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(jr(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function no(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof no)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function ro(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];io(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)io(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function io(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Or=Ua.prototype).setTimeout=function(e){this.P=e},Or.gb=function(e){e=e.target;var t=this.L;t&&3==as(e)?t.l():this.Ia(e)},Or.Ia=function(e){try{if(e==this.g)e:{var t=as(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||pi||this.g&&(this.h.h||this.g.ga()||os(this.g)))){this.I||4!=t||7==n||Ea(8==n||0>=r?3:2),Xa(this);var i=this.g.ba();this.N=i;t:if(Ka(this)){var a=os(this.g);e="";var o=a.length,s=4==as(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Za(this),Ja(this);var u="";break t}this.h.i=new Fr.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:s&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Jr(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,Ta(12),Za(this),Ja(this);break e}ka(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,eo(this,i)}this.U?(Ga(this,t,u),pi&&this.i&&3==t&&(ya(this.V,this.W,"tick",this.fb),this.W.start())):(ka(this.j,this.m,u,null),eo(this,u)),4==t&&Za(this),this.i&&!this.I&&(4==t?xs(this.l,this):(this.i=!1,Qa(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,Ta(12)):(this.o=0,Ta(13)),Za(this),Ja(this)}}}catch(t){}},Or.fb=function(){if(this.g){var e=as(this.g),t=this.g.ga();this.C<t.length&&(Xa(this),Ga(this,e,t),this.i&&4!=e&&Qa(this))}},Or.cancel=function(){this.I=!0,Za(this)},Or.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Ea(3),Ta(17)),Za(this),this.o=2,Ja(this)):Ya(this,this.Y-e)},(Or=no.prototype).R=function(){ro(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Or.T=function(){return ro(this),this.g.concat()},Or.get=function(e,t){return io(this.h,e)?this.h[e]:t},Or.set=function(e,t){io(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Or.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var ao=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function oo(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof oo){this.g=void 0!==t?t:e.g,uo(this,e.j),this.s=e.s,co(this,e.i),lo(this,e.m),this.l=e.l,t=e.h;var n=new xo;n.i=t.i,t.g&&(n.g=new no(t.g),n.h=t.h),fo(this,n),this.o=e.o}else e&&(n=String(e).match(ao))?(this.g=!!t,uo(this,n[1]||"",!0),this.s=vo(n[2]||""),co(this,n[3]||"",!0),lo(this,n[4]),this.l=vo(n[5]||"",!0),fo(this,n[6]||"",!0),this.o=vo(n[7]||"")):(this.g=!!t,this.h=new xo(null,this.g))}function so(e){return new oo(e)}function uo(e,t,n){e.j=n?vo(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function co(e,t,n){e.i=n?vo(t,!0):t}function lo(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function fo(e,t,n){t instanceof xo?(e.h=t,function(e,t){t&&!e.j&&(Eo(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(So(this,t),Co(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=yo(t,_o)),e.h=new xo(t,e.g))}function ho(e,t,n){e.h.set(t,n)}function po(e){return ho(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function vo(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function yo(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,mo),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function mo(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}oo.prototype.toString=function(){var e=[],t=this.j;t&&e.push(yo(t,go,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(yo(t,go,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(yo(n,"/"==n.charAt(0)?bo:ko,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",yo(n,wo)),e.join("")};var go=/[#\/\?@]/g,ko=/[#\?:]/g,bo=/[#\?]/g,_o=/[#\?@]/g,wo=/#/g;function xo(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Eo(e){e.g||(e.g=new no,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function So(e,t){Eo(e),t=Io(e,t),io(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,io((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&ro(e)))}function To(e,t){return Eo(e),t=Io(e,t),io(e.g.h,t)}function Co(e,t,n){So(e,t),0<n.length&&(e.i=null,e.g.set(Io(e,t),Xr(n)),e.h+=n.length)}function Io(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Or=xo.prototype).add=function(e,t){Eo(this),this.i=null,e=Io(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Or.forEach=function(e,t){Eo(this),this.g.forEach((function(n,r){Qr(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Or.T=function(){Eo(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Or.R=function(e){Eo(this);var t=[];if("string"===typeof e)To(this,e)&&(t=Yr(t,this.g.get(Io(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Yr(t,e[n])}return t},Or.set=function(e,t){return Eo(this),this.i=null,To(this,e=Io(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Or.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Or.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var No=Xt((function e(t,n){Qt(this,e),this.h=t,this.g=n}));function Ao(e){this.l=e||Oo,Fr.PerformanceNavigationTiming?e=0<(e=Fr.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Fr.g&&Fr.g.Ea&&Fr.g.Ea()&&Fr.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Oo=10;function Ro(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Po(e){return e.h?1:e.g?e.g.size:0}function Do(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Fo(e,t){e.g?e.g.add(t):e.h=t}function Lo(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function jo(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=ln(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Xr(e.i)}function Mo(){}function Uo(){this.g=new Mo}function Vo(e,t,n){var r=n||"";try{to(e,(function(e,n){var i=e;Mr(e)&&(i=Ji(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function zo(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(le){}}function qo(e){this.l=e.$b||null,this.j=e.ib||!1}function Bo(e,t){Qi.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Wo,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ao.prototype.cancel=function(){if(this.i=jo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=ln(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Mo.prototype.stringify=function(e){return Fr.JSON.stringify(e,void 0)},Mo.prototype.parse=function(e){return Fr.JSON.parse(e,void 0)},Hr(qo,Oa),qo.prototype.g=function(){return new Bo(this.l,this.j)},qo.prototype.i=function(e){return function(){return e}}({}),Hr(Bo,Qi);var Wo=0;function Ho(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Ko(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Go(e)}function Go(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Or=Bo.prototype).open=function(e,t){if(this.readyState!=Wo)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Go(this)},Or.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Fr).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Or.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ko(this)),this.readyState=Wo},Or.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Go(this)),this.g&&(this.readyState=3,Go(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof Fr.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ho(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Or.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ko(this):Go(this),3==this.readyState&&Ho(this)}},Or.Ua=function(e){this.g&&(this.response=this.responseText=e,Ko(this))},Or.Ta=function(e){this.g&&(this.response=e,Ko(this))},Or.ha=function(){this.g&&Ko(this)},Or.setRequestHeader=function(e,t){this.v.append(e,t)},Or.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Or.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Bo.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var $o=Fr.JSON.parse;function Qo(e){Qi.call(this),this.headers=new no,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Yo,this.K=this.L=!1}Hr(Qo,Qi);var Yo="",Xo=/^https?$/i,Jo=["POST","PUT"];function Zo(e){return"content-type"==e.toLowerCase()}function es(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,ts(e),rs(e)}function ts(e){e.D||(e.D=!0,Yi(e,"complete"),Yi(e,"error"))}function ns(e){if(e.h&&"undefined"!=typeof Dr&&(!e.C[1]||4!=as(e)||2!=e.ba()))if(e.v&&4==as(e))fa(e.Fa,0,e);else if(Yi(e,"readystatechange"),4==as(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(ao)[1]||null;if(!a&&Fr.self&&Fr.self.location){var o=Fr.self.location.protocol;a=o.substr(0,o.length-1)}i=!Xo.test(a?a.toLowerCase():"")}t=i}if(t)Yi(e,"complete"),Yi(e,"success");else{e.m=6;try{var s=2<as(e)?e.g.statusText:""}catch(ue){s=""}e.j=s+" ["+e.ba()+"]",ts(e)}}finally{rs(e)}}}function rs(e,t){if(e.g){is(e);var n=e.g,r=e.C[0]?Lr:null;e.g=null,e.C=null,t||Yi(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function is(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Fr.clearTimeout(e.A),e.A=null)}function as(e){return e.g?e.g.readyState:0}function os(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Yo:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(ke){return null}}function ss(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return ai(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ho(e,t,n))}function us(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function cs(e){this.za=0,this.l=[],this.h=new ga,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=us("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=us("baseRetryDelayMs",5e3,e),this.$a=us("retryDelaySeedMs",1e4,e),this.Ya=us("forwardChannelMaxRetries",2,e),this.ra=us("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Ao(e&&e.concurrentRequestLimit),this.Ca=new Uo,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function ls(e){if(hs(e),3==e.G){var t=e.V++,n=so(e.F);ho(n,"SID",e.J),ho(n,"RID",t),ho(n,"TYPE","terminate"),ys(e,n),(t=new Ua(e,e.h,t,void 0)).K=2,t.v=po(so(n)),n=!1,Fr.navigator&&Fr.navigator.sendBeacon&&(n=Fr.navigator.sendBeacon(t.v.toString(),"")),!n&&Fr.Image&&((new Image).src=t.v,n=!0),n||(t.g=Is(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Qa(t)}Ts(e)}function fs(e){e.g&&(bs(e),e.g.cancel(),e.g=null)}function hs(e){fs(e),e.u&&(Fr.clearTimeout(e.u),e.u=null),ws(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Fr.clearTimeout(e.m),e.m=null)}function ds(e,t){e.l.push(new No(e.Za++,t)),3==e.G&&ps(e)}function ps(e){Ro(e.i)||e.m||(e.m=!0,aa(e.Ha,e),e.C=0)}function vs(e,t){var n;n=t?t.m:e.V++;var r=so(e.F);ho(r,"SID",e.J),ho(r,"RID",n),ho(r,"AID",e.U),ys(e,r),e.o&&e.s&&ss(r,e.o,e.s),n=new Ua(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=ms(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Fo(e.i,n),Wa(n,r,t)}function ys(e,t){e.j&&to({},(function(e,n){ho(t,n,e)}))}function ms(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Br(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{Vo(l,o,"req"+c+"_")}catch(Ue){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function gs(e){e.g||e.u||(e.Y=1,aa(e.Ga,e),e.A=0)}function ks(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Ia(Br(e.Ga,e),Es(e,e.A)),e.A++,!0)}function bs(e){null!=e.B&&(Fr.clearTimeout(e.B),e.B=null)}function _s(e){e.g=new Ua(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=so(e.oa);ho(t,"RID","rpc"),ho(t,"SID",e.J),ho(t,"CI",e.N?"0":"1"),ho(t,"AID",e.U),ys(e,t),ho(t,"TYPE","xmlhttp"),e.o&&e.s&&ss(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=po(so(t)),n.s=null,n.U=!0,Ha(n,e)}function ws(e){null!=e.v&&(Fr.clearTimeout(e.v),e.v=null)}function xs(e,t){var n=null;if(e.g==t){ws(e),bs(e),e.g=null;var r=2}else{if(!Do(e.i,t))return;n=t.D,Lo(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Yi(r=wa(),new Ca(r,n,t,i)),ps(e)}else gs(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Po(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Ia(Br(e.Ha,e,t),Es(e,e.C)),e.C++,!0))}(e,t)||2==r&&ks(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Ss(e,5);break;case 4:Ss(e,10);break;case 3:Ss(e,6);break;default:Ss(e,2)}}function Es(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Ss(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Br(e.jb,e);n||(n=new oo("//www.google.com/images/cleardot.gif"),Fr.location&&"http"==Fr.location.protocol||uo(n,"https"),po(n)),function(e,t){var n=new ga;if(Fr.Image){var r=new Image;r.onload=Wr(zo,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Wr(zo,n,r,"TestLoadImage: error",!1,t),r.onabort=Wr(zo,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Wr(zo,n,r,"TestLoadImage: timeout",!1,t),Fr.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Ta(2);e.G=0,e.j&&e.j.va(t),Ts(e),hs(e)}function Ts(e){e.G=0,e.I=-1,e.j&&(0==jo(e.i).length&&0==e.l.length||(e.i.i.length=0,Xr(e.l),e.l.length=0),e.j.ua())}function Cs(e,t,n){var r=function(e){return e instanceof oo?so(e):new oo(e,void 0)}(n);if(""!=r.i)t&&co(r,t+"."+r.i),lo(r,r.m);else{var i=Fr.location;r=function(e,t,n,r){var i=new oo(null,void 0);return e&&uo(i,e),t&&co(i,t),n&&lo(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&ai(e.aa,(function(e,t){ho(r,t,e)})),t=e.D,n=e.sa,t&&n&&ho(r,t,n),ho(r,"VER",e.ma),ys(e,r),r}function Is(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Qo(new qo({ib:!0})):new Qo(e.qa)).L=e.H,t}function Ns(){}function As(){if(hi&&!(10<=Number(Si)))throw Error("Environmental error: no available transport.")}function Os(e,t){Qi.call(this),this.g=new cs(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Jr(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Jr(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Ds(this)}function Rs(e){La.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Ps(){ja.call(this),this.status=1}function Ds(e){this.g=e}(Or=Qo.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Da.g(),this.C=this.u?Ra(this.u):Ra(Da),this.g.onreadystatechange=Br(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(le){return void es(this,le)}e=n||"";var i=new no(this.headers);r&&to(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Zo,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=Fr.FormData&&e instanceof Fr.FormData,!(0<=$r(Jo,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{is(this),0<this.B&&((this.K=function(e){return hi&&xi()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Br(this.pa,this)):this.A=fa(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(le){es(this,le)}},Or.pa=function(){"undefined"!=typeof Dr&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Yi(this,"timeout"),this.abort(8))},Or.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Yi(this,"complete"),Yi(this,"abort"),rs(this))},Or.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),rs(this,!0)),Qo.Z.M.call(this)},Or.Fa=function(){this.s||(this.F||this.v||this.l?ns(this):this.cb())},Or.cb=function(){ns(this)},Or.ba=function(){try{return 2<as(this)?this.g.status:-1}catch(ce){return-1}},Or.ga=function(){try{return this.g?this.g.responseText:""}catch(ce){return""}},Or.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),$o(t)}},Or.Da=function(){return this.m},Or.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Or=cs.prototype).ma=8,Or.G=1,Or.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(ke){}},Or.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Ua(this,this.h,e,void 0),n=this.s;if(this.P&&(n?ui(n=oi(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=ms(this,t,r),ho(i=so(this.F),"RID",e),ho(i,"CVER",22),this.D&&ho(i,"X-HTTP-Session-Id",this.D),ys(this,i),this.o&&n&&ss(i,this.o,n),Fo(this.i,t),this.Ra&&ho(i,"TYPE","init"),this.ja?(ho(i,"$req",r),ho(i,"SID","null"),t.$=!0,Wa(t,i,null)):Wa(t,i,r),this.G=2}}else 3==this.G&&(e?vs(this,e):0==this.l.length||Ro(this.i)||vs(this))},Or.Ga=function(){if(this.u=null,_s(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Ia(Br(this.bb,this),e)}},Or.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ta(10),fs(this),_s(this))},Or.ab=function(){null!=this.v&&(this.v=null,fs(this),ks(this),Ta(19))},Or.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Ta(2)):(this.h.info("Failed to ping google.com"),Ta(1))},(Or=Ns.prototype).xa=function(){},Or.wa=function(){},Or.va=function(){},Or.ua=function(){},Or.Oa=function(){},As.prototype.g=function(e,t){return new Os(e,t)},Hr(Os,Qi),Os.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),aa(Br(e.hb,e,t))),Ta(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Cs(e,null,e.W),ps(e)},Os.prototype.close=function(){ls(this.g)},Os.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,ds(this.g,t)}else this.v?((t={}).__data__=Ji(e),ds(this.g,t)):ds(this.g,e)},Os.prototype.M=function(){this.g.j=null,delete this.j,ls(this.g),delete this.g,Os.Z.M.call(this)},Hr(Rs,La),Hr(Ps,ja),Hr(Ds,Ns),Ds.prototype.xa=function(){Yi(this.g,"a")},Ds.prototype.wa=function(e){Yi(this.g,new Rs(e))},Ds.prototype.va=function(e){Yi(this.g,new Ps(e))},Ds.prototype.ua=function(){Yi(this.g,"b")},As.prototype.createWebChannel=As.prototype.g,Os.prototype.send=Os.prototype.u,Os.prototype.open=Os.prototype.m,Os.prototype.close=Os.prototype.close,Na.NO_ERROR=0,Na.TIMEOUT=8,Na.HTTP_ERROR=6,Aa.COMPLETE="complete",Pa.EventType=Fa,Fa.OPEN="a",Fa.CLOSE="b",Fa.ERROR="c",Fa.MESSAGE="d",Qi.prototype.listen=Qi.prototype.N,Qo.prototype.listenOnce=Qo.prototype.O,Qo.prototype.getLastError=Qo.prototype.La,Qo.prototype.getLastErrorCode=Qo.prototype.Da,Qo.prototype.getStatus=Qo.prototype.ba,Qo.prototype.getResponseJson=Qo.prototype.Qa,Qo.prototype.getResponseText=Qo.prototype.ga,Qo.prototype.send=Qo.prototype.ea;var Fs=Pr.createWebChannelTransport=function(){return new As},Ls=Pr.getStatEventTarget=function(){return wa()},js=Pr.ErrorCode=Na,Ms=Pr.EventType=Aa,Us=Pr.Event=ba,Vs=Pr.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},zs=Pr.FetchXmlHttpFactory=qo,qs=Pr.WebChannel=Pa,Bs=Pr.XhrIo=Qo,Ws="@firebase/firestore",Hs=function(){function e(t){Qt(this,e),this.uid=t}return Xt(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Hs.UNAUTHENTICATED=new Hs(null),Hs.GOOGLE_CREDENTIALS=new Hs("google-credentials-uid"),Hs.FIRST_PARTY=new Hs("first-party-uid"),Hs.MOCK_USER=new Hs("mock-user");var Ks="9.6.5",Gs=new hr("@firebase/firestore");function $s(){return Gs.logLevel}function Qs(e){if(Gs.logLevel<=rr.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Js);Gs.debug.apply(Gs,["Firestore (".concat(Ks,"): ").concat(e)].concat(fn(i)))}}function Ys(e){if(Gs.logLevel<=rr.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Js);Gs.error.apply(Gs,["Firestore (".concat(Ks,"): ").concat(e)].concat(fn(i)))}}function Xs(e){if(Gs.logLevel<=rr.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Js);Gs.warn.apply(Gs,["Firestore (".concat(Ks,"): ").concat(e)].concat(fn(i)))}}function Js(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Zs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Ks,") INTERNAL ASSERTION FAILED: ")+e;throw Ys(t),new Error(t)}function eu(e,t){e||Zs()}function tu(e,t){return e}var nu={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ru=function(e){Zt(n,e);var t=on(n);function n(e,r){var i;return Qt(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Xt(n)}(On),iu=Xt((function e(){var t=this;Qt(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),au=Xt((function e(t,n){Qt(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),ou=function(){function e(){Qt(this,e)}return Xt(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Hs.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),su=function(){function e(t){Qt(this,e),this.t=t,this.currentUser=Hs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Xt(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new iu;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new iu,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Kt($t().mark((function e(){return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){Qs("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(Qs("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new iu)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Qs("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(eu("string"==typeof n.accessToken),new au(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return eu(null===e||"string"==typeof e),new Hs(e)}}]),e}(),uu=Xt((function e(t,n,r){Qt(this,e),this.type="FirstParty",this.user=Hs.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),cu=function(){function e(t,n,r){Qt(this,e),this.h=t,this.l=n,this.m=r}return Xt(e,[{key:"getToken",value:function(){return Promise.resolve(new uu(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Hs.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),lu=Xt((function e(t){Qt(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),fu=function(){function e(t){Qt(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null}return Xt(e,[{key:"start",value:function(e,t){var n=this;this.o=function(n){e.enqueueRetryable((function(){return function(e){return null!=e.error&&Qs("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message)),t(e.token)}(n)}))};var r=function(e){Qs("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return r(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?r(e):Qs("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((function(e){return e?(eu("string"==typeof e.token),new lu(e.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),hu=function(){function e(t,n){var r=this;Qt(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.p(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return Xt(e,[{key:"p",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function du(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}hu.I=-1;var pu=function(){function e(){Qt(this,e)}return Xt(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=du(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function vu(e,t){return e<t?-1:e>t?1:0}function yu(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}var mu=function(){function e(t,n){if(Qt(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new ru(nu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ru(nu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new ru(nu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ru(nu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Xt(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?vu(this.nanoseconds,e.nanoseconds):vu(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),gu=function(){function e(t){Qt(this,e),this.timestamp=t}return Xt(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new mu(0,0))}}]),e}();function ku(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function bu(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function _u(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var wu=function(){function e(t,n,r){Qt(this,e),void 0===n?n=0:n>t.length&&Zs(),void 0===r?r=t.length-n:r>t.length-n&&Zs(),this.segments=t,this.offset=n,this.len=r}return Xt(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),xu=function(e){Zt(n,e);var t=on(n);function n(){return Qt(this,n),t.apply(this,arguments)}return Xt(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new ru(nu.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,fn(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(wu),Eu=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Su=function(e){Zt(n,e);var t=on(n);function n(){return Qt(this,n),t.apply(this,arguments)}return Xt(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Eu.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new ru(nu.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new ru(nu.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new ru(nu.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new ru(nu.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(wu),Tu=function(){function e(t){Qt(this,e),this.fields=t,t.sort(Su.comparator)}return Xt(e,[{key:"covers",value:function(e){var t,n=ln(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return yu(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var Cu=function(e){function t(e){Qt(this,t),this.binaryString=e}return Xt(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return vu(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Cu.EMPTY_BYTE_STRING=new Cu("");var Iu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nu(e){if(eu(!!e),"string"==typeof e){var t=0,n=Iu.exec(e);if(eu(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Au(e.seconds),nanos:Au(e.nanos)}}function Au(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Ou(e){return"string"==typeof e?Cu.fromBase64String(e):Cu.fromUint8Array(e)}function Ru(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Pu(e){var t=e.mapValue.fields.__previous_value__;return Ru(t)?Pu(t):t}function Du(e){var t=Nu(e.mapValue.fields.__local_write_time__.timestampValue);return new mu(t.seconds,t.nanos)}function Fu(e){return null==e}function Lu(e){return 0===e&&1/e==-1/0}function ju(e){return"number"==typeof e&&Number.isInteger(e)&&!Lu(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Mu=function(){function e(t){Qt(this,e),this.path=t}return Xt(e,[{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"isEqual",value:function(e){return null!==e&&0===xu.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(xu.fromString(t))}},{key:"fromName",value:function(t){return new e(xu.fromString(t).popFirst(5))}},{key:"comparator",value:function(e,t){return xu.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new xu(t.slice()))}}]),e}();function Uu(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ru(e)?4:10:Zs()}function Vu(e,t){if(e===t)return!0;var n=Uu(e);if(n!==Uu(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Du(e).isEqual(Du(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Nu(e.timestampValue),r=Nu(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Ou(e.bytesValue).isEqual(Ou(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Au(e.geoPointValue.latitude)===Au(t.geoPointValue.latitude)&&Au(e.geoPointValue.longitude)===Au(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Au(e.integerValue)===Au(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Au(e.doubleValue),r=Au(t.doubleValue);return n===r?Lu(n)===Lu(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return yu(e.arrayValue.values||[],t.arrayValue.values||[],Vu);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ku(n)!==ku(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Vu(n[i],r[i])))return!1;return!0}(e,t);default:return Zs()}}function zu(e,t){return void 0!==(e.values||[]).find((function(e){return Vu(e,t)}))}function qu(e,t){if(e===t)return 0;var n=Uu(e),r=Uu(t);if(n!==r)return vu(n,r);switch(n){case 0:return 0;case 1:return vu(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Au(e.integerValue||e.doubleValue),r=Au(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Bu(e.timestampValue,t.timestampValue);case 4:return Bu(Du(e),Du(t));case 5:return vu(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Ou(e),r=Ou(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=vu(n[i],r[i]);if(0!==a)return a}return vu(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=vu(Au(e.latitude),Au(t.latitude));return 0!==n?n:vu(Au(e.longitude),Au(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=qu(n[i],r[i]);if(a)return a}return vu(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=vu(r[o],a[o]);if(0!==s)return s;var u=qu(n[r[o]],i[a[o]]);if(0!==u)return u}return vu(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Zs()}}function Bu(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return vu(e,t);var n=Nu(e),r=Nu(t),i=vu(n.seconds,r.seconds);return 0!==i?i:vu(n.nanos,r.nanos)}function Wu(e){return Hu(e)}function Hu(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Nu(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Ou(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Mu.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=ln(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Hu(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=ln(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Hu(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Zs();var t,n}function Ku(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Gu(e){return!!e&&"integerValue"in e}function $u(e){return!!e&&"arrayValue"in e}function Qu(e){return!!e&&"nullValue"in e}function Yu(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Xu(e){return!!e&&"mapValue"in e}function Ju(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return bu(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Ju(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Ju(e.arrayValue.values[r]);return n}return Object.assign({},e)}var Zu=function(){function e(t){Qt(this,e),this.value=t}return Xt(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Xu(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ju(t)}},{key:"setAll",value:function(e){var t=this,n=Su.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Ju(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Xu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Vu(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Xu(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){bu(t,(function(t,n){return e[t]=n}));var r,i=ln(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Ju(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function ec(e){var t=[];return bu(e.fields,(function(e,n){var r=new Su([e]);if(Xu(n)){var i=ec(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=ln(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new Tu(t)}var tc=function(){function e(t,n,r,i,a){Qt(this,e),this.key=t,this.documentType=n,this.version=r,this.data=i,this.documentState=a}return Xt(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Zu.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Zu.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,gu.min(),Zu.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Zu.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Zu.empty(),2)}}]),e}(),nc=Xt((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Qt(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.R=null}));function rc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new nc(e,t,n,r,i,a,o)}function ic(e){var t=tu(e);if(null===t.R){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+Wu(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Fu(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=mc(t.startAt)),t.endAt&&(n+="|ub:",n+=mc(t.endAt)),t.R=n}return t.R}function ac(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!kc(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Vu(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!_c(e.startAt,t.startAt)&&_c(e.endAt,t.endAt)}function oc(e){return Mu.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var sc=function(e){Zt(n,e);var t=on(n);function n(e,r,i){var a;return Qt(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Xt(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(qu(t,this.value)):null!==t&&Uu(this.value)===Uu(t)&&this.v(qu(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Zs()}}},{key:"V",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,r):new uc(e,t,r):"array-contains"===t?new hc(e,r):"in"===t?new dc(e,r):"not-in"===t?new pc(e,r):"array-contains-any"===t?new vc(e,r):new n(e,t,r)}},{key:"P",value:function(e,t,n){return"in"===t?new cc(e,n):new lc(e,n)}}]),n}(function(){return Xt((function e(){Qt(this,e)}))}());var uc=function(e){Zt(n,e);var t=on(n);function n(e,r,i){var a;return Qt(this,n),(a=t.call(this,e,r,i)).key=Mu.fromName(i.referenceValue),a}return Xt(n,[{key:"matches",value:function(e){var t=Mu.comparator(e.key,this.key);return this.v(t)}}]),n}(sc),cc=function(e){Zt(n,e);var t=on(n);function n(e,r){var i;return Qt(this,n),(i=t.call(this,e,"in",r)).keys=fc("in",r),i}return Xt(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(sc),lc=function(e){Zt(n,e);var t=on(n);function n(e,r){var i;return Qt(this,n),(i=t.call(this,e,"not-in",r)).keys=fc("not-in",r),i}return Xt(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(sc);function fc(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Mu.fromName(e.referenceValue)}))}var hc=function(e){Zt(n,e);var t=on(n);function n(e,r){return Qt(this,n),t.call(this,e,"array-contains",r)}return Xt(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return $u(t)&&zu(t.arrayValue,this.value)}}]),n}(sc),dc=function(e){Zt(n,e);var t=on(n);function n(e,r){return Qt(this,n),t.call(this,e,"in",r)}return Xt(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&zu(this.value.arrayValue,t)}}]),n}(sc),pc=function(e){Zt(n,e);var t=on(n);function n(e,r){return Qt(this,n),t.call(this,e,"not-in",r)}return Xt(n,[{key:"matches",value:function(e){if(zu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!zu(this.value.arrayValue,t)}}]),n}(sc),vc=function(e){Zt(n,e);var t=on(n);function n(e,r){return Qt(this,n),t.call(this,e,"array-contains-any",r)}return Xt(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!$u(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return zu(t.value.arrayValue,e)}))}}]),n}(sc),yc=Xt((function e(t,n){Qt(this,e),this.position=t,this.before=n}));function mc(e){return"".concat(e.before?"b":"a",":").concat(e.position.map((function(e){return Wu(e)})).join(","))}var gc=Xt((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Qt(this,e),this.field=t,this.dir=n}));function kc(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function bc(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Mu.comparator(Mu.fromName(o.referenceValue),n.key):qu(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function _c(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Vu(e.position[n],t.position[n]))return!1;return!0}var wc=Xt((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Qt(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.S=null,this.D=null,this.startAt,this.endAt}));function xc(e,t,n,r,i,a,o,s){return new wc(e,t,n,r,i,a,o,s)}function Ec(e){return new wc(e)}function Sc(e){return!Fu(e.limit)&&"F"===e.limitType}function Tc(e){return!Fu(e.limit)&&"L"===e.limitType}function Cc(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Ic(e){var t,n=ln(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.V())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Nc(e){return null!==e.collectionGroup}function Ac(e){var t=tu(e);if(null===t.S){t.S=[];var n=Ic(t),r=Cc(t);if(null!==n&&null===r)n.isKeyField()||t.S.push(new gc(n)),t.S.push(new gc(Su.keyField(),"asc"));else{var i,a=!1,o=ln(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.S.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.S.push(new gc(Su.keyField(),u))}}}return t.S}function Oc(e){var t=tu(e);if(!t.D)if("F"===t.limitType)t.D=rc(t.path,t.collectionGroup,Ac(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=ln(Ac(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new gc(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new yc(t.endAt.position,!t.endAt.before):null,u=t.startAt?new yc(t.startAt.position,!t.startAt.before):null;t.D=rc(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t.D}function Rc(e,t,n){return new wc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Pc(e,t){return ac(Oc(e),Oc(t))&&e.limitType===t.limitType}function Dc(e){return"".concat(ic(Oc(e)),"|lt:").concat(e.limitType)}function Fc(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Wu(t.value));var t})).join(", "),"]")),Fu(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: "+mc(e.startAt)),e.endAt&&(t+=", endAt: "+mc(e.endAt)),"Target(".concat(t,")")}(Oc(e)),"; limitType=").concat(e.limitType,")")}function Lc(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Mu.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=ln(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=ln(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!bc(e.startAt,Ac(e),t))&&(!e.endAt||!bc(e.endAt,Ac(e),t))}(e,t)}function jc(e){return function(t,n){var r,i=!1,a=ln(Ac(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=Mc(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function Mc(e,t,n){var r=e.field.isKeyField()?Mu.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?qu(r,i):Zs()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Zs()}}function Uc(e,t){if(e.C){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lu(t)?"-0":t}}function Vc(e){return{integerValue:""+e}}function zc(e,t){return ju(t)?Vc(t):Uc(e,t)}var qc=Xt((function e(){Qt(this,e),this._=void 0}));function Bc(e,t,n){return e instanceof Kc?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Gc?$c(e,t):e instanceof Qc?Yc(e,t):function(e,t){var n=Hc(e,t),r=Jc(n)+Jc(e.N);return Gu(n)&&Gu(e.N)?Vc(r):Uc(e.k,r)}(e,t)}function Wc(e,t,n){return e instanceof Gc?$c(e,t):e instanceof Qc?Yc(e,t):n}function Hc(e,t){return e instanceof Xc?Gu(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Kc=function(e){Zt(n,e);var t=on(n);function n(){return Qt(this,n),t.apply(this,arguments)}return Xt(n)}(qc),Gc=function(e){Zt(n,e);var t=on(n);function n(e){var r;return Qt(this,n),(r=t.call(this)).elements=e,r}return Xt(n)}(qc);function $c(e,t){var n,r=Zc(t),i=ln(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Vu(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Qc=function(e){Zt(n,e);var t=on(n);function n(e){var r;return Qt(this,n),(r=t.call(this)).elements=e,r}return Xt(n)}(qc);function Yc(e,t){var n,r=Zc(t),i=ln(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Vu(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Xc=function(e){Zt(n,e);var t=on(n);function n(e,r){var i;return Qt(this,n),(i=t.call(this)).k=e,i.N=r,i}return Xt(n)}(qc);function Jc(e){return Au(e.integerValue||e.doubleValue)}function Zc(e){return $u(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var el=Xt((function e(t,n){Qt(this,e),this.field=t,this.transform=n}));var tl=Xt((function e(t,n){Qt(this,e),this.version=t,this.transformResults=n})),nl=function(){function e(t,n){Qt(this,e),this.updateTime=t,this.exists=n}return Xt(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function rl(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var il=Xt((function e(){Qt(this,e)}));function al(e,t,n){e instanceof ll?function(e,t,n){var r=e.value.clone(),i=dl(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof fl?function(e,t,n){if(rl(e.precondition,t)){var r=dl(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(hl(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function ol(e,t,n){e instanceof ll?function(e,t,n){if(rl(e.precondition,t)){var r=e.value.clone(),i=pl(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(cl(t),r).setHasLocalMutations()}}(e,t,n):e instanceof fl?function(e,t,n){if(rl(e.precondition,t)){var r=pl(e.fieldTransforms,n,t),i=t.data;i.setAll(hl(e)),i.setAll(r),t.convertToFoundDocument(cl(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){rl(e.precondition,t)&&t.convertToNoDocument(gu.min())}(e,t)}function sl(e,t){var n,r=null,i=ln(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=Hc(a.transform,o||null);null!=s&&(null==r&&(r=Zu.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function ul(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&yu(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Gc&&t instanceof Gc||e instanceof Qc&&t instanceof Qc?yu(e.elements,t.elements,Vu):e instanceof Xc&&t instanceof Xc?Vu(e.N,t.N):e instanceof Kc&&t instanceof Kc}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function cl(e){return e.isFoundDocument()?e.version:gu.min()}var ll=function(e){Zt(n,e);var t=on(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Qt(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Xt(n)}(il),fl=function(e){Zt(n,e);var t=on(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Qt(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return Xt(n)}(il);function hl(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function dl(e,t,n){var r=new Map;eu(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,Wc(o,s,n[i]))}return r}function pl(e,t,n){var r,i=new Map,a=ln(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,Bc(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var vl,yl,ml=function(e){Zt(n,e);var t=on(n);function n(e,r){var i;return Qt(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Xt(n)}(il),gl=function(e){Zt(n,e);var t=on(n);function n(e,r){var i;return Qt(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Xt(n)}(il),kl=Xt((function e(t){Qt(this,e),this.count=t}));function bl(e){switch(e){default:return Zs();case nu.CANCELLED:case nu.UNKNOWN:case nu.DEADLINE_EXCEEDED:case nu.RESOURCE_EXHAUSTED:case nu.INTERNAL:case nu.UNAVAILABLE:case nu.UNAUTHENTICATED:return!1;case nu.INVALID_ARGUMENT:case nu.NOT_FOUND:case nu.ALREADY_EXISTS:case nu.PERMISSION_DENIED:case nu.FAILED_PRECONDITION:case nu.ABORTED:case nu.OUT_OF_RANGE:case nu.UNIMPLEMENTED:case nu.DATA_LOSS:return!0}}function _l(e){if(void 0===e)return Ys("GRPC error has no .code"),nu.UNKNOWN;switch(e){case vl.OK:return nu.OK;case vl.CANCELLED:return nu.CANCELLED;case vl.UNKNOWN:return nu.UNKNOWN;case vl.DEADLINE_EXCEEDED:return nu.DEADLINE_EXCEEDED;case vl.RESOURCE_EXHAUSTED:return nu.RESOURCE_EXHAUSTED;case vl.INTERNAL:return nu.INTERNAL;case vl.UNAVAILABLE:return nu.UNAVAILABLE;case vl.UNAUTHENTICATED:return nu.UNAUTHENTICATED;case vl.INVALID_ARGUMENT:return nu.INVALID_ARGUMENT;case vl.NOT_FOUND:return nu.NOT_FOUND;case vl.ALREADY_EXISTS:return nu.ALREADY_EXISTS;case vl.PERMISSION_DENIED:return nu.PERMISSION_DENIED;case vl.FAILED_PRECONDITION:return nu.FAILED_PRECONDITION;case vl.ABORTED:return nu.ABORTED;case vl.OUT_OF_RANGE:return nu.OUT_OF_RANGE;case vl.UNIMPLEMENTED:return nu.UNIMPLEMENTED;case vl.DATA_LOSS:return nu.DATA_LOSS;default:return Zs()}}(yl=vl||(vl={}))[yl.OK=0]="OK",yl[yl.CANCELLED=1]="CANCELLED",yl[yl.UNKNOWN=2]="UNKNOWN",yl[yl.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",yl[yl.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",yl[yl.NOT_FOUND=5]="NOT_FOUND",yl[yl.ALREADY_EXISTS=6]="ALREADY_EXISTS",yl[yl.PERMISSION_DENIED=7]="PERMISSION_DENIED",yl[yl.UNAUTHENTICATED=16]="UNAUTHENTICATED",yl[yl.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",yl[yl.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",yl[yl.ABORTED=10]="ABORTED",yl[yl.OUT_OF_RANGE=11]="OUT_OF_RANGE",yl[yl.UNIMPLEMENTED=12]="UNIMPLEMENTED",yl[yl.INTERNAL=13]="INTERNAL",yl[yl.UNAVAILABLE=14]="UNAVAILABLE",yl[yl.DATA_LOSS=15]="DATA_LOSS";var wl=function(){function e(t,n){Qt(this,e),this.comparator=t,this.root=n||El.EMPTY}return Xt(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,El.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,El.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new xl(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new xl(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new xl(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new xl(this.root,e,this.comparator,!0)}}]),e}(),xl=function(){function e(t,n,r,i){Qt(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Xt(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),El=function(){function e(t,n,r,i,a){Qt(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Xt(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Zs();if(this.right.isRed())throw Zs();var e=this.left.check();if(e!==this.right.check())throw Zs();return e+(this.isRed()?0:1)}}]),e}();El.EMPTY=null,El.RED=!0,El.BLACK=!1,El.EMPTY=new(function(){function e(){Qt(this,e),this.size=0}return Xt(e,[{key:"key",get:function(){throw Zs()}},{key:"value",get:function(){throw Zs()}},{key:"color",get:function(){throw Zs()}},{key:"left",get:function(){throw Zs()}},{key:"right",get:function(){throw Zs()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new El(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Sl=function(){function e(t){Qt(this,e),this.comparator=t,this.data=new wl(this.comparator)}return Xt(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Tl(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Tl(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Tl=function(){function e(t){Qt(this,e),this.iter=t}return Xt(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}(),Cl=new wl(Mu.comparator);function Il(){return Cl}var Nl=new wl(Mu.comparator);function Al(){return Nl}var Ol=new wl(Mu.comparator);function Rl(){return Ol}var Pl=new Sl(Mu.comparator);function Dl(){for(var e=Pl,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Fl=new Sl(vu);function Ll(){return Fl}var jl=function(){function e(t,n,r,i,a){Qt(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Xt(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,Ml.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(gu.min(),r,Ll(),Il(),Dl())}}]),e}(),Ml=function(){function e(t,n,r,i,a){Qt(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Xt(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(Cu.EMPTY_BYTE_STRING,n,Dl(),Dl(),Dl())}}]),e}(),Ul=Xt((function e(t,n,r,i){Qt(this,e),this.$=t,this.removedTargetIds=n,this.key=r,this.O=i})),Vl=Xt((function e(t,n){Qt(this,e),this.targetId=t,this.M=n})),zl=Xt((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Cu.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Qt(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),ql=function(){function e(){Qt(this,e),this.F=0,this.L=Hl(),this.B=Cu.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}return Xt(e,[{key:"current",get:function(){return this.U}},{key:"resumeToken",get:function(){return this.B}},{key:"K",get:function(){return 0!==this.F}},{key:"j",get:function(){return this.q}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}},{key:"G",value:function(){var e=Dl(),t=Dl(),n=Dl();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Zs()}})),new Ml(this.B,this.U,e,t,n)}},{key:"H",value:function(){this.q=!1,this.L=Hl()}},{key:"J",value:function(e,t){this.q=!0,this.L=this.L.insert(e,t)}},{key:"Y",value:function(e){this.q=!0,this.L=this.L.remove(e)}},{key:"X",value:function(){this.F+=1}},{key:"Z",value:function(){this.F-=1}},{key:"tt",value:function(){this.q=!0,this.U=!0}}]),e}(),Bl=function(){function e(t){Qt(this,e),this.et=t,this.nt=new Map,this.st=Il(),this.it=Wl(),this.rt=new Sl(vu)}return Xt(e,[{key:"ot",value:function(e){var t,n=ln(e.$);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.O&&e.O.isFoundDocument()?this.ct(r,e.O):this.at(r,e.key,e.O)}}catch(s){n.e(s)}finally{n.f()}var i,a=ln(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.at(o,e.key,e.O)}}catch(s){a.e(s)}finally{a.f()}}},{key:"ut",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.ht(n);switch(e.state){case 0:t.lt(n)&&r.W(e.resumeToken);break;case 1:r.Z(),r.K||r.H(),r.W(e.resumeToken);break;case 2:r.Z(),r.K||t.removeTarget(n);break;case 3:t.lt(n)&&(r.tt(),r.W(e.resumeToken));break;case 4:t.lt(n)&&(t.ft(n),r.W(e.resumeToken));break;default:Zs()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach((function(e,r){n.lt(r)&&t(r)}))}},{key:"dt",value:function(e){var t=e.targetId,n=e.M.count,r=this.wt(t);if(r){var i=r.target;if(oc(i))if(0===n){var a=new Mu(i.path);this.at(t,a,tc.newNoDocument(a,gu.min()))}else eu(1===n);else this._t(t)!==n&&(this.ft(t),this.rt=this.rt.add(t))}}},{key:"gt",value:function(e){var t=this,n=new Map;this.nt.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&oc(a.target)){var o=new Mu(a.target.path);null!==t.st.get(o)||t.yt(i,o)||t.at(i,o,tc.newNoDocument(o,e))}r.j&&(n.set(i,r.G()),r.H())}}));var r=Dl();this.it.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new jl(e,n,this.rt,this.st,r);return this.st=Il(),this.it=Wl(),this.rt=new Sl(vu),i}},{key:"ct",value:function(e,t){if(this.lt(e)){var n=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,n),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}}},{key:"at",value:function(e,t,n){if(this.lt(e)){var r=this.ht(e);this.yt(e,t)?r.J(t,1):r.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),n&&(this.st=this.st.insert(t,n))}}},{key:"removeTarget",value:function(e){this.nt.delete(e)}},{key:"_t",value:function(e){var t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"X",value:function(e){this.ht(e).X()}},{key:"ht",value:function(e){var t=this.nt.get(e);return t||(t=new ql,this.nt.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.it.get(e);return t||(t=new Sl(vu),this.it=this.it.insert(e,t)),t}},{key:"lt",value:function(e){var t=null!==this.wt(e);return t||Qs("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}},{key:"ft",value:function(e){var t=this;this.nt.set(e,new ql),this.et.getRemoteKeysForTarget(e).forEach((function(n){t.at(e,n,null)}))}},{key:"yt",value:function(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}]),e}();function Wl(){return new wl(Mu.comparator)}function Hl(){return new wl(Mu.comparator)}var Kl={asc:"ASCENDING",desc:"DESCENDING"},Gl={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$l=Xt((function e(t,n){Qt(this,e),this.databaseId=t,this.C=n}));function Ql(e,t){return e.C?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Yl(e,t){return e.C?t.toBase64():t.toUint8Array()}function Xl(e,t){return Ql(e,t.toTimestamp())}function Jl(e){return eu(!!e),gu.fromTimestamp(function(e){var t=Nu(e);return new mu(t.seconds,t.nanos)}(e))}function Zl(e,t){return function(e){return new xu(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function ef(e){var t=xu.fromString(e);return eu(xf(t)),t}function tf(e,t){return Zl(e.databaseId,t.path)}function nf(e,t){var n=ef(t);if(n.get(1)!==e.databaseId.projectId)throw new ru(nu.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ru(nu.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Mu(sf(n))}function rf(e,t){return Zl(e.databaseId,t)}function af(e){var t=ef(e);return 4===t.length?xu.emptyPath():sf(t)}function of(e){return new xu(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function sf(e){return eu(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function uf(e,t,n){return{name:tf(e,t),fields:n.value.mapValue.fields}}function cf(e,t){var n;if(t instanceof ll)n={update:uf(e,t.key,t.value)};else if(t instanceof ml)n={delete:tf(e,t.key)};else if(t instanceof fl)n={update:uf(e,t.key,t.data),updateMask:wf(t.fieldMask)};else{if(!(t instanceof gl))return Zs();n={verify:tf(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Kc)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Gc)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Qc)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Xc)return{fieldPath:t.field.canonicalString(),increment:n.N};throw Zs()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Xl(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Zs()}(e,t.precondition)),n}function lf(e,t){return{documents:[rf(e,t.path)]}}function ff(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=rf(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=rf(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Yu(e.value))return{unaryFilter:{field:gf(e.field),op:"IS_NAN"}};if(Qu(e.value))return{unaryFilter:{field:gf(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Yu(e.value))return{unaryFilter:{field:gf(e.field),op:"IS_NOT_NAN"}};if(Qu(e.value))return{unaryFilter:{field:gf(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gf(e.field),op:mf(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:gf(e.field),direction:yf(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o=function(e,t){return e.C||Fu(t)?t:{value:t}}(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=pf(t.startAt)),t.endAt&&(n.structuredQuery.endAt=pf(t.endAt)),n}function hf(e){var t=af(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){eu(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=df(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new gc(kf(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return Fu(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=vf(n.startAt));var l=null;return n.endAt&&(l=vf(n.endAt)),xc(t,i,s,o,u,"F",c,l)}function df(e){return e?void 0!==e.unaryFilter?[_f(e)]:void 0!==e.fieldFilter?[bf(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return df(e)})).reduce((function(e,t){return e.concat(t)})):Zs():[]}function pf(e){return{before:e.before,values:e.position}}function vf(e){var t=!!e.before,n=e.values||[];return new yc(n,t)}function yf(e){return Kl[e]}function mf(e){return Gl[e]}function gf(e){return{fieldPath:e.canonicalString()}}function kf(e){return Su.fromServerFormat(e.fieldPath)}function bf(e){return sc.create(kf(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Zs()}}(e.fieldFilter.op),e.fieldFilter.value)}function _f(e){switch(e.unaryFilter.op){case"IS_NAN":var t=kf(e.unaryFilter.field);return sc.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=kf(e.unaryFilter.field);return sc.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=kf(e.unaryFilter.field);return sc.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=kf(e.unaryFilter.field);return sc.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Zs()}}function wf(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function xf(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Ef(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Tf(t)),t=Sf(e.get(n),t);return Tf(t)}function Sf(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Tf(e){return e+"\x01\x01"}var Cf=Xt((function e(t,n,r){Qt(this,e),this.ownerId=t,this.allowTabSynchronization=n,this.leaseTimestampMs=r}));Cf.store="owner",Cf.key="owner";var If=Xt((function e(t,n,r){Qt(this,e),this.userId=t,this.lastAcknowledgedBatchId=n,this.lastStreamToken=r}));If.store="mutationQueues",If.keyPath="userId";var Nf=Xt((function e(t,n,r,i,a){Qt(this,e),this.userId=t,this.batchId=n,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=a}));Nf.store="mutations",Nf.keyPath="batchId",Nf.userMutationsIndex="userMutationsIndex",Nf.userMutationsKeyPath=["userId","batchId"];var Af=function(){function e(){Qt(this,e)}return Xt(e,null,[{key:"prefixForUser",value:function(e){return[e]}},{key:"prefixForPath",value:function(e,t){return[e,Ef(t)]}},{key:"key",value:function(e,t,n){return[e,Ef(t),n]}}]),e}();Af.store="documentMutations",Af.PLACEHOLDER=new Af;var Of=Xt((function e(t,n,r,i,a,o){Qt(this,e),this.unknownDocument=t,this.noDocument=n,this.document=r,this.hasCommittedMutations=i,this.readTime=a,this.parentPath=o}));Of.store="remoteDocuments",Of.readTimeIndex="readTimeIndex",Of.readTimeIndexPath="readTime",Of.collectionReadTimeIndex="collectionReadTimeIndex",Of.collectionReadTimeIndexPath=["parentPath","readTime"];var Rf=Xt((function e(t){Qt(this,e),this.byteSize=t}));Rf.store="remoteDocumentGlobal",Rf.key="remoteDocumentGlobalKey";var Pf=Xt((function e(t,n,r,i,a,o,s){Qt(this,e),this.targetId=t,this.canonicalId=n,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=a,this.lastLimboFreeSnapshotVersion=o,this.query=s}));Pf.store="targets",Pf.keyPath="targetId",Pf.queryTargetsIndexName="queryTargetsIndex",Pf.queryTargetsKeyPath=["canonicalId","targetId"];var Df=Xt((function e(t,n,r){Qt(this,e),this.targetId=t,this.path=n,this.sequenceNumber=r}));Df.store="targetDocuments",Df.keyPath=["targetId","path"],Df.documentTargetsIndex="documentTargetsIndex",Df.documentTargetsKeyPath=["path","targetId"];var Ff=Xt((function e(t,n,r,i){Qt(this,e),this.highestTargetId=t,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=r,this.targetCount=i}));Ff.key="targetGlobalKey",Ff.store="targetGlobal";var Lf=Xt((function e(t,n){Qt(this,e),this.collectionId=t,this.parent=n}));Lf.store="collectionParents",Lf.keyPath=["collectionId","parent"];var jf=Xt((function e(t,n,r,i){Qt(this,e),this.clientId=t,this.updateTimeMs=n,this.networkEnabled=r,this.inForeground=i}));jf.store="clientMetadata",jf.keyPath="clientId";var Mf=Xt((function e(t,n,r){Qt(this,e),this.bundleId=t,this.createTime=n,this.version=r}));Mf.store="bundles",Mf.keyPath="bundleId";var Uf=Xt((function e(t,n,r){Qt(this,e),this.name=t,this.readTime=n,this.bundledQuery=r}));Uf.store="namedQueries",Uf.keyPath="name";[If.store,Nf.store,Af.store,Of.store,Pf.store,Cf.store,Ff.store,Df.store].concat([jf.store]).concat([Rf.store]).concat([Lf.store]).concat([Mf.store,Uf.store]);var Vf="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",zf=function(){function e(){Qt(this,e),this.onCommittedListeners=[]}return Xt(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),qf=function(){function e(t){var n=this;Qt(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Xt(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Zs(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=ln(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}();function Bf(e){return"IndexedDbTransactionError"===e.name}var Wf=function(){function e(t,n,r,i){Qt(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Xt(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&al(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=ln(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&ol(r,e,this.localWriteTime)}}catch(s){n.e(s)}finally{n.f()}var i,a=ln(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&ol(o,e,this.localWriteTime)}}catch(s){a.e(s)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(gu.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Dl())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&yu(this.mutations,e.mutations,(function(e,t){return ul(e,t)}))&&yu(this.baseMutations,e.baseMutations,(function(e,t){return ul(e,t)}))}}]),e}(),Hf=function(){function e(t,n,r,i){Qt(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Xt(e,null,[{key:"from",value:function(t,n,r){eu(t.mutations.length===r.length);for(var i=Rl(),a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Kf=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:gu.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:gu.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Cu.EMPTY_BYTE_STRING;Qt(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return Xt(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Gf=Xt((function e(t){Qt(this,e),this.Gt=t}));function $f(e){var t=hf({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Rc(t,t.limit,"L"):t}var Qf=function(){function e(){Qt(this,e),this.zt=new Yf}return Xt(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.zt.add(t),qf.resolve()}},{key:"getCollectionParents",value:function(e,t){return qf.resolve(this.zt.getEntries(t))}}]),e}(),Yf=function(){function e(){Qt(this,e),this.index={}}return Xt(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Sl(xu.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Sl(xu.comparator)).toArray()}}]),e}();var Xf=function(){function e(t,n,r){Qt(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Xt(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();Xf.DEFAULT_COLLECTION_PERCENTILE=10,Xf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xf.DEFAULT=new Xf(41943040,Xf.DEFAULT_COLLECTION_PERCENTILE,Xf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xf.DISABLED=new Xf(-1,0,0);var Jf=function(){function e(t){Qt(this,e),this.se=t}return Xt(e,[{key:"next",value:function(){return this.se+=2,this.se}}],[{key:"ie",value:function(){return new e(0)}},{key:"re",value:function(){return new e(-1)}}]),e}();function Zf(e){return eh.apply(this,arguments)}function eh(){return eh=Kt($t().mark((function e(t){return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===nu.FAILED_PRECONDITION&&t.message===Vf){e.next=2;break}throw t;case 2:Qs("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),eh.apply(this,arguments)}var th=function(){function e(t,n){Qt(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return Xt(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=ln(n);try{for(i.s();!(r=i.n()).done;){var o=a(r.value,2),s=o[0],u=o[1];if(this.equalsFn(s,e))return u}}catch(c){i.e(c)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}},{key:"forEach",value:function(e){bu(this.inner,(function(t,n){var r,i=ln(n);try{for(i.s();!(r=i.n()).done;){var o=a(r.value,2),s=o[0],u=o[1];e(s,u)}}catch(c){i.e(c)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return _u(this.inner)}}]),e}(),nh=function(){function e(){Qt(this,e),this.changes=new th((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Xt(e,[{key:"getReadTime",value:function(e){var t=this.changes.get(e);return t?t.readTime:gu.min()}},{key:"addEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}},{key:"removeEntry",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.assertNotApplied(),this.changes.set(e,{document:tc.newInvalidDocument(e),readTime:t})}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?qf.resolve(n.document):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}();var rh=function(){function e(t,n,r){Qt(this,e),this.Je=t,this.An=n,this.Jt=r}return Xt(e,[{key:"Rn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.bn(e,t,r)}))}},{key:"bn",value:function(e,t,n){return this.Je.getEntry(e,t).next((function(e){var t,r=ln(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"Pn",value:function(e,t){e.forEach((function(e,n){var r,i=ln(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"vn",value:function(e,t){var n=this;return this.Je.getEntries(e,t).next((function(t){return n.Vn(e,t).next((function(){return t}))}))}},{key:"Vn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.Pn(t,e)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Mu.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Sn(e,t.path):Nc(t)?this.Dn(e,t,n):this.Cn(e,t,n)}},{key:"Sn",value:function(e,t){return this.Rn(e,new Mu(t)).next((function(e){var t=Al();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Dn",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Al();return this.Jt.getCollectionParents(e,i).next((function(o){return qf.forEach(o,(function(o){var s=function(e,t){return new wc(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.Cn(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"Cn",value:function(e,t,n){var r,i,a=this;return this.Je.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,a.An.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,a.Nn(e,i,r).next((function(e){r=e;var t,n=ln(i);try{for(n.s();!(t=n.n()).done;){var a,o=t.value,s=ln(o.mutations);try{for(s.s();!(a=s.n()).done;){var u=a.value,c=u.key,l=r.get(c);null==l&&(l=tc.newInvalidDocument(c),r=r.insert(c,l)),ol(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}catch(f){s.e(f)}finally{s.f()}}}catch(f){n.e(f)}finally{n.f()}}))})).next((function(){return r.forEach((function(e,n){Lc(t,n)||(r=r.remove(e))})),r}))}},{key:"Nn",value:function(e,t,n){var r,i=Dl(),a=ln(t);try{for(a.s();!(r=a.n()).done;){var o,s=ln(r.value.mutations);try{for(s.s();!(o=s.n()).done;){var u=o.value;u instanceof fl&&null===n.get(u.key)&&(i=i.add(u.key))}}catch(l){s.e(l)}finally{s.f()}}}catch(l){a.e(l)}finally{a.f()}var c=n;return this.Je.getEntries(e,i).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))}}]),e}(),ih=function(){function e(t,n,r,i){Qt(this,e),this.targetId=t,this.fromCache=n,this.kn=r,this.xn=i}return Xt(e,null,[{key:"$n",value:function(t,n){var r,i=Dl(),a=Dl(),o=ln(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),ah=function(){function e(){Qt(this,e)}return Xt(e,[{key:"On",value:function(e){this.Mn=e}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(gu.min())?this.Fn(e,t):this.Mn.vn(e,r).next((function(a){var o=i.Ln(t,a);return(Sc(t)||Tc(t))&&i.Bn(t.limitType,o,r,n)?i.Fn(e,t):($s()<=rr.DEBUG&&Qs("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Fc(t)),i.Mn.getDocumentsMatchingQuery(e,t,n).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"Ln",value:function(e,t){var n=new Sl(jc(e));return t.forEach((function(t,r){Lc(e,r)&&(n=n.add(r))})),n}},{key:"Bn",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Fn",value:function(e,t){return $s()<=rr.DEBUG&&Qs("QueryEngine","Using full collection scan to execute query:",Fc(t)),this.Mn.getDocumentsMatchingQuery(e,t,gu.min())}}]),e}(),oh=function(){function e(t,n,r,i){Qt(this,e),this.persistence=t,this.Un=n,this.k=i,this.qn=new wl(vu),this.Kn=new th((function(e){return ic(e)}),ac),this.jn=gu.min(),this.An=t.getMutationQueue(r),this.Qn=t.getRemoteDocumentCache(),this.He=t.getTargetCache(),this.Wn=new rh(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=t.getBundleCache(),this.Un.On(this.Wn)}return Xt(e,[{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.qn)}))}}]),e}();function sh(e,t,n,r){return new oh(e,t,n,r)}function uh(e,t){return ch.apply(this,arguments)}function ch(){return ch=Kt($t().mark((function e(t,n){var r,i,a,o;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=tu(t),i=r.An,a=r.Wn,e.next=4,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.An.getAllMutationBatches(e).next((function(o){return t=o,i=r.persistence.getMutationQueue(n),a=new rh(r.Qn,i,r.persistence.getIndexManager()),i.getAllMutationBatches(e)})).next((function(n){var r,i=[],o=[],s=Dl(),u=ln(t);try{for(u.s();!(r=u.n()).done;){var c=r.value;i.push(c.batchId);var l,f=ln(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){u.e(k)}finally{u.f()}var d,p=ln(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var y,m=ln(v.mutations);try{for(m.s();!(y=m.n()).done;){var g=y.value;s=s.add(g.key)}}catch(k){m.e(k)}finally{m.f()}}}catch(k){p.e(k)}finally{p.f()}return a.vn(e,s).next((function(e){return{Gn:e,removedBatchIds:i,addedBatchIds:o}}))}))}));case 4:return o=e.sent,e.abrupt("return",(r.An=i,r.Wn=a,r.Un.On(r.Wn),o));case 6:case"end":return e.stop()}}),e)}))),ch.apply(this,arguments)}function lh(e,t){var n=tu(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Qn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=qf.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);eu(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),o.next((function(){return e.An.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.An.performConsistencyCheck(e)})).next((function(){return n.Wn.vn(e,r)}))}))}function fh(e){var t=tu(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.He.getLastRemoteSnapshotVersion(e)}))}function hh(e,t){var n=tu(e),r=t.snapshotVersion,i=n.qn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.qn;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.He.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.He.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?c=c.withResumeToken(Cu.EMPTY_BYTE_STRING,gu.min()).withLastLimboFreeSnapshotVersion(gu.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.He.updateTargetData(e,c))}}));var s=Il();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(dh(e,a,t.documentUpdates,r,void 0).next((function(e){s=e}))),!r.isEqual(gu.min())){var u=n.He.getLastRemoteSnapshotVersion(e).next((function(t){return n.He.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(u)}return qf.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.Wn.Vn(e,s)})).next((function(){return s}))})).then((function(e){return n.qn=i,e}))}function dh(e,t,n,r,i){var a=Dl();return n.forEach((function(e){return a=a.add(e)})),t.getEntries(e,a).next((function(e){var a=Il();return n.forEach((function(n,o){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(gu.min())?(t.removeEntry(n,u),a=a.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o,u),a=a.insert(n,o)):Qs("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),a}))}function ph(e,t){var n=tu(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.An.getNextMutationBatchAfterBatchId(e,t)}))}function vh(e,t){var n=tu(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.He.getTargetData(e,t).next((function(i){return i?(r=i,qf.resolve(r)):n.He.allocateTargetId(e).next((function(i){return r=new Kf(t,i,0,e.currentSequenceNumber),n.He.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.qn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qn=n.qn.insert(e.targetId,e),n.Kn.set(t,e.targetId)),e}))}function yh(e,t,n){return mh.apply(this,arguments)}function mh(){return mh=Kt($t().mark((function e(t,n,r){var i,a,o;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=tu(t),a=i.qn.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Bf(e.t1)){e.next=12;break}throw e.t1;case 12:Qs("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.qn=i.qn.remove(n),i.Kn.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),mh.apply(this,arguments)}function gh(e,t,n){var r=tu(e),i=gu.min(),a=Dl();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=tu(e),i=r.Kn.get(n);return void 0!==i?qf.resolve(r.qn.get(i)):r.He.getTargetData(t,n)}(r,e,Oc(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Un.getDocumentsMatchingQuery(e,t,n?i:gu.min(),n?a:Dl())})).next((function(e){return{documents:e,zn:a}}))}))}var kh=function(){function e(t){Qt(this,e),this.k=t,this.Xn=new Map,this.Zn=new Map}return Xt(e,[{key:"getBundleMetadata",value:function(e,t){return qf.resolve(this.Xn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Xn.set(t.id,{id:(n=t).id,version:n.version,createTime:Jl(n.createTime)}),qf.resolve()}},{key:"getNamedQuery",value:function(e,t){return qf.resolve(this.Zn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Zn.set(t.name,function(e){return{name:e.name,query:$f(e.bundledQuery),readTime:Jl(e.readTime)}}(t)),qf.resolve()}}]),e}(),bh=function(){function e(){Qt(this,e),this.ts=new Sl(_h.es),this.ns=new Sl(_h.ss)}return Xt(e,[{key:"isEmpty",value:function(){return this.ts.isEmpty()}},{key:"addReference",value:function(e,t){var n=new _h(e,t);this.ts=this.ts.add(n),this.ns=this.ns.add(n)}},{key:"rs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.os(new _h(e,t))}},{key:"cs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"us",value:function(e){var t=this,n=new Mu(new xu([])),r=new _h(n,e),i=new _h(n,e+1),a=[];return this.ns.forEachInRange([r,i],(function(e){t.os(e),a.push(e.key)})),a}},{key:"hs",value:function(){var e=this;this.ts.forEach((function(t){return e.os(t)}))}},{key:"os",value:function(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}},{key:"ls",value:function(e){var t=new Mu(new xu([])),n=new _h(t,e),r=new _h(t,e+1),i=Dl();return this.ns.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new _h(e,0),n=this.ts.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),_h=function(){function e(t,n){Qt(this,e),this.key=t,this.fs=n}return Xt(e,null,[{key:"es",value:function(e,t){return Mu.comparator(e.key,t.key)||vu(e.fs,t.fs)}},{key:"ss",value:function(e,t){return vu(e.fs,t.fs)||Mu.comparator(e.key,t.key)}}]),e}(),wh=function(){function e(t,n){Qt(this,e),this.Jt=t,this.referenceDelegate=n,this.An=[],this.ds=1,this.ws=new Sl(_h.es)}return Xt(e,[{key:"checkEmpty",value:function(e){return qf.resolve(0===this.An.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ds;this.ds++,this.An.length>0&&this.An[this.An.length-1];var a=new Wf(i,t,n,r);this.An.push(a);var o,s=ln(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.ws=this.ws.add(new _h(u.key,i)),this.Jt.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return qf.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return qf.resolve(this._s(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.gs(n),i=r<0?0:r;return qf.resolve(this.An.length>i?this.An[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return qf.resolve(0===this.An.length?-1:this.ds-1)}},{key:"getAllMutationBatches",value:function(e){return qf.resolve(this.An.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new _h(t,0),i=new _h(t,Number.POSITIVE_INFINITY),a=[];return this.ws.forEachInRange([r,i],(function(e){var t=n._s(e.fs);a.push(t)})),qf.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Sl(vu);return t.forEach((function(e){var t=new _h(e,0),i=new _h(e,Number.POSITIVE_INFINITY);n.ws.forEachInRange([t,i],(function(e){r=r.add(e.fs)}))})),qf.resolve(this.ys(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Mu.isDocumentKey(i)||(i=i.child(""));var a=new _h(new Mu(i),0),o=new Sl(vu);return this.ws.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.fs)),!0)}),a),qf.resolve(this.ys(o))}},{key:"ys",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t._s(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;eu(0===this.ps(t.batchId,"removed")),this.An.shift();var r=this.ws;return qf.forEach(t.mutations,(function(i){var a=new _h(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ws=r}))}},{key:"ee",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new _h(t,0),r=this.ws.firstAfterOrEqual(n);return qf.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.An.length,qf.resolve()}},{key:"ps",value:function(e,t){return this.gs(e)}},{key:"gs",value:function(e){return 0===this.An.length?0:e-this.An[0].batchId}},{key:"_s",value:function(e){var t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}]),e}(),xh=function(){function e(t,n){Qt(this,e),this.Jt=t,this.Ts=n,this.docs=new wl(Mu.comparator),this.size=0}return Xt(e,[{key:"addEntry",value:function(e,t,n){var r=t.key,i=this.docs.get(r),a=i?i.size:0,o=this.Ts(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o,readTime:n}),this.size+=o-a,this.Jt.addToCollectionParentIndex(e,r.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return qf.resolve(n?n.document.mutableCopy():tc.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Il();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():tc.newInvalidDocument(e))})),qf.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){for(var r=Il(),i=new Mu(t.path.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),s=o.key,u=o.value,c=u.document,l=u.readTime;if(!t.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||Lc(t,c)&&(r=r.insert(c.key,c.mutableCopy()))}return qf.resolve(r)}},{key:"Es",value:function(e,t){return qf.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Eh(this)}},{key:"getSize",value:function(e){return qf.resolve(this.size)}}]),e}(),Eh=function(e){Zt(n,e);var t=on(n);function n(e){var r;return Qt(this,n),(r=t.call(this)).De=e,r}return Xt(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.De.addEntry(e,i.document,t.getReadTime(r))):t.De.removeEntry(r)})),qf.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.De.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.De.getEntries(e,t)}}]),n}(nh),Sh=function(){function e(t){Qt(this,e),this.persistence=t,this.Is=new th((function(e){return ic(e)}),ac),this.lastRemoteSnapshotVersion=gu.min(),this.highestTargetId=0,this.As=0,this.Rs=new bh,this.targetCount=0,this.bs=Jf.ie()}return Xt(e,[{key:"forEachTarget",value:function(e,t){return this.Is.forEach((function(e,n){return t(n)})),qf.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return qf.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return qf.resolve(this.As)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.bs.next(),qf.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.As&&(this.As=t),qf.resolve()}},{key:"ae",value:function(e){this.Is.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.bs=new Jf(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.ae(t),this.targetCount+=1,qf.resolve()}},{key:"updateTargetData",value:function(e,t){return this.ae(t),qf.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,qf.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Is.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Is.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),qf.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return qf.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Is.get(t)||null;return qf.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Rs.rs(t,n),qf.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Rs.cs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),qf.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Rs.us(t),qf.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Rs.ls(t);return qf.resolve(n)}},{key:"containsKey",value:function(e,t){return qf.resolve(this.Rs.containsKey(t))}}]),e}(),Th=function(){function e(t,n){var r=this;Qt(this,e),this.Ps={},this.Be=new hu(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=t(this),this.He=new Sh(this),this.Jt=new Qf,this.Je=function(e,t){return new xh(e,(function(e){return r.referenceDelegate.vs(e)}))}(this.Jt),this.k=new Gf(n),this.Ye=new kh(this.k)}return Xt(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ue=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ue}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(){return this.Jt}},{key:"getMutationQueue",value:function(e){var t=this.Ps[e.toKey()];return t||(t=new wh(this.Jt,this.referenceDelegate),this.Ps[e.toKey()]=t),t}},{key:"getTargetCache",value:function(){return this.He}},{key:"getRemoteDocumentCache",value:function(){return this.Je}},{key:"getBundleCache",value:function(){return this.Ye}},{key:"runTransaction",value:function(e,t,n){var r=this;Qs("MemoryPersistence","Starting transaction:",e);var i=new Ch(this.Be.next());return this.referenceDelegate.Vs(),n(i).next((function(e){return r.referenceDelegate.Ss(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ds",value:function(e,t){return qf.or(Object.values(this.Ps).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Ch=function(e){Zt(n,e);var t=on(n);function n(e){var r;return Qt(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Xt(n)}(zf),Ih=function(){function e(t){Qt(this,e),this.persistence=t,this.Cs=new bh,this.Ns=null}return Xt(e,[{key:"xs",get:function(){if(this.Ns)return this.Ns;throw Zs()}},{key:"addReference",value:function(e,t,n){return this.Cs.addReference(n,t),this.xs.delete(n.toString()),qf.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Cs.removeReference(n,t),this.xs.add(n.toString()),qf.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.xs.add(t.toString()),qf.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Cs.us(t.targetId).forEach((function(e){return n.xs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.xs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Vs",value:function(){this.Ns=new Set}},{key:"Ss",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return qf.forEach(this.xs,(function(r){var i=Mu.fromPath(r);return t.$s(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Ns=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.$s(e,t).next((function(e){e?n.xs.delete(t.toString()):n.xs.add(t.toString())}))}},{key:"vs",value:function(e){return 0}},{key:"$s",value:function(e,t){var n=this;return qf.or([function(){return qf.resolve(n.Cs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ds(e,t)}])}}],[{key:"ks",value:function(t){return new e(t)}}]),e}();var Nh=function(){function e(){Qt(this,e),this.activeTargetIds=Ll()}return Xt(e,[{key:"Fs",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Ls",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Ms",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Ah=function(){function e(){Qt(this,e),this.pi=new Nh,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Xt(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.pi.Fs(e),this.Ti[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ti[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.pi.Ls(e)}},{key:"isLocalQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ti[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.pi.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"start",value:function(){return this.pi=new Nh,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(){}}]),e}(),Oh=function(){function e(){Qt(this,e)}return Xt(e,[{key:"Ei",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Rh=function(){function e(){var t=this;Qt(this,e),this.Ii=function(){return t.Ai()},this.Ri=function(){return t.bi()},this.Pi=[],this.vi()}return Xt(e,[{key:"Ei",value:function(e){this.Pi.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}},{key:"vi",value:function(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}},{key:"Ai",value:function(){Qs("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=ln(this.Pi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"bi",value:function(){Qs("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=ln(this.Pi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"Pt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Ph={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Dh=function(){function e(t){Qt(this,e),this.Vi=t.Vi,this.Si=t.Si}return Xt(e,[{key:"Di",value:function(e){this.Ci=e}},{key:"Ni",value:function(e){this.ki=e}},{key:"onMessage",value:function(e){this.xi=e}},{key:"close",value:function(){this.Si()}},{key:"send",value:function(e){this.Vi(e)}},{key:"$i",value:function(){this.Ci()}},{key:"Oi",value:function(e){this.ki(e)}},{key:"Mi",value:function(e){this.xi(e)}}]),e}(),Fh=function(e){Zt(n,e);var t=on(n);function n(e){var r;return Qt(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return Xt(n,[{key:"Ki",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Bs;o.listenOnce(Ms.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case js.NO_ERROR:var t=o.getResponseJson();Qs("Connection","XHR received:",JSON.stringify(t)),i(t);break;case js.TIMEOUT:Qs("Connection",'RPC "'+e+'" timed out'),a(new ru(nu.DEADLINE_EXCEEDED,"Request time out"));break;case js.HTTP_ERROR:var n=o.getStatus();if(Qs("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(nu).indexOf(t)>=0?t:nu.UNKNOWN}(r.status);a(new ru(s,r.message))}else a(new ru(nu.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new ru(nu.UNAVAILABLE,"Connection failed."));break;default:Zs()}}finally{Qs("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);o.send(t,"POST",s,n,15)}))}},{key:"Qi",value:function(e,t,n){var r=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Fs(),a=Ls(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new zs({})),this.qi(o.initMessageHeaders,t,n),Tn()||In()||Sn().indexOf("Electron/")>=0||Nn()||Sn().indexOf("MSAppHost/")>=0||Cn()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=r.join("");Qs("Connection","Creating WebChannel: "+s,o);var u=i.createWebChannel(s,o),c=!1,l=!1,f=new Dh({Vi:function(e){l?Qs("Connection","Not sending because WebChannel is closed:",e):(c||(Qs("Connection","Opening WebChannel transport."),u.open(),c=!0),Qs("Connection","WebChannel sending:",e),u.send(e))},Si:function(){return u.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(u,qs.EventType.OPEN,(function(){l||Qs("Connection","WebChannel transport opened.")})),h(u,qs.EventType.CLOSE,(function(){l||(l=!0,Qs("Connection","WebChannel transport closed"),f.Oi())})),h(u,qs.EventType.ERROR,(function(e){l||(l=!0,Xs("Connection","WebChannel transport errored:",e),f.Oi(new ru(nu.UNAVAILABLE,"The operation could not be completed")))})),h(u,qs.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];eu(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Qs("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=vl[e];if(void 0!==t)return _l(t)}(a),s=i.message;void 0===o&&(o=nu.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),l=!0,f.Oi(new ru(o,s)),u.close()}else Qs("Connection","WebChannel received:",n),f.Mi(n)}})),h(a,Us.STAT_EVENT,(function(e){e.stat===Vs.PROXY?Qs("Connection","Detected buffering proxy"):e.stat===Vs.NOPROXY&&Qs("Connection","Detected no buffering proxy")})),setTimeout((function(){f.$i()}),0),f}}]),n}(function(){function e(t){Qt(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Fi=n+"://"+t.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Xt(e,[{key:"Bi",value:function(e,t,n,r,i){var a=this.Ui(e,t);Qs("RestConnection","Sending: ",a,n);var o={};return this.qi(o,r,i),this.Ki(e,a,o,n).then((function(e){return Qs("RestConnection","Received: ",e),e}),(function(t){throw Xs("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ji",value:function(e,t,n,r,i){return this.Bi(e,t,n,r,i)}},{key:"qi",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ks,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"Ui",value:function(e,t){var n=Ph[e];return"".concat(this.Fi,"/v1/").concat(t,":").concat(n)}}]),e}());function Lh(){return"undefined"!=typeof document?document:null}function jh(e){return new $l(e,!0)}var Mh=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Qt(this,e),this.Me=t,this.timerId=n,this.Wi=r,this.Gi=i,this.zi=a,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}return Xt(e,[{key:"reset",value:function(){this.Hi=0}},{key:"Xi",value:function(){this.Hi=this.zi}},{key:"Zi",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Hi+this.tr()),r=Math.max(0,Date.now()-this.Yi),i=Math.max(0,n-r);i>0&&Qs("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Hi," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Ji=this.Me.enqueueAfterDelay(this.timerId,i,(function(){return t.Yi=Date.now(),e()})),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}},{key:"er",value:function(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}},{key:"cancel",value:function(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}},{key:"tr",value:function(){return(Math.random()-.5)*this.Hi}}]),e}(),Uh=function(){function e(t,n,r,i,a,o,s,u){Qt(this,e),this.Me=t,this.nr=r,this.sr=i,this.ir=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.rr=0,this.cr=null,this.ar=null,this.stream=null,this.ur=new Mh(t,n)}return Xt(e,[{key:"hr",value:function(){return 1===this.state||5===this.state||this.lr()}},{key:"lr",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.dr()}},{key:"stop",value:function(){var e=Kt($t().mark((function e(){return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.hr(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"wr",value:function(){this.state=0,this.ur.reset()}},{key:"_r",value:function(){var e=this;this.lr()&&null===this.cr&&(this.cr=this.Me.enqueueAfterDelay(this.nr,6e4,(function(){return e.mr()})))}},{key:"gr",value:function(e){this.yr(),this.stream.send(e)}},{key:"mr",value:function(){var e=Kt($t().mark((function e(){return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.lr()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"yr",value:function(){this.cr&&(this.cr.cancel(),this.cr=null)}},{key:"pr",value:function(){this.ar&&(this.ar.cancel(),this.ar=null)}},{key:"close",value:function(){var e=Kt($t().mark((function e(t,n){return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.yr(),this.pr(),this.ur.cancel(),this.rr++,4!==t?this.ur.reset():n&&n.code===nu.RESOURCE_EXHAUSTED?(Ys(n.toString()),Ys("Using maximum backoff delay to prevent overloading the backend."),this.ur.Xi()):n&&n.code===nu.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Tr(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Ni(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Tr",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Er(this.rr),n=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=a(t,2),i=r[0],o=r[1];e.rr===n&&e.Ir(i,o)}),(function(n){t((function(){var t=new ru(nu.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Ar(t)}))}))}},{key:"Ir",value:function(e,t){var n=this,r=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di((function(){r((function(){return n.state=2,n.ar=n.Me.enqueueAfterDelay(n.sr,1e4,(function(){return n.lr()&&(n.state=3),Promise.resolve()})),n.listener.Di()}))})),this.stream.Ni((function(e){r((function(){return n.Ar(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"dr",value:function(){var e=this;this.state=5,this.ur.Zi(Kt($t().mark((function t(){return $t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Ar",value:function(e){return Qs("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Er",value:function(e){var t=this;return function(n){t.Me.enqueueAndForget((function(){return t.rr===e?n():(Qs("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Vh=function(e){Zt(n,e);var t=on(n);function n(e,r,i,a,o,s){var u;return Qt(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).k=o,u}return Xt(n,[{key:"Rr",value:function(e,t){return this.ir.Qi("Listen",e,t)}},{key:"onMessage",value:function(e){this.ur.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Zs()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.C?(eu(void 0===t||"string"==typeof t),Cu.fromBase64String(t||"")):(eu(void 0===t||t instanceof Uint8Array),Cu.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?nu.UNKNOWN:_l(e.code);return new ru(t,e.message||"")}(o);n=new zl(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=nf(e,u.document.name),l=Jl(u.document.updateTime),f=new Zu({mapValue:{fields:u.document.fields}}),h=tc.newFoundDocument(c,l,f),d=u.targetIds||[],p=u.removedTargetIds||[];n=new Ul(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var y=nf(e,v.document),m=v.readTime?Jl(v.readTime):gu.min(),g=tc.newNoDocument(y,m),k=v.removedTargetIds||[];n=new Ul([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var _=nf(e,b.document),w=b.removedTargetIds||[];n=new Ul([],w,_,null)}else{if(!("filter"in t))return Zs();t.filter;var x=t.filter;x.targetId;var E=x.count||0,S=new kl(E),T=x.targetId;n=new Vl(T,S)}return n}(this.k,e),n=function(e){if(!("targetChange"in e))return gu.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?gu.min():t.readTime?Jl(t.readTime):gu.min()}(e);return this.listener.br(t,n)}},{key:"Pr",value:function(e){var t={};t.database=of(this.k),t.addTarget=function(e,t){var n,r=t.target;return(n=oc(r)?{documents:lf(e,r)}:{query:ff(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Yl(e,t.resumeToken):t.snapshotVersion.compareTo(gu.min())>0&&(n.readTime=Ql(e,t.snapshotVersion.toTimestamp())),n}(this.k,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Zs()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.k,e);n&&(t.labels=n),this.gr(t)}},{key:"vr",value:function(e){var t={};t.database=of(this.k),t.removeTarget=e,this.gr(t)}}]),n}(Uh),zh=function(e){Zt(n,e);var t=on(n);function n(e,r,i,a,o,s){var u;return Qt(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).k=o,u.Vr=!1,u}return Xt(n,[{key:"Sr",get:function(){return this.Vr}},{key:"start",value:function(){this.Vr=!1,this.lastStreamToken=void 0,cn(en(n.prototype),"start",this).call(this)}},{key:"Tr",value:function(){this.Vr&&this.Dr([])}},{key:"Rr",value:function(e,t){return this.ir.Qi("Write",e,t)}},{key:"onMessage",value:function(e){if(eu(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();var t=function(e,t){return e&&e.length>0?(eu(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Jl(e.updateTime):Jl(t);return n.isEqual(gu.min())&&(n=Jl(t)),new tl(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Jl(e.commitTime);return this.listener.Cr(n,t)}return eu(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}},{key:"kr",value:function(){var e={};e.database=of(this.k),this.gr(e)}},{key:"Dr",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return cf(t.k,e)}))};this.gr(n)}}]),n}(Uh),qh=function(e){Zt(n,e);var t=on(n);function n(e,r,i,a){var o;return Qt(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.ir=i,o.k=a,o.$r=!1,o}return Xt(n,[{key:"Or",value:function(){if(this.$r)throw new ru(nu.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Bi",value:function(e,t,n){var r=this;return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var o=a(i,2),s=o[0],u=o[1];return r.ir.Bi(e,t,n,s,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===nu.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new ru(nu.UNKNOWN,e.toString())}))}},{key:"ji",value:function(e,t,n){var r=this;return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var o=a(i,2),s=o[0],u=o[1];return r.ir.ji(e,t,n,s,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===nu.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new ru(nu.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.$r=!0}}]),n}(function(){return Xt((function e(){Qt(this,e)}))}()),Bh=function(){function e(t,n){Qt(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.Mr=0,this.Fr=null,this.Lr=!0}return Xt(e,[{key:"Br",value:function(){var e=this;0===this.Mr&&(this.Ur("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Fr=null,e.qr("Backend didn't respond within 10 seconds."),e.Ur("Offline"),Promise.resolve()})))}},{key:"Kr",value:function(e){"Online"===this.state?this.Ur("Unknown"):(this.Mr++,this.Mr>=1&&(this.jr(),this.qr("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.Ur("Offline")))}},{key:"set",value:function(e){this.jr(),this.Mr=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}},{key:"Ur",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"qr",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.Lr?(Ys(t),this.Lr=!1):Qs("OnlineStateTracker",t)}},{key:"jr",value:function(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}]),e}(),Wh=Xt((function e(t,n,r,i,a){var o=this;Qt(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=a,this.Hr.Ei((function(e){r.enqueueAndForget(Kt($t().mark((function e(){return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=td(o),!e.t0){e.next=5;break}return Qs("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Kt($t().mark((function e(t){var n;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=tu(t)).Gr.add(4),e.next=4,Gh(n);case 4:return n.Jr.set("Unknown"),n.Gr.delete(4),e.next=8,Hh(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.Jr=new Bh(r,i)}));function Hh(e){return Kh.apply(this,arguments)}function Kh(){return Kh=Kt($t().mark((function e(t){var n,r,i;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!td(t)){e.next=18;break}n=ln(t.zr),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Kh.apply(this,arguments)}function Gh(e){return $h.apply(this,arguments)}function $h(){return $h=Kt($t().mark((function e(t){var n,r,i;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=ln(t.zr),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),$h.apply(this,arguments)}function Qh(e,t){var n=tu(e);n.Wr.has(t.targetId)||(n.Wr.set(t.targetId,t),ed(n)?Zh(n):Ad(n).lr()&&Xh(n,t))}function Yh(e,t){var n=tu(e),r=Ad(n);n.Wr.delete(t),r.lr()&&Jh(n,t),0===n.Wr.size&&(r.lr()?r._r():td(n)&&n.Jr.set("Unknown"))}function Xh(e,t){e.Yr.X(t.targetId),Ad(e).Pr(t)}function Jh(e,t){e.Yr.X(t),Ad(e).vr(t)}function Zh(e){e.Yr=new Bl({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.Wr.get(t)||null}}),Ad(e).start(),e.Jr.Br()}function ed(e){return td(e)&&!Ad(e).hr()&&e.Wr.size>0}function td(e){return 0===tu(e).Gr.size}function nd(e){e.Yr=void 0}function rd(e){return id.apply(this,arguments)}function id(){return id=Kt($t().mark((function e(t){return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.Wr.forEach((function(e,n){Xh(t,e)}));case 1:case"end":return e.stop()}}),e)}))),id.apply(this,arguments)}function ad(e,t){return od.apply(this,arguments)}function od(){return od=Kt($t().mark((function e(t,n){return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:nd(t),ed(t)?(t.Jr.Kr(n),Zh(t)):t.Jr.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),od.apply(this,arguments)}function sd(e,t,n){return ud.apply(this,arguments)}function ud(){return ud=Kt($t().mark((function e(t,n,r){var i;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.Jr.set("Online"),!(n instanceof zl&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Kt($t().mark((function e(t,n){var r,i,a,o;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=ln(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.Wr.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.Wr.delete(o),t.Yr.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Qs("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,cd(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Ul?t.Yr.ot(n):n instanceof Vl?t.Yr.dt(n):t.Yr.ut(n),r.isEqual(gu.min())){e.next=29;break}return e.prev=14,e.next=17,fh(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Yr.gt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Wr.get(r);i&&e.Wr.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.Wr.get(t);if(n){e.Wr.set(t,n.withResumeToken(Cu.EMPTY_BYTE_STRING,n.snapshotVersion)),Jh(e,t);var r=new Kf(n.target,t,1,n.sequenceNumber);Xh(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Qs("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,cd(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),ud.apply(this,arguments)}function cd(e,t,n){return ld.apply(this,arguments)}function ld(){return ld=Kt($t().mark((function e(t,n,r){return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Bf(n)){e.next=2;break}throw n;case 2:return t.Gr.add(1),e.next=5,Gh(t);case 5:t.Jr.set("Offline"),r||(r=function(){return fh(t.localStore)}),t.asyncQueue.enqueueRetryable(Kt($t().mark((function e(){return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qs("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.Gr.delete(1),e.next=6,Hh(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),ld.apply(this,arguments)}function fd(e,t){return t().catch((function(n){return cd(e,n,t)}))}function hd(e){return dd.apply(this,arguments)}function dd(){return dd=Kt($t().mark((function e(t){var n,r,i,a;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=tu(t),r=Od(n),i=n.Qr.length>0?n.Qr[n.Qr.length-1].batchId:-1;case 2:if(!pd(n)){e.next=19;break}return e.prev=3,e.next=6,ph(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Qr.length&&r._r(),e.abrupt("break",19);case 10:i=a.batchId,vd(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,cd(n,e.t0);case 17:e.next=2;break;case 19:yd(n)&&md(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),dd.apply(this,arguments)}function pd(e){return td(e)&&e.Qr.length<10}function vd(e,t){e.Qr.push(t);var n=Od(e);n.lr()&&n.Sr&&n.Dr(t.mutations)}function yd(e){return td(e)&&!Od(e).hr()&&e.Qr.length>0}function md(e){Od(e).start()}function gd(e){return kd.apply(this,arguments)}function kd(){return kd=Kt($t().mark((function e(t){return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Od(t).kr();case 1:case"end":return e.stop()}}),e)}))),kd.apply(this,arguments)}function bd(e){return _d.apply(this,arguments)}function _d(){return _d=Kt($t().mark((function e(t){var n,r,i,a;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Od(t),r=ln(t.Qr);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Dr(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),_d.apply(this,arguments)}function wd(e,t,n){return xd.apply(this,arguments)}function xd(){return xd=Kt($t().mark((function e(t,n,r){var i,a;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Qr.shift(),a=Hf.from(i,n,r),e.next=3,fd(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,hd(t);case 5:case"end":return e.stop()}}),e)}))),xd.apply(this,arguments)}function Ed(e,t){return Sd.apply(this,arguments)}function Sd(){return Sd=Kt($t().mark((function e(t,n){return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Od(t).Sr,!e.t0){e.next=4;break}return e.next=4,function(){var e=Kt($t().mark((function e(t,n){var r,i;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!bl(i=n.code)||i===nu.ABORTED){e.next=7;break}return r=t.Qr.shift(),Od(t).wr(),e.next=5,fd(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,hd(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:yd(t)&&md(t);case 5:case"end":return e.stop()}}),e)}))),Sd.apply(this,arguments)}function Td(e,t){return Cd.apply(this,arguments)}function Cd(){return Cd=Kt($t().mark((function e(t,n){var r,i;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=tu(t)).asyncQueue.verifyOperationInProgress(),Qs("RemoteStore","RemoteStore received new credentials"),i=td(r),r.Gr.add(3),e.next=6,Gh(r);case 6:return i&&r.Jr.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.Gr.delete(3),e.next=12,Hh(r);case 12:case"end":return e.stop()}}),e)}))),Cd.apply(this,arguments)}function Id(e,t){return Nd.apply(this,arguments)}function Nd(){return Nd=Kt($t().mark((function e(t,n){var r;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=tu(t),!n){e.next=7;break}return r.Gr.delete(2),e.next=5,Hh(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.Gr.add(2),e.next=12,Gh(r);case 12:r.Jr.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),Nd.apply(this,arguments)}function Ad(e){return e.Xr||(e.Xr=function(e,t,n){var r=tu(e);return r.Or(),new Vh(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:rd.bind(null,e),Ni:ad.bind(null,e),br:sd.bind(null,e)}),e.zr.push(function(){var t=Kt($t().mark((function t(n){return $t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Xr.wr(),ed(e)?Zh(e):e.Jr.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Xr.stop();case 6:nd(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Xr}function Od(e){return e.Zr||(e.Zr=function(e,t,n){var r=tu(e);return r.Or(),new zh(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:gd.bind(null,e),Ni:Ed.bind(null,e),Nr:bd.bind(null,e),Cr:wd.bind(null,e)}),e.zr.push(function(){var t=Kt($t().mark((function t(n){return $t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Zr.wr(),t.next=4,hd(e);case 4:t.next=9;break;case 6:return t.next=8,e.Zr.stop();case 8:e.Qr.length>0&&(Qs("RemoteStore","Stopping write stream with ".concat(e.Qr.length," pending writes")),e.Qr=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Zr}var Rd=function(){function e(t,n,r,i,a){Qt(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new iu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Xt(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ru(nu.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Pd(e,t){if(Ys("AsyncQueue","".concat(t,": ").concat(e)),Bf(e))return new ru(nu.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Dd=function(){function e(t){Qt(this,e),this.comparator=t?function(e,n){return t(e,n)||Mu.comparator(e.key,n.key)}:function(e,t){return Mu.comparator(e.key,t.key)},this.keyedMap=Al(),this.sortedSet=new wl(this.comparator)}return Xt(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Fd=function(){function e(){Qt(this,e),this.eo=new wl(Mu.comparator)}return Xt(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.eo.get(t);n?0!==e.type&&3===n.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==n.type?this.eo=this.eo.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.eo=this.eo.remove(t):1===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):Zs():this.eo=this.eo.insert(t,e)}},{key:"no",value:function(){var e=[];return this.eo.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Ld=function(){function e(t,n,r,i,a,o,s,u){Qt(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u}return Xt(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Pc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,Dd.emptySet(n),a,r,i,!0,!1)}}]),e}(),jd=Xt((function e(){Qt(this,e),this.so=void 0,this.listeners=[]})),Md=Xt((function e(){Qt(this,e),this.queries=new th((function(e){return Dc(e)}),Pc),this.onlineState="Unknown",this.io=new Set}));function Ud(e,t){return Vd.apply(this,arguments)}function Vd(){return Vd=Kt($t().mark((function e(t,n){var r,i,a,o,s;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=tu(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new jd),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.so=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=Pd(e.t0,"Initialization of query '".concat(Fc(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.ro(r.onlineState),o.so&&n.oo(o.so)&&Hd(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),Vd.apply(this,arguments)}function zd(e,t){return qd.apply(this,arguments)}function qd(){return qd=Kt($t().mark((function e(t,n){var r,i,a,o,s;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=tu(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),qd.apply(this,arguments)}function Bd(e,t){var n,r=tu(e),i=!1,a=ln(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=ln(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.oo(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.so=o}}}catch(f){a.e(f)}finally{a.f()}i&&Hd(r)}function Wd(e,t,n){var r=tu(e),i=r.queries.get(t);if(i){var a,o=ln(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function Hd(e){e.io.forEach((function(e){e.next()}))}var Kd=function(){function e(t,n,r){Qt(this,e),this.query=t,this.co=n,this.ao=!1,this.uo=null,this.onlineState="Unknown",this.options=r||{}}return Xt(e,[{key:"oo",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=ln(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Ld(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.ao?this.ho(e)&&(this.co.next(e),a=!0):this.lo(e,this.onlineState)&&(this.fo(e),a=!0),this.uo=e,a}},{key:"onError",value:function(e){this.co.error(e)}},{key:"ro",value:function(e){this.onlineState=e;var t=!1;return this.uo&&!this.ao&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}},{key:"lo",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.wo||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"ho",value:function(e){if(e.docChanges.length>0)return!0;var t=this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"fo",value:function(e){e=Ld.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.ao=!0,this.co.next(e)}}]),e}();var Gd=Xt((function e(t){Qt(this,e),this.key=t})),$d=Xt((function e(t){Qt(this,e),this.key=t})),Qd=function(){function e(t,n){Qt(this,e),this.query=t,this.To=n,this.Eo=null,this.current=!1,this.Io=Dl(),this.mutatedKeys=Dl(),this.Ao=jc(t),this.Ro=new Dd(this.Ao)}return Xt(e,[{key:"bo",get:function(){return this.To}},{key:"Po",value:function(e,t){var n=this,r=t?t.vo:new Fd,i=t?t.Ro:this.Ro,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u=Sc(this.query)&&i.size===this.query.limit?i.last():null,c=Tc(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Lc(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Vo(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.Ao(f,u)>0||c&&n.Ao(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),Sc(this.query)||Tc(this.query))for(;o.size>this.query.limit;){var l=Sc(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Ro:o,vo:r,Bn:s,mutatedKeys:a}}},{key:"Vo",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;var a=e.vo.no();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Zs()}};return n(e)-n(t)}(e.type,t.type)||r.Ao(e.doc,t.doc)})),this.So(n);var o=t?this.Do():[],s=0===this.Io.size&&this.current?1:0,u=s!==this.Eo;return this.Eo=s,0!==a.length||u?{snapshot:new Ld(this.query,e.Ro,i,a,e.mutatedKeys,0===s,u,!1),Co:o}:{Co:o}}},{key:"ro",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new Fd,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}},{key:"No",value:function(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}},{key:"So",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.To=t.To.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.To=t.To.delete(e)})),this.current=e.current)}},{key:"Do",value:function(){var e=this;if(!this.current)return[];var t=this.Io;this.Io=Dl(),this.Ro.forEach((function(t){e.No(t.key)&&(e.Io=e.Io.add(t.key))}));var n=[];return t.forEach((function(t){e.Io.has(t)||n.push(new $d(t))})),this.Io.forEach((function(e){t.has(e)||n.push(new Gd(e))})),n}},{key:"ko",value:function(e){this.To=e.zn,this.Io=Dl();var t=this.Po(e.documents);return this.applyChanges(t,!0)}},{key:"xo",value:function(){return Ld.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}]),e}(),Yd=Xt((function e(t,n,r){Qt(this,e),this.query=t,this.targetId=n,this.view=r})),Xd=Xt((function e(t){Qt(this,e),this.key=t,this.$o=!1})),Jd=function(){function e(t,n,r,i,a,o){Qt(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Oo={},this.Mo=new th((function(e){return Dc(e)}),Pc),this.Fo=new Map,this.Lo=new Set,this.Bo=new wl(Mu.comparator),this.Uo=new Map,this.qo=new bh,this.Ko={},this.jo=new Map,this.Qo=Jf.re(),this.onlineState="Unknown",this.Wo=void 0}return Xt(e,[{key:"isPrimaryClient",get:function(){return!0===this.Wo}}]),e}();function Zd(e,t){return ep.apply(this,arguments)}function ep(){return ep=Kt($t().mark((function e(t,n){var r,i,a,o,s,u;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ip(t),!(o=r.Mo.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.xo(),e.next=15;break;case 6:return e.next=8,vh(r.localStore,Oc(n));case 8:return s=e.sent,u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=13,tp(r,n,i,"current"===u);case 13:a=e.sent,r.isPrimaryClient&&Qh(r.remoteStore,s);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),ep.apply(this,arguments)}function tp(e,t,n,r){return np.apply(this,arguments)}function np(){return np=Kt($t().mark((function e(t,n,r,i){var a,o,s,u,c,l;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Go=function(e,n,r){return function(){var e=Kt($t().mark((function e(t,n,r,i){var a,o,s;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Po(r),e.t0=a.Bn,!e.t0){e.next=6;break}return e.next=5,gh(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Po(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(bp(t,n.targetId,s.Co),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,gh(t.localStore,n,!0);case 3:return a=e.sent,o=new Qd(n,a.zn),s=o.Po(a.documents),u=Ml.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(s,t.isPrimaryClient,u),bp(t,r,c.Co),l=new Yd(n,r,o),e.abrupt("return",(t.Mo.set(n,l),t.Fo.has(r)?t.Fo.get(r).push(n):t.Fo.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),np.apply(this,arguments)}function rp(e,t){return ip.apply(this,arguments)}function ip(){return ip=Kt($t().mark((function e(t,n){var r,i,a;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=tu(t),i=r.Mo.get(n),!((a=r.Fo.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.Fo.set(i.targetId,a.filter((function(e){return!Pc(e,n)}))),void r.Mo.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,yh(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Yh(r.remoteStore,i.targetId),gp(r,i.targetId)})).catch(Zf);case 9:e.next=14;break;case 11:return gp(r,i.targetId),e.next=14,yh(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),ip.apply(this,arguments)}function ap(e,t,n){return op.apply(this,arguments)}function op(){return op=Kt($t().mark((function e(t,n,r){var i,a,o;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Np(t),e.prev=1,e.next=4,function(e,t){var n,r=tu(e),i=mu.now(),a=t.reduce((function(e,t){return e.add(t.key)}),Dl());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Wn.vn(e,a).next((function(a){n=a;var o,s=[],u=ln(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=sl(c,n.get(c.key));null!=l&&s.push(new fl(c.key,l,ec(l.value.mapValue),nl.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return r.An.addMutationBatch(e,i,s,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Ko[e.currentUser.toKey()];r||(r=new wl(vu)),r=r.insert(t,n),e.Ko[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,xp(i,a.changes);case 9:return e.next=11,hd(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Pd(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),op.apply(this,arguments)}function sp(e,t){return up.apply(this,arguments)}function up(){return up=Kt($t().mark((function e(t,n){var r,i;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=tu(t),e.prev=1,e.next=4,hh(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.Uo.get(t);n&&(eu(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.$o=!0:e.modifiedDocuments.size>0?eu(n.$o):e.removedDocuments.size>0&&(eu(n.$o),n.$o=!1))})),e.next=8,xp(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Zf(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),up.apply(this,arguments)}function cp(e,t,n){var r=tu(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Mo.forEach((function(e,n){var r=n.view.ro(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=tu(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=ln(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.ro(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&Hd(n)}(r.eventManager,t),i.length&&r.Oo.br(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function lp(e,t,n){return fp.apply(this,arguments)}function fp(){return fp=Kt($t().mark((function e(t,n,r){var i,a,o,s,u,c;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=tu(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.Uo.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new wl(Mu.comparator)).insert(o,tc.newNoDocument(o,gu.min())),u=Dl().add(o),c=new jl(gu.min(),new Map,new Sl(vu),s,u),e.next=9,sp(i,c);case 9:i.Bo=i.Bo.remove(o),i.Uo.delete(n),wp(i),e.next=16;break;case 14:return e.next=16,yh(i.localStore,n,!1).then((function(){return gp(i,n,r)})).catch(Zf);case 16:case"end":return e.stop()}}),e)}))),fp.apply(this,arguments)}function hp(e,t){return dp.apply(this,arguments)}function dp(){return dp=Kt($t().mark((function e(t,n){var r,i,a;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=tu(t),i=n.batch.batchId,e.prev=1,e.next=4,lh(r.localStore,n);case 4:return a=e.sent,mp(r,i,null),yp(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,xp(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Zf(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),dp.apply(this,arguments)}function pp(e,t,n){return vp.apply(this,arguments)}function vp(){return vp=Kt($t().mark((function e(t,n,r){var i,a;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=tu(t),e.prev=1,e.next=4,function(e,t){var n=tu(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.An.lookupMutationBatch(e,t).next((function(t){return eu(null!==t),r=t.keys(),n.An.removeMutationBatch(e,t)})).next((function(){return n.An.performConsistencyCheck(e)})).next((function(){return n.Wn.vn(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,mp(i,n,r),yp(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,xp(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Zf(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),vp.apply(this,arguments)}function yp(e,t){(e.jo.get(t)||[]).forEach((function(e){e.resolve()})),e.jo.delete(t)}function mp(e,t,n){var r=tu(e),i=r.Ko[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Ko[r.currentUser.toKey()]=i}}function gp(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=ln(e.Fo.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.Mo.delete(a),n&&e.Oo.zo(a,n)}}catch(o){i.e(o)}finally{i.f()}e.Fo.delete(t),e.isPrimaryClient&&e.qo.us(t).forEach((function(t){e.qo.containsKey(t)||kp(e,t)}))}function kp(e,t){e.Lo.delete(t.path.canonicalString());var n=e.Bo.get(t);null!==n&&(Yh(e.remoteStore,n),e.Bo=e.Bo.remove(t),e.Uo.delete(n),wp(e))}function bp(e,t,n){var r,i=ln(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof Gd?(e.qo.addReference(a.key,t),_p(e,a)):a instanceof $d?(Qs("SyncEngine","Document no longer in limbo: "+a.key),e.qo.removeReference(a.key,t),e.qo.containsKey(a.key)||kp(e,a.key)):Zs()}}catch(o){i.e(o)}finally{i.f()}}function _p(e,t){var n=t.key,r=n.path.canonicalString();e.Bo.get(n)||e.Lo.has(r)||(Qs("SyncEngine","New document in limbo: "+n),e.Lo.add(r),wp(e))}function wp(e){for(;e.Lo.size>0&&e.Bo.size<e.maxConcurrentLimboResolutions;){var t=e.Lo.values().next().value;e.Lo.delete(t);var n=new Mu(xu.fromString(t)),r=e.Qo.next();e.Uo.set(r,new Xd(n)),e.Bo=e.Bo.insert(n,r),Qh(e.remoteStore,new Kf(Oc(Ec(n.path)),r,2,hu.I))}}function xp(e,t,n){return Ep.apply(this,arguments)}function Ep(){return Ep=Kt($t().mark((function e(t,n,r){var i,a,o,s;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=tu(t),a=[],o=[],s=[],e.t0=i.Mo.isEmpty(),e.t0){e.next=9;break}return i.Mo.forEach((function(e,t){s.push(i.Go(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=ih.$n(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.Oo.br(a),e.next=9,function(){var e=Kt($t().mark((function e(t,n){var r,i,a,o,s,u,c,l;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=tu(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return qf.forEach(n,(function(t){return qf.forEach(t.kn,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return qf.forEach(t.xn,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Bf(e.t0)){e.next=10;break}throw e.t0;case 10:Qs("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=ln(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.qn.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.qn=r.qn.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),Ep.apply(this,arguments)}function Sp(e,t){return Tp.apply(this,arguments)}function Tp(){return Tp=Kt($t().mark((function e(t,n){var r,i;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=tu(t)).currentUser.isEqual(n)){e.next=11;break}return Qs("SyncEngine","User change. New user:",n.toKey()),e.next=5,uh(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.jo.forEach((function(e){e.forEach((function(e){e.reject(new ru(nu.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.jo.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,xp(r,i.Gn);case 11:case"end":return e.stop()}}),e)}))),Tp.apply(this,arguments)}function Cp(e,t){var n=tu(e),r=n.Uo.get(t);if(r&&r.$o)return Dl().add(r.key);var i=Dl(),a=n.Fo.get(t);if(!a)return i;var o,s=ln(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.Mo.get(u);i=i.unionWith(c.view.bo)}}catch(l){s.e(l)}finally{s.f()}return i}function Ip(e){var t=tu(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=sp.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Cp.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=lp.bind(null,t),t.Oo.br=Bd.bind(null,t.eventManager),t.Oo.zo=Wd.bind(null,t.eventManager),t}function Np(e){var t=tu(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=hp.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=pp.bind(null,t),t}var Ap=function(){function e(){Qt(this,e),this.synchronizeTabs=!1}return Xt(e,[{key:"initialize",value:function(){var e=Kt($t().mark((function e(t){return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.k=jh(t.databaseInfo.databaseId),this.sharedClientState=this.Jo(t),this.persistence=this.Yo(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.Xo(t),this.localStore=this.Zo(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Xo",value:function(e){return null}},{key:"Zo",value:function(e){return sh(this.persistence,new ah,e.initialUser,this.k)}},{key:"Yo",value:function(e){return new Th(Ih.ks,this.k)}},{key:"Jo",value:function(e){return new Ah}},{key:"terminate",value:function(){var e=Kt($t().mark((function e(){return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Op=function(){function e(){Qt(this,e)}return Xt(e,[{key:"initialize",value:function(){var e=Kt($t().mark((function e(t,n){var r=this;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return cp(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Sp.bind(null,this.syncEngine),e.next=12,Id(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Md}},{key:"createDatastore",value:function(e){var t,n=jh(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Fh(t));return function(e,t,n,r){return new qh(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return cp(o.syncEngine,e,0)},a=Rh.Pt()?new Rh:new Oh,new Wh(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new Jd(e,t,n,r,i,a);return o&&(s.Wo=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Kt($t().mark((function e(t){var n;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=tu(t),Qs("RemoteStore","RemoteStore shutting down."),n.Gr.add(5),e.next=5,Gh(n);case 5:n.Hr.shutdown(),n.Jr.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();var Rp=function(){function e(t){Qt(this,e),this.observer=t,this.muted=!1}return Xt(e,[{key:"next",value:function(e){this.observer.next&&this.ec(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.ec(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"nc",value:function(){this.muted=!0}},{key:"ec",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),Pp=function(){function e(t,n,r,i){var a=this;Qt(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Hs.UNAUTHENTICATED,this.clientId=pu.A(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Kt($t().mark((function e(t){return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qs("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Qs("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return Xt(e,[{key:"getConfiguration",value:function(){var e=Kt($t().mark((function e(){return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new ru(nu.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new iu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Kt($t().mark((function n(){var r;return $t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Pd(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function Dp(e,t){return Fp.apply(this,arguments)}function Fp(){return Fp=Kt($t().mark((function e(t,n){var r,i;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Qs("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Kt($t().mark((function e(t){return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,uh(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),Fp.apply(this,arguments)}function Lp(e,t){return jp.apply(this,arguments)}function jp(){return jp=Kt($t().mark((function e(t,n){var r,i;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,Mp(t);case 3:return r=e.sent,Qs("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return Td(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return Td(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),jp.apply(this,arguments)}function Mp(e){return Up.apply(this,arguments)}function Up(){return Up=Kt($t().mark((function e(t){return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Qs("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,Dp(t,new Ap);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),Up.apply(this,arguments)}function Vp(e){return zp.apply(this,arguments)}function zp(){return zp=Kt($t().mark((function e(t){return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Qs("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,Lp(t,new Op);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),zp.apply(this,arguments)}function qp(e){return Vp(e).then((function(e){return e.syncEngine}))}function Bp(e){return Wp.apply(this,arguments)}function Wp(){return Wp=Kt($t().mark((function e(t){var n,r;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vp(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Zd.bind(null,n.syncEngine),r.onUnlisten=rp.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),Wp.apply(this,arguments)}function Hp(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new iu;return e.asyncQueue.enqueueAndForget(Kt($t().mark((function i(){return $t().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Rp({next:function(a){t.enqueueAndForget((function(){return zd(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new ru(nu.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new ru(nu.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new Kd(Ec(n.path),a,{includeMetadataChanges:!0,wo:!0});return Ud(e,o)},i.next=3,Bp(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function Kp(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new iu;return e.asyncQueue.enqueueAndForget(Kt($t().mark((function i(){return $t().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Rp({next:function(n){t.enqueueAndForget((function(){return zd(e,o)})),n.fromCache&&"server"===r.source?i.reject(new ru(nu.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Kd(n,a,{includeMetadataChanges:!0,wo:!0});return Ud(e,o)},i.next=3,Bp(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var Gp=Xt((function e(t,n,r,i,a,o,s,u){Qt(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),$p=function(){function e(t,n){Qt(this,e),this.projectId=t,this.database=n||"(default)"}return Xt(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}]),e}(),Qp=new Map;function Yp(e,t,n){if(!n)throw new ru(nu.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Xp(e){if(!Mu.isDocumentKey(e))throw new ru(nu.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Jp(e){if(Mu.isDocumentKey(e))throw new ru(nu.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Zp(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Zs()}function ev(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ru(nu.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Zp(e);throw new ru(nu.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}var tv=function(){function e(t){var n;if(Qt(this,e),void 0===t.host){if(void 0!==t.ssl)throw new ru(nu.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new ru(nu.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,function(e,t,n,r){if(!0===t&&!0===r)throw new ru(nu.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Xt(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),nv=function(){function e(t,n,r){Qt(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tv({}),this._settingsFrozen=!1,t instanceof $p?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ru(nu.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $p(e.options.projectId)}(t))}return Xt(e,[{key:"app",get:function(){if(!this._app)throw new ru(nu.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new ru(nu.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tv(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new ou;switch(e.type){case"gapi":var t=e.client;return eu(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new cu(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new ru(nu.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=Qp.get(e);t&&(Qs("ComponentProvider","Removing Datastore"),Qp.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();var rv=function(){function e(t,n,r){Qt(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Xt(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new av(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),iv=function(){function e(t,n,r){Qt(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Xt(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),av=function(e){Zt(n,e);var t=on(n);function n(e,r,i){var a;return Qt(this,n),(a=t.call(this,e,r,Ec(i)))._path=i,a.type="collection",a}return Xt(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new rv(this.firestore,null,new Mu(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(iv);function ov(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Jn(e),Yp("collection","path",t),e instanceof nv){var a=xu.fromString.apply(xu,[t].concat(r));return Jp(a),new av(e,null,a)}if(!(e instanceof rv||e instanceof av))throw new ru(nu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(xu.fromString.apply(xu,[t].concat(r)));return Jp(o),new av(e.firestore,null,o)}function sv(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Jn(e),1===arguments.length&&(t=pu.A()),Yp("doc","path",t),e instanceof nv){var a=xu.fromString.apply(xu,[t].concat(r));return Xp(a),new rv(e,null,new Mu(a))}if(!(e instanceof rv||e instanceof av))throw new ru(nu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(xu.fromString.apply(xu,[t].concat(r)));return Xp(o),new rv(e.firestore,e instanceof av?e.converter:null,new Mu(o))}var uv=function(){function e(){var t=this;Qt(this,e),this.mc=Promise.resolve(),this.gc=[],this.yc=!1,this.Tc=[],this.Ec=null,this.Ic=!1,this.Ac=!1,this.Rc=[],this.ur=new Mh(this,"async_queue_retry"),this.bc=function(){var e=Lh();e&&Qs("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ur.er()};var n=Lh();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.bc)}return Xt(e,[{key:"isShuttingDown",get:function(){return this.yc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Pc(),this.vc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.yc){this.yc=!0,this.Ac=e||!1;var t=Lh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.bc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Pc(),this.yc)return new Promise((function(){}));var n=new iu;return this.vc((function(){return t.yc&&t.Ac?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.gc.push(e),t.Vc()}))}},{key:"Vc",value:function(){var e=Kt($t().mark((function e(){var t=this;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.gc.length){e.next=14;break}return e.prev=1,e.next=4,this.gc[0]();case 4:this.gc.shift(),this.ur.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Bf(e.t0)){e.next=12;break}throw e.t0;case 12:Qs("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.gc.length>0&&this.ur.Zi((function(){return t.Vc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"vc",value:function(e){var t=this,n=this.mc.then((function(){return t.Ic=!0,e().catch((function(e){t.Ec=e,t.Ic=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Ys("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Ic=!1,e}))}));return this.mc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Pc(),this.Rc.indexOf(e)>-1&&(t=0);var i=Rd.createAndSchedule(this,e,t,n,(function(e){return r.Sc(e)}));return this.Tc.push(i),i}},{key:"Pc",value:function(){this.Ec&&Zs()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Dc",value:function(){var e=Kt($t().mark((function e(){var t;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.mc,e.next=3,t;case 3:if(t!==this.mc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Cc",value:function(e){var t,n=ln(this.Tc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Nc",value:function(e){var t=this;return this.Dc().then((function(){t.Tc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=ln(t.Tc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Dc()}))}},{key:"kc",value:function(e){this.Rc.push(e)}},{key:"Sc",value:function(e){var t=this.Tc.indexOf(e);this.Tc.splice(t,1)}}]),e}();function cv(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=ln(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var lv=function(e){Zt(n,e);var t=on(n);function n(e,r,i){var a;return Qt(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new uv,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return Xt(n,[{key:"_terminate",value:function(){return this._firestoreClient||hv(this),this._firestoreClient.terminate()}}]),n}(nv);function fv(e){return e._firestoreClient||hv(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function hv(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Gp(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Pp(e._authCredentials,e._appCheckCredentials,e._queue,r)}var dv=function(){function e(){Qt(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new ru(nu.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Su(n)}return Xt(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var pv=function(){function e(t){Qt(this,e),this._byteString=t}return Xt(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Cu.fromBase64String(t))}catch(t){throw new ru(nu.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Cu.fromUint8Array(t))}}]),e}(),vv=Xt((function e(t){Qt(this,e),this._methodName=t})),yv=function(){function e(t,n){if(Qt(this,e),!isFinite(t)||t<-90||t>90)throw new ru(nu.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ru(nu.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Xt(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return vu(this._lat,e._lat)||vu(this._long,e._long)}}]),e}(),mv=/^__.*__$/,gv=function(){function e(t,n,r){Qt(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Xt(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new fl(e,this.data,this.fieldMask,t,this.fieldTransforms):new ll(e,this.data,t,this.fieldTransforms)}}]),e}(),kv=function(){function e(t,n,r){Qt(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Xt(e,[{key:"toMutation",value:function(e,t){return new fl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function bv(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Zs()}}var _v=function(){function e(t,n,r,i,a,o){Qt(this,e),this.settings=t,this.databaseId=n,this.k=r,this.ignoreUndefinedProperties=i,void 0===a&&this.xc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Xt(e,[{key:"path",get:function(){return this.settings.path}},{key:"$c",get:function(){return this.settings.$c}},{key:"Oc",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Mc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Oc({path:n,Fc:!1});return r.Lc(e),r}},{key:"Bc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Oc({path:n,Fc:!1});return r.xc(),r}},{key:"Uc",value:function(e){return this.Oc({path:void 0,Fc:!0})}},{key:"qc",value:function(e){return Mv(e,this.settings.methodName,this.settings.Kc||!1,this.path,this.settings.jc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"xc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Lc(this.path.get(e))}},{key:"Lc",value:function(e){if(0===e.length)throw this.qc("Document fields must not be empty");if(bv(this.$c)&&mv.test(e))throw this.qc('Document fields cannot begin and end with "__"')}}]),e}(),wv=function(){function e(t,n,r){Qt(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.k=r||jh(t)}return Xt(e,[{key:"Qc",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new _v({$c:e,methodName:t,jc:n,path:Su.emptyPath(),Fc:!1,Kc:r},this.databaseId,this.k,this.ignoreUndefinedProperties)}}]),e}();function xv(e){var t=e._freezeSettings(),n=jh(e._databaseId);return new wv(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Ev(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.Qc(a.merge||a.mergeFields?2:0,t,n,i);Dv("Data must be an object, but it was:",o,r);var s,u,c=Rv(r,o);if(a.merge)s=new Tu(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=ln(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=Fv(t,d,n);if(!o.contains(p))throw new ru(nu.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));Uv(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}s=new Tu(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new gv(new Zu(c),s,u)}var Sv=function(e){Zt(n,e);var t=on(n);function n(){return Qt(this,n),t.apply(this,arguments)}return Xt(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.$c)throw 1===e.$c?e.qc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.qc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(vv);function Tv(e,t,n){return new _v({$c:3,jc:t.settings.jc,methodName:e._methodName,Fc:n},t.databaseId,t.k,t.ignoreUndefinedProperties)}var Cv=function(e){Zt(n,e);var t=on(n);function n(e,r){var i;return Qt(this,n),(i=t.call(this,e)).Wc=r,i}return Xt(n,[{key:"_toFieldTransform",value:function(e){var t=Tv(this,e,!0),n=this.Wc.map((function(e){return Ov(e,t)})),r=new Gc(n);return new el(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(vv);function Iv(e,t,n,r){var i=e.Qc(1,t,n);Dv("Data must be an object, but it was:",i,r);var a=[],o=Zu.empty();bu(r,(function(e,r){var s=jv(t,e,n);r=Jn(r);var u=i.Bc(s);if(r instanceof Sv)a.push(s);else{var c=Ov(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new Tu(a);return new kv(o,s,i.fieldTransforms)}function Nv(e,t,n,r,i,a){var o=e.Qc(1,t,n),s=[Fv(t,r,n)],u=[i];if(a.length%2!=0)throw new ru(nu.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(Fv(t,a[c])),u.push(a[c+1]);for(var l=[],f=Zu.empty(),h=s.length-1;h>=0;--h)if(!Uv(l,s[h])){var d=s[h],p=u[h];p=Jn(p);var v=o.Bc(d);if(p instanceof Sv)l.push(d);else{var y=Ov(p,v);null!=y&&(l.push(d),f.set(d,y))}}var m=new Tu(l);return new kv(f,m,o.fieldTransforms)}function Av(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Ov(n,e.Qc(r?4:3,t))}function Ov(e,t){if(Pv(e=Jn(e)))return Dv("Unsupported field value:",t,e),Rv(e,t);if(e instanceof vv)return function(e,t){if(!bv(t.$c))throw t.qc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.qc("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&4!==t.$c)throw t.qc("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=ln(e);try{for(a.s();!(n=a.n()).done;){var o=Ov(n.value,t.Uc(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Jn(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return zc(t.k,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=mu.fromDate(e);return{timestampValue:Ql(t.k,n)}}if(e instanceof mu){var r=new mu(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Ql(t.k,r)}}if(e instanceof yv)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof pv)return{bytesValue:Yl(t.k,e._byteString)};if(e instanceof rv){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.qc("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Zl(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.qc("Unsupported field value: ".concat(Zp(e)))}(e,t)}function Rv(e,t){var n={};return _u(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):bu(e,(function(e,r){var i=Ov(r,t.Mc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Pv(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof mu||e instanceof yv||e instanceof pv||e instanceof rv||e instanceof vv)}function Dv(e,t,n){if(!Pv(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Zp(n);throw"an object"===r?t.qc(e+" a custom object"):t.qc(e+" "+r)}}function Fv(e,t,n){if((t=Jn(t))instanceof dv)return t._internalPath;if("string"==typeof t)return jv(e,t);throw Mv("Field path arguments must be of type string or ",e,!1,void 0,n)}var Lv=new RegExp("[~\\*/\\[\\]]");function jv(e,t,n){if(t.search(Lv)>=0)throw Mv("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return sn(dv,fn(t.split(".")))._internalPath}catch(he){throw Mv("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Mv(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new ru(nu.INVALID_ARGUMENT,s+e+u)}function Uv(e,t){return e.some((function(e){return e.isEqual(t)}))}var Vv=function(){function e(t,n,r,i,a){Qt(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Xt(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new rv(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new zv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(qv("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),zv=function(e){Zt(n,e);var t=on(n);function n(){return Qt(this,n),t.apply(this,arguments)}return Xt(n,[{key:"data",value:function(){return cn(en(n.prototype),"data",this).call(this)}}]),n}(Vv);function qv(e,t){return"string"==typeof t?jv(e,t):t instanceof dv?t._internalPath:t._delegate._internalPath}var Bv=function(){function e(t,n){Qt(this,e),this.hasPendingWrites=t,this.fromCache=n}return Xt(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Wv=function(e){Zt(n,e);var t=on(n);function n(e,r,i,a,o,s){var u;return Qt(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return Xt(n,[{key:"exists",value:function(){return cn(en(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new Hv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(qv("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(Vv),Hv=function(e){Zt(n,e);var t=on(n);function n(){return Qt(this,n),t.apply(this,arguments)}return Xt(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return cn(en(n.prototype),"data",this).call(this,e)}}]),n}(Wv),Kv=function(){function e(t,n,r,i){Qt(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Bv(i.hasPendingWrites,i.fromCache),this.query=r}return Xt(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Hv(n._firestore,n._userDataWriter,r.key,r,new Bv(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ru(nu.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new Hv(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Bv(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Hv(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Bv(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Gv(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function Gv(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Zs()}}function $v(e){if(Tc(e)&&0===e.explicitOrderBy.length)throw new ru(nu.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Qv=Xt((function e(){Qt(this,e)}));function Yv(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var Xv=function(e){Zt(n,e);var t=on(n);function n(e,r,i){var a;return Qt(this,n),(a=t.call(this)).zc=e,a.Hc=r,a.Jc=i,a.type="where",a}return Xt(n,[{key:"_apply",value:function(e){var t=xv(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new ru(nu.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){ey(o,a);var u,c=[],l=ln(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(Zv(r,e,f))}}catch(d){l.e(d)}finally{l.f()}s={arrayValue:{values:c}}}else s=Zv(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||ey(o,a),s=Av(n,"where",o,"in"===a||"not-in"===a);var h=sc.create(i,a,s);return function(e,t){if(t.V()){var n=Ic(e);if(null!==n&&!n.isEqual(t.field))throw new ru(nu.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Cc(e);null!==r&&ty(e,t.field,r)}var i=function(e,t){var n,r=ln(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new ru(nu.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new ru(nu.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.zc,this.Hc,this.Jc);return new iv(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new wc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(Qv);function Jv(e,t,n){var r=t,i=qv("where",e);return new Xv(i,r,n)}function Zv(e,t,n){if("string"==typeof(n=Jn(n))){if(""===n)throw new ru(nu.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Nc(t)&&-1!==n.indexOf("/"))throw new ru(nu.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(xu.fromString(n));if(!Mu.isDocumentKey(r))throw new ru(nu.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Ku(e,new Mu(r))}if(n instanceof rv)return Ku(e,n._key);throw new ru(nu.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Zp(n),"."))}function ey(e,t){if(!Array.isArray(e)||0===e.length)throw new ru(nu.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new ru(nu.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function ty(e,t,n){if(!n.isEqual(t))throw new ru(nu.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var ny=function(){function e(){Qt(this,e)}return Xt(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Uu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Au(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ou(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Zs()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return bu(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new yv(Au(e.latitude),Au(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Pu(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Du(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Nu(e);return new mu(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=xu.fromString(e);eu(xf(n));var r=new $p(n.get(1),n.get(3)),i=new Mu(n.popFirst(5));return r.isEqual(t)||Ys("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function ry(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}function iy(e){e=ev(e,rv);var t=ev(e.firestore,lv);return Hp(fv(t),e._key).then((function(n){return fy(t,e,n)}))}var ay=function(e){Zt(n,e);var t=on(n);function n(e){var r;return Qt(this,n),(r=t.call(this)).firestore=e,r}return Xt(n,[{key:"convertBytes",value:function(e){return new pv(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new rv(this.firestore,null,t)}}]),n}(ny);function oy(e){e=ev(e,iv);var t=ev(e.firestore,lv),n=fv(t),r=new ay(t);return $v(e._query),Kp(n,e._query).then((function(n){return new Kv(t,r,e,n)}))}function sy(e,t,n){e=ev(e,rv);var r=ev(e.firestore,lv),i=ry(e.converter,t,n);return ly(r,[Ev(xv(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,nl.none())])}function uy(e,t,n){e=ev(e,rv);for(var r=ev(e.firestore,lv),i=xv(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return ly(r,[("string"==typeof(t=Jn(t))||t instanceof dv?Nv(i,"updateDoc",e._key,t,n,o):Iv(i,"updateDoc",e._key,t)).toMutation(e._key,nl.exists(!0))])}function cy(e){return ly(ev(e.firestore,lv),[new ml(e._key,nl.none())])}function ly(e,t){return function(e,t){var n=new iu;return e.asyncQueue.enqueueAndForget(Kt($t().mark((function r(){return $t().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=ap,r.next=3,qp(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(fv(e),t)}function fy(e,t,n){var r=n.docs.get(t._key),i=new ay(e);return new Wv(e,i,t._key,r,new Bv(n.hasPendingWrites,n.fromCache),t.converter)}function hy(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Cv("arrayUnion",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Ks="9.6.5",wr(new Zn("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new lv(i,new su(e.getProvider("auth-internal")),new fu(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),Ar(Ws,"3.4.4",e),Ar(Ws,"3.4.4","esm2017")}();Ar("firebase","9.6.5","app");function dy(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var py;Object.create;function vy(){return it({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var yy=vy,my=new Rn("auth","Firebase",vy()),gy=new hr("@firebase/auth");function ky(e){if(gy.logLevel<=rr.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];gy.error.apply(gy,["Auth (".concat(Ir,"): ").concat(e)].concat(n))}}function by(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw xy.apply(void 0,[e].concat(n))}function _y(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return xy.apply(void 0,[e].concat(n))}function wy(e,t,n){var r=Object.assign(Object.assign({},yy()),it({},t,n));return new Rn("auth","Firebase",r).create(t,{appName:e.name})}function xy(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=fn(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(fn(o)))}return my.create.apply(my,[e].concat(n))}function Ey(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw xy.apply(void 0,[t].concat(r))}}function Sy(e){var t="INTERNAL ASSERTION FAILED: "+e;throw ky(t),new Error(t)}function Ty(e,t){e||Sy(t)}var Cy=new Map;function Iy(e){Ty(e instanceof Function,"Expected a class definition");var t=Cy.get(e);return t?(Ty(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Cy.set(e,t),t)}function Ny(e,t){var n=xr(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(qn(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;by(r,"already-initialized")}return n.initialize({options:t})}function Ay(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Oy(){return"http:"===Ry()||"https:"===Ry()}function Ry(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Py=function(){function e(t,n){Qt(this,e),this.shortDelay=t,this.longDelay=n,Ty(n>t,"Short delay should be less than long delay!"),this.isMobile=Tn()||In()}return Xt(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Oy()||Cn()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Dy(e,t){Ty(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Fy=function(){function e(){Qt(this,e)}return Xt(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Sy("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Sy("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Sy("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Ly=(it(py={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),it(py,"MISSING_CUSTOM_TOKEN","internal-error"),it(py,"INVALID_IDENTIFIER","invalid-email"),it(py,"MISSING_CONTINUE_URI","internal-error"),it(py,"INVALID_PASSWORD","wrong-password"),it(py,"MISSING_PASSWORD","internal-error"),it(py,"EMAIL_EXISTS","email-already-in-use"),it(py,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),it(py,"INVALID_IDP_RESPONSE","invalid-credential"),it(py,"INVALID_PENDING_TOKEN","invalid-credential"),it(py,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),it(py,"MISSING_REQ_TYPE","internal-error"),it(py,"EMAIL_NOT_FOUND","user-not-found"),it(py,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),it(py,"EXPIRED_OOB_CODE","expired-action-code"),it(py,"INVALID_OOB_CODE","invalid-action-code"),it(py,"MISSING_OOB_CODE","internal-error"),it(py,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),it(py,"INVALID_ID_TOKEN","invalid-user-token"),it(py,"TOKEN_EXPIRED","user-token-expired"),it(py,"USER_NOT_FOUND","user-token-expired"),it(py,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),it(py,"INVALID_CODE","invalid-verification-code"),it(py,"INVALID_SESSION_INFO","invalid-verification-id"),it(py,"INVALID_TEMPORARY_PROOF","invalid-credential"),it(py,"MISSING_SESSION_INFO","missing-verification-id"),it(py,"SESSION_EXPIRED","code-expired"),it(py,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),it(py,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),it(py,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),it(py,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),it(py,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),it(py,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),it(py,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),it(py,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),it(py,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),it(py,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),it(py,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),py),jy=new Py(3e4,6e4);function My(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Uy(e,t,n,r){return Vy.apply(this,arguments)}function Vy(){return Vy=Kt($t().mark((function e(t,n,r,i){var a,o=arguments;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",zy(t,a,Kt($t().mark((function e(){var a,o,s,u;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=Wn(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Fy.fetch()(Hy(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Vy.apply(this,arguments)}function zy(e,t,n){return qy.apply(this,arguments)}function qy(){return qy=Kt($t().mark((function e(t,n,r){var i,o,s,u,c,l,f,h,d,p;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Ly),n),e.prev=2,o=new Ky(t),e.next=6,Promise.race([r(),o.promise]);case 6:return s=e.sent,o.clearNetworkTimeout(),e.next=10,s.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw Gy(t,"account-exists-with-different-credential",u);case 13:if(!s.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(c=s.ok?u.errorMessage:u.error.message,l=c.split(" : "),f=a(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw Gy(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==h){e.next=25;break}throw Gy(t,"email-already-in-use",u);case 25:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=30;break}throw wy(t,p,d);case 30:by(t,p);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof On)){e.next=37;break}throw e.t0;case 37:by(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])}))),qy.apply(this,arguments)}function By(e,t,n,r){return Wy.apply(this,arguments)}function Wy(){return Wy=Kt($t().mark((function e(t,n,r,i){var a,o,s=arguments;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,Uy(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&by(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Wy.apply(this,arguments)}function Hy(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Dy(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Ky=function(){function e(t){var n=this;Qt(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(_y(n.auth,"network-request-failed"))}),jy.get())}))}return Xt(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Gy(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=_y(e,t,r);return i.customData._tokenResponse=n,i}function $y(e,t){return Qy.apply(this,arguments)}function Qy(){return Qy=Kt($t().mark((function e(t,n){return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Uy(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),Qy.apply(this,arguments)}function Yy(e,t){return Xy.apply(this,arguments)}function Xy(){return Xy=Kt($t().mark((function e(t,n){return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Uy(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),Xy.apply(this,arguments)}function Jy(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Zy(){return Zy=Kt($t().mark((function e(t){var n,r,i,a,o,s,u=arguments;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=Jn(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Ey((a=tm(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Jy(em(a.auth_time)),issuedAtTime:Jy(em(a.iat)),expirationTime:Jy(em(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Zy.apply(this,arguments)}function em(e){return 1e3*Number(e)}function tm(e){var t=a(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return ky("JWT malformed, contained fewer than 3 sections"),null;try{var o=_n(r);return o?JSON.parse(o):(ky("Failed to decode base64 JWT payload"),null)}catch(s){return ky("Caught error parsing JWT payload as JSON",s),null}}function nm(e,t){return rm.apply(this,arguments)}function rm(){return rm=Kt($t().mark((function e(t,n){var r=arguments;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof On&&im(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),rm.apply(this,arguments)}function im(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var am=function(){function e(t){Qt(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Xt(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Kt($t().mark((function t(){return $t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Kt($t().mark((function e(){return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),om=function(){function e(t,n){Qt(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Xt(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Jy(this.lastLoginAt),this.creationTime=Jy(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function sm(e){return um.apply(this,arguments)}function um(){return um=Kt($t().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,h;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,nm(t,Yy(r,{idToken:i}));case 6:Ey(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?fm(o.providerUserInfo):[],u=lm(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new om(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),um.apply(this,arguments)}function cm(){return(cm=Kt($t().mark((function e(t){var n;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Jn(t),e.next=3,sm(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lm(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(fn(n),fn(t))}function fm(e){return e.map((function(e){var t=e.providerId,n=dy(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function hm(e,t){return dm.apply(this,arguments)}function dm(){return dm=Kt($t().mark((function e(t,n){var r;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zy(t,{},Kt($t().mark((function e(){var r,i,a,o,s,u;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wn({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=Hy(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Fy.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),dm.apply(this,arguments)}var pm=function(){function e(){Qt(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Xt(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Ey(e.idToken,"internal-error"),Ey("undefined"!==typeof e.idToken,"internal-error"),Ey("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=tm(e);return Ey(t,"internal-error"),Ey("undefined"!==typeof t.exp,"internal-error"),Ey("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Kt($t().mark((function e(t){var n,r=arguments;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Ey(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Kt($t().mark((function e(t,n){var r,i,a,o;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hm(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Sy("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Ey("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Ey("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Ey("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function vm(e,t){Ey("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var ym=function(){function e(t){Qt(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=dy(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new am(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.metadata=new om(a.createdAt||void 0,a.lastLoginAt||void 0)}return Xt(e,[{key:"getIdToken",value:function(){var e=Kt($t().mark((function e(t){var n;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nm(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Ey(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Zy.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return cm.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Ey(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Ey(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Kt($t().mark((function e(t){var n,r,i=arguments;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,sm(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Kt($t().mark((function e(){var t;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,nm(this,$y(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,y=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,m=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,_=n.isAnonymous,w=n.providerData,x=n.stsTokenManager;Ey(k&&x,t,"internal-error");var E=pm.fromJSON(this.name,x);Ey("string"===typeof k,t,"internal-error"),vm(f,t.name),vm(h,t.name),Ey("boolean"===typeof b,t,"internal-error"),Ey("boolean"===typeof _,t,"internal-error"),vm(d,t.name),vm(p,t.name),vm(v,t.name),vm(y,t.name),vm(m,t.name),vm(g,t.name);var S=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:_,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:E,createdAt:m,lastLoginAt:g});return w&&Array.isArray(w)&&(S.providerData=w.map((function(e){return Object.assign({},e)}))),y&&(S._redirectEventId=y),S}},{key:"_fromIdTokenResponse",value:function(){var t=Kt($t().mark((function t(n,r){var i,a,o,s=arguments;return $t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new pm).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,sm(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),mm=function(){function e(){Qt(this,e),this.type="NONE",this.storage={}}return Xt(e,[{key:"_isAvailable",value:function(){var e=Kt($t().mark((function e(){return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Kt($t().mark((function e(t,n){return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Kt($t().mark((function e(t){var n;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Kt($t().mark((function e(t){return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();mm.type="NONE";var gm=mm;function km(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var bm=function(){function e(t,n,r){Qt(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=km(this.userKey,a.apiKey,o),this.fullPersistenceKey=km("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Xt(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Kt($t().mark((function e(){var t;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?ym._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Kt($t().mark((function e(t){var n;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Kt($t().mark((function t(n,r){var i,a,o,s,u,c,l,f,h,d,p,v=arguments;return $t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Iy(gm),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Kt($t().mark((function e(t){return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Iy(gm),s=km(i,n.config.apiKey,n.name),u=null,c=ln(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(h=t.sent)){t.next=23;break}return d=ym._fromJSON(n,h),f!==o&&(u=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Kt($t().mark((function e(t){return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function _m(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Sm(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(wm(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Cm(t))return"Blackberry";if(Im(t))return"Webos";if(xm(t))return"Safari";if((t.includes("chrome/")||Em(t))&&!t.includes("edge/"))return"Chrome";if(Tm(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function wm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn();return/firefox\//i.test(e)}function xm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Em(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn();return/crios\//i.test(e)}function Sm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn();return/iemobile/i.test(e)}function Tm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn();return/android/i.test(e)}function Cm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn();return/blackberry/i.test(e)}function Im(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn();return/webos/i.test(e)}function Nm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn();return/iphone|ipad|ipod/i.test(e)}function Am(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn();return Nm(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Om(){return Nn()&&10===document.documentMode}function Rm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn();return Nm(e)||Tm(e)||Im(e)||Cm(e)||/windows phone/i.test(e)||Sm(e)}function Pm(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=_m(Sn());break;case"Worker":t="".concat(_m(Sn()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Ir,"/").concat(r)}var Dm=function(){function e(t,n){Qt(this,e),this.app=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Lm(this),this.idTokenSubscription=new Lm(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=my,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=n.sdkClientVersion}return Xt(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Iy(t)),this._initializationPromise=this.queue(Kt($t().mark((function r(){var i,a;return $t().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,bm.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Kt($t().mark((function e(){var t;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Kt($t().mark((function e(t){var n,r,i,a,o;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return Ey(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Kt($t().mark((function e(t){var n;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Kt($t().mark((function e(t){return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,sm(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Kt($t().mark((function e(){return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Kt($t().mark((function e(t){var n;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Jn(t):null)&&Ey(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Kt($t().mark((function e(t){var n=this;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&Ey(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(Kt($t().mark((function e(){return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Kt($t().mark((function e(){return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Kt($t().mark((function n(){return $t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Iy(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Rn("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Kt($t().mark((function e(t,n){var r;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Kt($t().mark((function e(t){var n;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Ey(n=t&&Iy(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,bm.create(this,[Iy(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Kt($t().mark((function e(t){var n,r;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Kt($t().mark((function e(){return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Kt($t().mark((function e(t){var n=this;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Kt($t().mark((function e(){return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Ey(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Kt($t().mark((function e(t){return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Ey(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Pm(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Kt($t().mark((function e(){var t;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=it({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Fm(e){return Jn(e)}var Lm=function(){function e(t){var n=this;Qt(this,e),this.auth=t,this.observer=null,this.addObserver=function(e,t){var n=new $n(e,t);return n.subscribe.bind(n)}((function(e){return n.observer=e}))}return Xt(e,[{key:"next",get:function(){return Ey(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();var jm=function(){function e(t,n){Qt(this,e),this.providerId=t,this.signInMethod=n}return Xt(e,[{key:"toJSON",value:function(){return Sy("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Sy("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Sy("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Sy("not implemented")}}]),e}();function Mm(e,t){return Um.apply(this,arguments)}function Um(){return Um=Kt($t().mark((function e(t,n){return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Uy(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Um.apply(this,arguments)}function Vm(e,t){return zm.apply(this,arguments)}function zm(){return zm=Kt($t().mark((function e(t,n){return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",By(t,"POST","/v1/accounts:signInWithPassword",My(t,n)));case 1:case"end":return e.stop()}}),e)}))),zm.apply(this,arguments)}function qm(e,t){return Bm.apply(this,arguments)}function Bm(){return Bm=Kt($t().mark((function e(t,n){return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",By(t,"POST","/v1/accounts:signInWithEmailLink",My(t,n)));case 1:case"end":return e.stop()}}),e)}))),Bm.apply(this,arguments)}function Wm(e,t){return Hm.apply(this,arguments)}function Hm(){return Hm=Kt($t().mark((function e(t,n){return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",By(t,"POST","/v1/accounts:signInWithEmailLink",My(t,n)));case 1:case"end":return e.stop()}}),e)}))),Hm.apply(this,arguments)}var Km=function(e){Zt(n,e);var t=on(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Qt(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return Xt(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Kt($t().mark((function e(t){return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Vm(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",qm(t,{email:this._email,oobCode:this._password}));case 5:by(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Kt($t().mark((function e(t,n){return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Mm(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Wm(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:by(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(jm);function Gm(e,t){return $m.apply(this,arguments)}function $m(){return $m=Kt($t().mark((function e(t,n){return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",By(t,"POST","/v1/accounts:signInWithIdp",My(t,n)));case 1:case"end":return e.stop()}}),e)}))),$m.apply(this,arguments)}var Qm=function(e){Zt(n,e);var t=on(n);function n(){var e;return Qt(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Xt(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Gm(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Gm(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Gm(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Wn(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):by("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=dy(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(jm);function Ym(e,t){return Xm.apply(this,arguments)}function Xm(){return Xm=Kt($t().mark((function e(t,n){return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Uy(t,"POST","/v1/accounts:sendVerificationCode",My(t,n)));case 1:case"end":return e.stop()}}),e)}))),Xm.apply(this,arguments)}function Jm(){return Jm=Kt($t().mark((function e(t,n){return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",By(t,"POST","/v1/accounts:signInWithPhoneNumber",My(t,n)));case 1:case"end":return e.stop()}}),e)}))),Jm.apply(this,arguments)}function Zm(){return Zm=Kt($t().mark((function e(t,n){var r;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,By(t,"POST","/v1/accounts:signInWithPhoneNumber",My(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Gy(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),Zm.apply(this,arguments)}var eg=it({},"USER_NOT_FOUND","user-not-found");function tg(){return tg=Kt($t().mark((function e(t,n){var r;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",By(t,"POST","/v1/accounts:signInWithPhoneNumber",My(t,r),eg));case 2:case"end":return e.stop()}}),e)}))),tg.apply(this,arguments)}var ng=function(e){Zt(n,e);var t=on(n);function n(e){var r;return Qt(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Xt(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Jm.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Zm.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return tg.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(jm);var rg=function(){function e(t){var n,r,i,a,o,s;Qt(this,e);var u=Hn(Kn(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);Ey(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return Xt(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Hn(Kn(e)).link,n=t?Hn(Kn(t)).deep_link_id:null,r=Hn(Kn(e)).deep_link_id;return(r?Hn(Kn(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch($p){return null}}}]),e}();var ig=function(){function e(){Qt(this,e),this.providerId=e.PROVIDER_ID}return Xt(e,null,[{key:"credential",value:function(e,t){return Km._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=rg.parseLink(t);return Ey(n,"argument-error"),Km._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();ig.PROVIDER_ID="password",ig.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ig.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var ag=function(){function e(t){Qt(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Xt(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),og=function(e){Zt(n,e);var t=on(n);function n(){var e;return Qt(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Xt(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return fn(this.scopes)}}]),n}(ag),sg=function(e){Zt(n,e);var t=on(n);function n(){return Qt(this,n),t.call(this,"facebook.com")}return Xt(n,null,[{key:"credential",value:function(e){return Qm._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch($p){return null}}}]),n}(og);sg.FACEBOOK_SIGN_IN_METHOD="facebook.com",sg.PROVIDER_ID="facebook.com";var ug=function(e){Zt(n,e);var t=on(n);function n(){var e;return Qt(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Xt(n,null,[{key:"credential",value:function(e,t){return Qm._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch($p){return null}}}]),n}(og);ug.GOOGLE_SIGN_IN_METHOD="google.com",ug.PROVIDER_ID="google.com";var cg=function(e){Zt(n,e);var t=on(n);function n(){return Qt(this,n),t.call(this,"github.com")}return Xt(n,null,[{key:"credential",value:function(e){return Qm._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch($p){return null}}}]),n}(og);cg.GITHUB_SIGN_IN_METHOD="github.com",cg.PROVIDER_ID="github.com";var lg=function(e){Zt(n,e);var t=on(n);function n(){return Qt(this,n),t.call(this,"twitter.com")}return Xt(n,null,[{key:"credential",value:function(e,t){return Qm._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch($p){return null}}}]),n}(og);function fg(e,t){return hg.apply(this,arguments)}function hg(){return hg=Kt($t().mark((function e(t,n){return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",By(t,"POST","/v1/accounts:signUp",My(t,n)));case 1:case"end":return e.stop()}}),e)}))),hg.apply(this,arguments)}lg.TWITTER_SIGN_IN_METHOD="twitter.com",lg.PROVIDER_ID="twitter.com";var dg=function(){function e(t){Qt(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Xt(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Kt($t().mark((function t(n,r,i){var a,o,s,u,c=arguments;return $t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,ym._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=pg(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Kt($t().mark((function t(n,r,i){var a;return $t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=pg(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function pg(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var vg=function(e){Zt(n,e);var t=on(n);function n(e,r,i,a){var o,s;return Qt(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(rn(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return Xt(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(On);function yg(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw vg._fromErrorAndOperation(e,n,t,r);throw n}))}function mg(e,t){return gg.apply(this,arguments)}function gg(){return gg=Kt($t().mark((function e(t,n){var r,i,a=arguments;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=nm,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",dg._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),gg.apply(this,arguments)}function kg(e,t){return bg.apply(this,arguments)}function bg(){return bg=Kt($t().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,nm(t,yg(i,a,n,t),r);case 6:return Ey((o=e.sent).idToken,i,"internal-error"),Ey(s=tm(o.idToken),i,"internal-error"),u=s.sub,Ey(t.uid===u,i,"user-mismatch"),e.abrupt("return",dg._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&by(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),bg.apply(this,arguments)}function _g(e,t){return wg.apply(this,arguments)}function wg(){return wg=Kt($t().mark((function e(t,n){var r,i,a,o,s=arguments;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,yg(t,i,n);case 4:return a=e.sent,e.next=7,dg._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),wg.apply(this,arguments)}function xg(e,t){return Eg.apply(this,arguments)}function Eg(){return Eg=Kt($t().mark((function e(t,n){return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_g(Fm(t),n));case 1:case"end":return e.stop()}}),e)}))),Eg.apply(this,arguments)}function Sg(e,t,n){return Tg.apply(this,arguments)}function Tg(){return Tg=Kt($t().mark((function e(t,n,r){var i,a,o;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Fm(t),e.next=3,fg(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,dg._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),Tg.apply(this,arguments)}function Cg(e,t,n){return xg(Jn(e),ig.credential(t,n))}function Ig(e,t){return Ng.apply(this,arguments)}function Ng(){return Ng=Kt($t().mark((function e(t,n){return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Uy(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Ng.apply(this,arguments)}function Ag(e,t){return Og.apply(this,arguments)}function Og(){return(Og=Kt($t().mark((function e(t,n){var r,i,a,o,s,u,c;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Jn(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,nm(a,Ig(a.auth,s));case 10:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rg(e,t){return Uy(e,"POST","/v2/accounts/mfaEnrollment:start",My(e,t))}new WeakMap;var Pg="__sak",Dg=function(){function e(t,n){Qt(this,e),this.storageRetriever=t,this.type=n}return Xt(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Pg,"1"),this.storage.removeItem(Pg),Promise.resolve(!0)):Promise.resolve(!1)}catch($p){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Fg=function(e){Zt(n,e);var t=on(n);function n(){var e;return Qt(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Sn();return xm(e)||Nm(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Rm(),e._shouldAllowMigration=!0,e}return Xt(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Om()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Kt($t().mark((function e(t,r){return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cn(en(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Kt($t().mark((function e(t){var r;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cn(en(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Kt($t().mark((function e(t){return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cn(en(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Dg);Fg.type="LOCAL";var Lg=Fg,jg=function(e){Zt(n,e);var t=on(n);function n(){return Qt(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return Xt(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Dg);jg.type="SESSION";var Mg=jg;function Ug(e){return Promise.all(e.map(function(){var e=Kt($t().mark((function e(t){var n;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Vg=function(){function e(t){Qt(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Xt(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Kt($t().mark((function e(t){var n,r,i,a,o,s,u,c;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=Kt($t().mark((function e(t){return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Ug(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function zg(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Vg.receivers=[];var qg=function(){function e(t){Qt(this,e),this.target=t,this.handlers=new Set}return Xt(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Kt($t().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=zg("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Bg(){return window}function Wg(){return"undefined"!==typeof Bg().WorkerGlobalScope&&"function"===typeof Bg().importScripts}function Hg(){return Kg.apply(this,arguments)}function Kg(){return(Kg=Kt($t().mark((function e(){var t;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Gg(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var $g="firebaseLocalStorageDb",Qg="firebaseLocalStorage",Yg="fbase_key",Xg=function(){function e(t){Qt(this,e),this.request=t}return Xt(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Jg(e,t){return e.transaction([Qg],t?"readwrite":"readonly").objectStore(Qg)}function Zg(){var e=indexedDB.deleteDatabase($g);return new Xg(e).toPromise()}function ek(){var e=indexedDB.open($g,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Qg,{keyPath:Yg})}catch(r){n(r)}})),e.addEventListener("success",Kt($t().mark((function n(){var r;return $t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Qg)){n.next=12;break}return r.close(),n.next=5,Zg();case 5:return n.t0=t,n.next=8,ek();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function tk(e,t,n){return nk.apply(this,arguments)}function nk(){return nk=Kt($t().mark((function e(t,n,r){var i,a;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Jg(t,!0).put((it(i={},Yg,n),it(i,"value",r),i)),e.abrupt("return",new Xg(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),nk.apply(this,arguments)}function rk(e,t){return ik.apply(this,arguments)}function ik(){return ik=Kt($t().mark((function e(t,n){var r,i;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jg(t,!1).get(n),e.next=3,new Xg(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),ik.apply(this,arguments)}function ak(e,t){var n=Jg(e,!0).delete(t);return new Xg(n).toPromise()}var ok=function(){function e(){Qt(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return Xt(e,[{key:"_openDb",value:function(){var e=Kt($t().mark((function e(){return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,ek();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Kt($t().mark((function e(t){var n,r;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Kt($t().mark((function e(){return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wg()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Kt($t().mark((function e(){var t=this;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Vg._getInstance(Wg()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Kt($t().mark((function e(n,r){var i;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Kt($t().mark((function e(t,n){return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Kt($t().mark((function e(){var t,n,r;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hg();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new qg(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Kt($t().mark((function e(t){return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Gg()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Kt($t().mark((function e(){var t;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,ek();case 5:return t=e.sent,e.next=8,tk(t,Pg,"1");case 8:return e.next=10,ak(t,Pg);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Kt($t().mark((function e(t){return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Kt($t().mark((function e(t,n){var r=this;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Kt($t().mark((function e(){return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return tk(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Kt($t().mark((function e(t){var n;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return rk(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Kt($t().mark((function e(t){var n=this;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Kt($t().mark((function e(){return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return ak(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Kt($t().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Jg(e,!1).getAll();return new Xg(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=ln(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Kt($t().mark((function t(){return $t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();ok.type="LOCAL";var sk=ok;function uk(e,t){return Uy(e,"POST","/v2/accounts/mfaSignIn:start",My(e,t))}function ck(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=_y("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function lk(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}lk("rcb"),new Py(3e4,6e4);var fk="recaptcha";function hk(e,t,n){return dk.apply(this,arguments)}function dk(){return dk=Kt($t().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Ey("string"===typeof a,t,"argument-error"),Ey(r.type===fk,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return Ey("enroll"===s.type,t,"internal-error"),e.next=13,Rg(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return Ey("signin"===s.type,t,"internal-error"),Ey(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,uk(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Ym(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),dk.apply(this,arguments)}var pk=function(){function e(t){Qt(this,e),this.providerId=e.PROVIDER_ID,this.auth=Fm(t)}return Xt(e,[{key:"verifyPhoneNumber",value:function(e,t){return hk(this.auth,e,Jn(t))}}],[{key:"credential",value:function(e,t){return ng._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?ng._fromTokenResponse(n,r):null}}]),e}();function vk(e,t){return t?Iy(t):(Ey(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}pk.PROVIDER_ID="phone",pk.PHONE_SIGN_IN_METHOD="phone";var yk=function(e){Zt(n,e);var t=on(n);function n(e){var r;return Qt(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Xt(n,[{key:"_getIdTokenResponse",value:function(e){return Gm(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Gm(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Gm(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(jm);function mk(e){return _g(e.auth,new yk(e),e.bypassAuthState)}function gk(e){var t=e.auth,n=e.user;return Ey(n,t,"internal-error"),kg(n,new yk(e),e.bypassAuthState)}function kk(e){return bk.apply(this,arguments)}function bk(){return bk=Kt($t().mark((function e(t){var n,r;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Ey(r=t.user,n,"internal-error"),e.abrupt("return",mg(r,new yk(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),bk.apply(this,arguments)}var _k=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Qt(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Xt(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Kt($t().mark((function t(n,r){return $t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Kt($t().mark((function e(t){var n,r,i,a,o,s,u;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return mk;case"linkViaPopup":case"linkViaRedirect":return kk;case"reauthViaPopup":case"reauthViaRedirect":return gk;default:by(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Ty(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Ty(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),wk=new Py(2e3,1e4);var xk=function(e){Zt(n,e);var t=on(n);function n(e,r,i,a,o){var s;return Qt(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=rn(s),s}return Xt(n,[{key:"executeNotNull",value:function(){var e=Kt($t().mark((function e(){var t;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Ey(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Kt($t().mark((function e(){var t,n=this;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ty(1===this.filter.length,"Popup operations only handle one event"),t=zg(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(_y(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(_y(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(_y(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,wk.get())}()}}]),n}(_k);xk.currentPopupAction=null;var Ek=new Map,Sk=function(e){Zt(n,e);var t=on(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Qt(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return Xt(n,[{key:"execute",value:function(){var e=Kt($t().mark((function e(){var t,r;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Ek.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Tk(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,cn(en(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Ek.set(this.auth._key(),t);case 21:return this.bypassAuthState||Ek.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Kt($t().mark((function e(t){var r;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",cn(en(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",cn(en(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Kt($t().mark((function e(){return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(_k);function Tk(e,t){return Ck.apply(this,arguments)}function Ck(){return Ck=Kt($t().mark((function e(t,n){var r,i,a;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nk(n),i=Ik(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),Ck.apply(this,arguments)}function Ik(e){return Iy(e._redirectPersistence)}function Nk(e){return km("pendingRedirect",e.config.apiKey,e.name)}function Ak(e,t){return Ok.apply(this,arguments)}function Ok(){return Ok=Kt($t().mark((function e(t,n){var r,i,a,o,s,u=arguments;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=Fm(t),a=vk(i,n),o=new Sk(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),Ok.apply(this,arguments)}var Rk=function(){function e(t){Qt(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Xt(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Dk(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Dk(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(_y(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Pk(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Pk(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Pk(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Dk(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Fk(e){return Lk.apply(this,arguments)}function Lk(){return Lk=Kt($t().mark((function e(t){var n,r=arguments;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Uy(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Lk.apply(this,arguments)}var jk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Mk=/^https?/;function Uk(){return Uk=Kt($t().mark((function e(t){var n,r,i,a,o;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Fk(t);case 4:n=e.sent,r=n.authorizedDomains,i=ln(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Vk(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:by(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),Uk.apply(this,arguments)}function Vk(e){var t=Ay(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Mk.test(r))return!1;if(jk.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var zk=new Py(3e4,6e4);function qk(){var e=Bg().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=fn(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Bk=null;function Wk(e){return Bk=Bk||function(e){return new Promise((function(t,n){var r,i,a;function o(){qk(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){qk(),n(_y(e,"network-request-failed"))},timeout:zk.get()})}if(null===(i=null===(r=Bg().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Bg().gapi)||void 0===a?void 0:a.load)){var s=lk("iframefcb");return Bg()[s]=function(){gapi.load?o():n(_y(e,"network-request-failed"))},ck("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Bk=null,e}))}(e),Bk}var Hk=new Py(5e3,15e3),Kk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Gk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $k(e){var t=e.config;Ey(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Dy(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Ir},i=Gk.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Wn(r).slice(1))}function Qk(e){return Yk.apply(this,arguments)}function Yk(){return Yk=Kt($t().mark((function e(t){var n,r;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wk(t);case 2:return n=e.sent,Ey(r=Bg().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:$k(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Kk,dontclear:!0},(function(e){return new Promise(function(){var n=Kt($t().mark((function n(r,i){var a,o,s;return $t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){Bg().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=_y(t,"network-request-failed"),o=Bg().setTimeout((function(){i(a)}),Hk.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Yk.apply(this,arguments)}var Xk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Jk="_blank",Zk="http://localhost",eb=function(){function e(t){Qt(this,e),this.window=t,this.associatedEvent=null}return Xt(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function tb(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",c=Object.assign(Object.assign({},Xk),{width:r.toString(),height:i.toString(),top:o,left:s}),l=Sn().toLowerCase();n&&(u=Em(l)?Jk:n),wm(l)&&(t=t||Zk,c.scrollbars="yes");var f=Object.entries(c).reduce((function(e,t){var n=a(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(Am(l)&&"_self"!==u)return nb(t||"",u),new eb(null);var h=window.open(t||"",u,f);Ey(h,e,"popup-blocked");try{h.focus()}catch(d){}return new eb(h)}function nb(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var rb="__/auth/handler",ib="emulator/auth/handler";function ab(e,t,n,r,i,o){Ey(e.config.authDomain,e,"auth-domain-config-required"),Ey(e.config.apiKey,e,"invalid-api-key");var s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Ir,eventId:i};if(t instanceof ag){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",Vn(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,c=Object.entries(o||{});u<c.length;u++){var l=a(c[u],2),f=l[0],h=l[1];s[f]=h}}if(t instanceof og){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(s.scopes=d.join(","))}e.tenantId&&(s.tid=e.tenantId);for(var p=s,v=0,y=Object.keys(p);v<y.length;v++){var m=y[v];void 0===p[m]&&delete p[m]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(rb);return Dy(t,ib)}(e),"?").concat(Wn(p).slice(1))}var ob="webStorageSupport",sb=function(){function e(){Qt(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Mg,this._completeRedirectFn=Ak}return Xt(e,[{key:"_openPopup",value:function(){var e=Kt($t().mark((function e(t,n,r,i){var a,o;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ty(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=ab(t,n,r,Ay(),i),e.abrupt("return",tb(t,o,zg()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Kt($t().mark((function e(t,n,r,i){return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=ab(t,n,r,Ay(),i),Bg().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Ty(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Kt($t().mark((function e(t){var n,r;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qk(t);case 2:return n=e.sent,r=new Rk(t),n.register("authEvent",(function(e){return Ey(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(ob,{type:ob},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),by(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Uk.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Rm()||xm()||Nm()}}]),e}(),ub=sb,cb=function(){function e(t){Qt(this,e),this.factorId=t}return Xt(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Sy("unexpected MultiFactorSessionType")}}}]),e}(),lb=function(e){Zt(n,e);var t=on(n);function n(e){var r;return Qt(this,n),(r=t.call(this,"phone")).credential=e,r}return Xt(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Uy(e,"POST","/v2/accounts/mfaEnrollment:finalize",My(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Uy(e,"POST","/v2/accounts/mfaSignIn:finalize",My(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(cb);(function(){function e(){Qt(this,e)}return Xt(e,null,[{key:"assertion",value:function(e){return lb._fromCredential(e)}}]),e}()).FACTOR_ID="phone";var fb,hb="@firebase/auth",db="0.19.7",pb=function(){function e(t){Qt(this,e),this.auth=t,this.internalListeners=new Map}return Xt(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Kt($t().mark((function e(t){var n;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Ey(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();fb="Browser",wr(new Zn("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=r.options,a=i.apiKey,o=i.authDomain;return function(e){Ey(a&&!a.includes(":"),"invalid-api-key",{appName:e.name}),Ey(!(null===o||void 0===o?void 0:o.includes(":")),"argument-error",{appName:e.name});var t={apiKey:a,authDomain:o,clientPlatform:fb,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Pm(fb)},r=new Dm(e,t);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Iy);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(r,n),r}(r)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),wr(new Zn("auth-internal",(function(e){return function(e){return new pb(e)}(Fm(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Ar(hb,db,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(fb)),Ar(hb,db,"esm2017");var vb="firebasestorage.googleapis.com",yb=function(e){Zt(n,e);var t=on(n);function n(e,r){var i;return Qt(this,n),(i=t.call(this,mb(e),"Firebase Storage: ".concat(r," (").concat(mb(e),")"))).customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(rn(i),n.prototype),i}return Xt(n,[{key:"_codeEquals",value:function(e){return mb(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(On);function mb(e){return"storage/"+e}function gb(){return new yb("unknown","An unknown error occurred, please check the error payload for server response.")}function kb(){return new yb("canceled","User canceled the upload/download.")}function bb(e){return new yb("invalid-argument",e)}function _b(){return new yb("app-deleted","The Firebase app was deleted.")}var wb,xb=function(){function e(t,n){Qt(this,e),this.bucket=t,this.path_=n}return Xt(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(i){return new e(t,"")}if(""===r.path)return r;throw new yb("invalid-default-bucket","Invalid default bucket '"+t+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===vb?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<u.length;c++){var l=u[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new yb("invalid-url","Invalid URL '"+e+"'.")}(t);return r}}]),e}(),Eb=function(){function e(t){Qt(this,e),this.promise_=Promise.reject(t)}return Xt(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function Sb(e,t,n,r){if(r<t)throw bb("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw bb("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function Tb(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(wb||(wb={}));var Cb=function(){function e(t,n,r,i,a,o,s,u,c,l,f){var h=this;Qt(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return Xt(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(u){i(u)}else if(null!==a){var s=gb();s.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,s)):i(s)}else{if(n.canceled)i(e.appDelete_?_b():kb());else i(new yb("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}};this.canceled_?t(0,new Ib(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,s=0;function u(){return 2===s}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,u())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(u()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===s?(s=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(s=2),clearTimeout(i),f(0)):e||(s=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new Ib(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===wb.NO_ERROR,a=r.getStatus();if(n&&!e.isRetryStatusCode_(a)){var o=-1!==e.successCodes_.indexOf(a);t(!0,new Ib(o,r))}else{var s=r.getErrorCode()===wb.ABORT;t(!1,new Ib(!1,null,s))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}},{key:"isRetryStatusCode_",value:function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r}}]),e}(),Ib=Xt((function e(t,n,r){Qt(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function Nb(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}var Ab=function(){function e(t,n){Qt(this,e),this._service=t,this._location=n instanceof xb?n:xb.makeFromUrl(n,t.host)}return Xt(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new xb(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return Nb(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new xb(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw function(e){return new yb("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}]),e}();function Ob(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:xb.makeFromBucketSpec(n,e)}var Rb=function(){function e(t,n,r,i,a){Qt(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=vb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?xb.makeFromBucketSpec(i,this._host):Ob(this._host,this.app.options)}return Xt(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=xb.makeFromBucketSpec(this._url,e):this._bucket=Ob(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){Sb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){Sb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=Kt($t().mark((function e(){var t,n;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=Kt($t().mark((function e(){var t,n;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new Ab(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this;if(this._deleted)return new Eb(_b());var a=function(e,t,n,r,i,a){var o=Tb(e.urlParams),s=e.url+o,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new Cb(s,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,n,r,t,this._firebaseVersion);return this._requests.add(a),a.getPromise().then((function(){return i._requests.delete(a)}),(function(){return i._requests.delete(a)})),a}},{key:"makeRequestWithTokens",value:function(){var e=Kt($t().mark((function e(t,n){var r,i,o,s;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=a(r,2),o=i[0],s=i[1],e.abrupt("return",this._makeRequest(t,n,o,s).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),Pb="@firebase/storage",Db="0.9.2",Fb="storage";function Lb(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new Rb(r,i,a,n,Ir)}wr(new Zn(Fb,Lb,"PUBLIC").setMultipleInstances(!0)),Ar(Pb,Db,""),Ar(Pb,Db,"esm2017");var jb="@firebase/database",Mb="0.12.5",Ub="";var Vb=function(){function e(t){Qt(this,e),this.domStorage_=t,this.prefix_="firebase:"}return Xt(e,[{key:"set",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ln(t))}},{key:"get",value:function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Fn(t)}},{key:"remove",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:"prefixedName_",value:function(e){return this.prefix_+e}},{key:"toString",value:function(){return this.domStorage_.toString()}}]),e}(),zb=function(){function e(){Qt(this,e),this.cache_={},this.isInMemoryStorage=!0}return Xt(e,[{key:"set",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:"get",value:function(e){return Mn(this.cache_,e)?this.cache_[e]:null}},{key:"remove",value:function(e){delete this.cache_[e]}}]),e}(),qb=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Vb(t)}}catch(n){}return new zb},Bb=qb("localStorage"),Wb=qb("sessionStorage"),Hb=new hr("@firebase/database"),Kb=function(){var e=1;return function(){return e++}}(),Gb=function(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,yn(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new Gn;n.update(t);var r=n.digest();return kn.encodeByteArray(r)},$b=function e(){for(var t="",n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?t+=e.apply(null,r):t+="object"===typeof r?Ln(r):r,t+=" "}return t},Qb=null,Yb=!0,Xb=function(e,t){yn(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(Hb.logLevel=rr.VERBOSE,Qb=Hb.log.bind(Hb),t&&Wb.set("logging_enabled",!0)):"function"===typeof e?Qb=e:(Qb=null,Wb.remove("logging_enabled"))},Jb=function(){if(!0===Yb&&(Yb=!1,null===Qb&&!0===Wb.get("logging_enabled")&&Xb(!0)),Qb){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=$b.apply(null,t);Qb(r)}},Zb=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Jb.apply(void 0,[e].concat(n))}},e_=function(){var e="FIREBASE INTERNAL ERROR: "+$b.apply(void 0,arguments);Hb.error(e)},t_=function(){var e="FIREBASE FATAL ERROR: ".concat($b.apply(void 0,arguments));throw Hb.error(e),new Error(e)},n_=function(){var e="FIREBASE WARNING: "+$b.apply(void 0,arguments);Hb.warn(e)},r_=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},i_="[MIN_NAME]",a_="[MAX_NAME]",o_=function(e,t){if(e===t)return 0;if(e===i_||t===a_)return-1;if(t===i_||e===a_)return 1;var n=y_(e),r=y_(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},s_=function(e,t){return e===t?0:e<t?-1:1},u_=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Ln(t))},c_=function e(t){if("object"!==typeof t||null===t)return Ln(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=Ln(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},l_=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function f_(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var h_=function(e){yn(!r_(e),"Invalid JSON number");var t,n,r,i,a,o=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),o))+o,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();var u=s.join(""),c="";for(a=0;a<64;a+=8){var l=parseInt(u.substr(a,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()};var d_=new RegExp("^-?(0*)\\d{1,10}$"),p_=-2147483648,v_=2147483647,y_=function(e){if(d_.test(e)){var t=Number(e);if(t>=p_&&t<=v_)return t}return null},m_=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw n_("Exception was thrown by user callback.",e),t}),Math.floor(0))}},g_=function(e,t){var n=setTimeout(e,t);return"object"===typeof n&&n.unref&&n.unref(),n},k_=function(){function e(t,n){var r=this;Qt(this,e),this.appName_=t,this.appCheckProvider=n,this.appCheck=null===n||void 0===n?void 0:n.getImmediate({optional:!0}),this.appCheck||null===n||void 0===n||n.get().then((function(e){return r.appCheck=e}))}return Xt(e,[{key:"getToken",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){n_('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}]),e}(),b_=function(){function e(t,n,r){var i=this;Qt(this,e),this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit((function(e){return i.auth_=e}))}return Xt(e,[{key:"getToken",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(Jb("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))}},{key:"removeTokenChangeListener",value:function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',n_(e)}}]),e}(),__=function(){function e(t){Qt(this,e),this.accessToken=t}return Xt(e,[{key:"getToken",value:function(e){return Promise.resolve({accessToken:this.accessToken})}},{key:"addTokenChangeListener",value:function(e){e(this.accessToken)}},{key:"removeTokenChangeListener",value:function(e){}},{key:"notifyForInvalidToken",value:function(){}}]),e}();__.OWNER="owner";var w_="5",x_=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,E_="websocket",S_="long_polling",T_=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6];Qt(this,e),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Bb.get("host:"+t)||this._host}return Xt(e,[{key:"isCacheableHost",value:function(){return"s-"===this.internalHost.substr(0,2)}},{key:"isCustomHost",value:function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}},{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Bb.set("host:"+this._host,this.internalHost))}},{key:"toString",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}},{key:"toURLString",value:function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}]),e}();function C_(e,t,n){var r;if(yn("string"===typeof t,"typeof type must == string"),yn("object"===typeof n,"typeof params must == object"),t===E_)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==S_)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return f_(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var I_=function(){function e(){Qt(this,e),this.counters_={}}return Xt(e,[{key:"incrementCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Mn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:"get",value:function(){return wn(this.counters_)}}]),e}(),N_={},A_={};function O_(e){var t=e.toString();return N_[t]||(N_[t]=new I_),N_[t]}var R_=function(){function e(t){Qt(this,e),this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return Xt(e,[{key:"closeAfter",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:"handleResponse",value:function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=n.pendingResponses[n.currentResponseNum];delete n.pendingResponses[n.currentResponseNum];for(var t=function(t){e[t]&&m_((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(n.currentResponseNum===n.closeAfterResponse)return n.onClose&&(n.onClose(),n.onClose=null),"break";n.currentResponseNum++};this.pendingResponses[this.currentResponseNum];){if("break"===r())break}}}]),e}(),P_="start",D_="close",F_=function(){function e(t,n,r,i,a,o,s){var u=this;Qt(this,e),this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Zb(t),this.stats_=O_(n),this.urlFn=function(e){return u.appCheckToken&&(e.ac=u.appCheckToken),C_(n,S_,e)}}return Xt(e,[{key:"open",value:function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new R_(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(An()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new L_((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1],o=t[2];t[3],t[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===P_)n.id=a,n.password=o;else{if(i!==D_)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,a)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=w_,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e.ac=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&x_.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))}},{key:"start",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:"markConnectionHealthy",value:function(){}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}},{key:"send",value:function(e){var t=Ln(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=bn(t),r=l_(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}},{key:"addDisconnectPingFrame",value:function(e,t){if(!An()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}}},{key:"incrementIncomingBytes_",value:function(e){var t=Ln(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}],[{key:"forceAllow",value:function(){e.forceAllow_=!0}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){return!An()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}}]),e}(),L_=function(){function e(t,n,r,i){if(Qt(this,e),this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,An())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=Kb(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(s){Jb("frame writing exception"),s.stack&&Jb(s.stack),Jb(s)}}}return Xt(e,[{key:"close",value:function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:"startLongPoll",value:function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}},{key:"newRequest_",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}},{key:"enqueueSegment",value:function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}},{key:"addLongPollTag_",value:function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))}},{key:"addTag",value:function(e,t){var n=this;An()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){Jb("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))}}],[{key:"createIFrame_",value:function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Jb("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}}]),e}(),j_=null;"undefined"!==typeof MozWebSocket?j_=MozWebSocket:"undefined"!==typeof WebSocket&&(j_=WebSocket);var M_=function(){function e(t,n,r,i,a,o,s){Qt(this,e),this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Zb(this.connId),this.stats_=O_(n),this.connURL=e.connectionURL_(n,o,s,i),this.nodeAdmin=n.nodeAdmin}return Xt(e,[{key:"open",value:function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Bb.set("previous_websocket_failure",!0);try{if(An()){var r=this.nodeAdmin?"AdminNode":"Node",i={headers:{"User-Agent":"Firebase/".concat(w_,"/").concat(Ub,"/").concat(process.platform,"/").concat(r),"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(i.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a={NODE_ENV:"production",PUBLIC_URL:"/shine",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_Firebase_ApiKey:"AIzaSyDmnW9W_gHuiEEsPw3XI",REACT_APP_Firebase_AppId:"1:379613040309:web:dc367838d998b79f70b8fc",REACT_APP_Firebase_AuthDomain:"shine-dc466.firebaseapp.com",REACT_APP_Firebase_MessagingSenderId:"379613040309",REACT_APP_Firebase_ProjectId:"shine-dc466",REACT_APP_Firebase_StorageBucket:"shine-dc466.appspot.com"},o=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;o&&(i.proxy={origin:o}),this.mySock=new j_(this.connURL,[],i)}else{var s={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new j_(this.connURL,[],s)}}catch(c){this.log_("Error instantiating WebSocket.");var u=c.message||c.data;return u&&this.log_(u),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}}},{key:"start",value:function(){}},{key:"markConnectionHealthy",value:function(){Bb.remove("previous_websocket_failure")}},{key:"appendFrame_",value:function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=Fn(t);this.onMessage(n)}}},{key:"handleNewFrameCount_",value:function(e){this.totalFrames=e,this.frames=[]}},{key:"extractFrameCount_",value:function(e){if(yn(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}},{key:"handleIncomingFrame",value:function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}}},{key:"send",value:function(e){this.resetKeepAlive();var t=Ln(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=l_(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}},{key:"resetKeepAlive",value:function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))}},{key:"sendString_",value:function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:"connectionURL_",value:function(e,t,n,r){var i={};return i.v=w_,!An()&&"undefined"!==typeof location&&location.hostname&&x_.test(location.hostname)&&(i.r="f"),t&&(i.s=t),n&&(i.ls=n),r&&(i.ac=r),C_(e,E_,i)}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==j_&&!e.forceDisallow_}},{key:"previouslyFailed",value:function(){return Bb.isInMemoryStorage||!0===Bb.get("previous_websocket_failure")}}]),e}();M_.responsesRequiredToBeHealthy=2,M_.healthyTimeout=3e4;var U_=function(){function e(t){Qt(this,e),this.initTransports_(t)}return Xt(e,[{key:"initTransports_",value:function(t){var n=M_&&M_.isAvailable(),r=n&&!M_.previouslyFailed();if(t.webSocketOnly&&(n||n_("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[M_];else{var i,a=this.transports_=[],o=ln(e.ALL_TRANSPORTS);try{for(o.s();!(i=o.n()).done;){var s=i.value;s&&s.isAvailable()&&a.push(s)}}catch(u){o.e(u)}finally{o.f()}}}},{key:"initialTransport",value:function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}},{key:"upgradeTransport",value:function(){return this.transports_.length>1?this.transports_[1]:null}}],[{key:"ALL_TRANSPORTS",get:function(){return[F_,M_]}}]),e}(),V_=function(){function e(t,n,r,i,a,o,s,u,c,l){Qt(this,e),this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=u,this.onKill_=c,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Zb("c:"+this.id+":"),this.transportManager_=new U_(n),this.log_("Connection created"),this.start_()}return Xt(e,[{key:"start_",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=g_((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))}},{key:"nextTransportId_",value:function(){return"c:"+this.id+":"+this.connectionCount++}},{key:"disconnReceiver_",value:function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}}},{key:"connReceiver_",value:function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}}},{key:"sendRequest",value:function(e){var t={t:"d",d:e};this.sendData_(t)}},{key:"tryCleanupConnection",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:"onSecondaryControl_",value:function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}},{key:"onSecondaryMessageReceived_",value:function(e){var t=u_("t",e),n=u_("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}},{key:"upgradeIfSecondaryHealthy_",value:function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}},{key:"proceedWithUpgrade_",value:function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:"onPrimaryMessageReceived_",value:function(e){var t=u_("t",e),n=u_("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}},{key:"onDataMessage_",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:"onPrimaryResponse_",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:"onControl_",value:function(e){var t=u_("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?e_("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):e_("Unknown control packet command: "+t)}}},{key:"onHandshake_",value:function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),w_!==n&&n_("Protocol version mismatch detected"),this.tryStartUpgrade_())}},{key:"tryStartUpgrade_",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:"startUpgrade_",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),g_((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))}},{key:"onReset_",value:function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:"onConnectionEstablished_",value:function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):g_((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}},{key:"sendPingOnPrimaryIfNecessary_",value:function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}},{key:"onSecondaryConnectionLost_",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}},{key:"onConnectionLost_",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Bb.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:"onConnectionShutdown_",value:function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:"sendData_",value:function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}},{key:"close",value:function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:"closeConnections_",value:function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),e}(),z_=function(){function e(){Qt(this,e)}return Xt(e,[{key:"put",value:function(e,t,n,r){}},{key:"merge",value:function(e,t,n,r){}},{key:"refreshAuthToken",value:function(e){}},{key:"refreshAppCheckToken",value:function(e){}},{key:"onDisconnectPut",value:function(e,t,n){}},{key:"onDisconnectMerge",value:function(e,t,n){}},{key:"onDisconnectCancel",value:function(e,t){}},{key:"reportStats",value:function(e){}}]),e}(),q_=function(){function e(t){Qt(this,e),this.allowedEvents_=t,this.listeners_={},yn(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return Xt(e,[{key:"trigger",value:function(e){if(Array.isArray(this.listeners_[e])){for(var t=fn(this.listeners_[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0;a<t.length;a++)t[a].callback.apply(t[a].context,r)}}},{key:"on",value:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)}},{key:"off",value:function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}},{key:"validateEventType_",value:function(e){yn(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)}}]),e}(),B_=function(e){Zt(n,e);var t=on(n);function n(){var e;return Qt(this,n),(e=t.call(this,["online"])).online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||Tn()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return Xt(n,[{key:"getInitialEvent",value:function(e){return yn("online"===e,"Unknown event type: "+e),[this.online_]}},{key:"currentlyOnline",value:function(){return this.online_}}],[{key:"getInstance",value:function(){return new n}}]),n}(q_),W_=function(){function e(t,n){if(Qt(this,e),void 0===n){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return Xt(e,[{key:"toString",value:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}]),e}();function H_(){return new W_("")}function K_(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function G_(e){return e.pieces_.length-e.pieceNum_}function $_(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new W_(e.pieces_,t)}function Q_(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Y_(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function X_(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new W_(t,0)}function J_(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof W_)for(var i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else for(var a=t.split("/"),o=0;o<a.length;o++)a[o].length>0&&n.push(a[o]);return new W_(n,0)}function Z_(e){return e.pieceNum_>=e.pieces_.length}function ew(e,t){var n=K_(e),r=K_(t);if(null===n)return t;if(n===r)return ew($_(e),$_(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function tw(e,t){if(G_(e)!==G_(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function nw(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(G_(e)>G_(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var rw=Xt((function e(t,n){Qt(this,e),this.errorPrefix_=n,this.parts_=Y_(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=Xn(this.parts_[r]);iw(this)}));function iw(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+aw(e))}function aw(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var ow=function(e){Zt(n,e);var t=on(n);function n(){var e,r,i;return Qt(this,n),e=t.call(this,["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(i="visibilitychange",r="hidden"):"undefined"!==typeof document.mozHidden?(i="mozvisibilitychange",r="mozHidden"):"undefined"!==typeof document.msHidden?(i="msvisibilitychange",r="msHidden"):"undefined"!==typeof document.webkitHidden&&(i="webkitvisibilitychange",r="webkitHidden")),e.visible_=!0,i&&document.addEventListener(i,(function(){var t=!document[r];t!==e.visible_&&(e.visible_=t,e.trigger("visible",t))}),!1),e}return Xt(n,[{key:"getInitialEvent",value:function(e){return yn("visible"===e,"Unknown event type: "+e),[this.visible_]}}],[{key:"getInstance",value:function(){return new n}}]),n}(q_),sw=1e3,uw=function(e){Zt(n,e);var t=on(n);function n(e,r,i,a,o,s,u,c){var l;if(Qt(this,n),(l=t.call(this)).repoInfo_=e,l.applicationId_=r,l.onDataUpdate_=i,l.onConnectStatus_=a,l.onServerInfoUpdate_=o,l.authTokenProvider_=s,l.appCheckTokenProvider_=u,l.authOverride_=c,l.id=n.nextPersistentConnectionId_++,l.log_=Zb("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingGets_=[],l.outstandingPutCount_=0,l.outstandingGetCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=sw,l.maxReconnectDelay_=3e5,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.appCheckToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.invalidAppCheckTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,c&&!An())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return ow.getInstance().on("visible",l.onVisible_,rn(l)),-1===e.host.indexOf("fblocal")&&B_.getInstance().on("online",l.onOnline_,rn(l)),l}return Xt(n,[{key:"sendRequest",value:function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(Ln(i)),yn(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}},{key:"get",value:function(e){var t=this;this.initConnection_();var n=new En,r={p:e._path.toString(),q:e._queryObject},i={action:"g",request:r,onComplete:function(e){var i=e.d;"ok"===e.s?(t.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var a=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var e=t.outstandingGets_[a];void 0!==e&&i===e&&(delete t.outstandingGets_[a],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+a+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(a),n.promise}},{key:"listen",value:function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),yn(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),yn(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,o),this.connected_&&this.sendListen_(o)}},{key:"sendGet_",value:function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))}},{key:"sendListen_",value:function(e){var t=this,r=e.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);var o={p:i};e.tag&&(o.q=r._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,(function(o){var s=o.d,u=o.s;n.warnOnListenWarnings_(s,r),(t.listens.get(i)&&t.listens.get(i).get(a))===e&&(t.log_("listen response",o),"ok"!==u&&t.removeListen_(i,a),e.onComplete&&e.onComplete(u,s))}))}},{key:"refreshAuthToken",value:function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)}},{key:"reduceReconnectDelayIfAdminCredential_",value:function(e){(e&&40===e.length||function(e){var t=jn(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}},{key:"refreshAppCheckToken",value:function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))}},{key:"tryAuth",value:function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=function(e){var t=jn(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}}},{key:"tryAppCheck",value:function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))}},{key:"unlisten",value:function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),yn(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}},{key:"sendUnlisten_",value:function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}},{key:"onDisconnectPut",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}},{key:"onDisconnectMerge",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}},{key:"onDisconnectCancel",value:function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}},{key:"sendOnDisconnect_",value:function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))}},{key:"put",value:function(e,t,n,r){this.putInternal("p",e,t,n,r)}},{key:"merge",value:function(e,t,n,r){this.putInternal("m",e,t,n,r)}},{key:"putInternal",value:function(e,t,n,r,i){this.initConnection_();var a={p:t,d:n};void 0!==i&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;var o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}},{key:"sendPut_",value:function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))}},{key:"reportStats",value:function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}}},{key:"onDataMessage_",value:function(e){if("r"in e){this.log_("from server: "+Ln(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}},{key:"onDataPush_",value:function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):e_("Unrecognized action received from server: "+Ln(e)+"\nAre you using the latest client?")}},{key:"onReady_",value:function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:"scheduleConnect_",value:function(e){var t=this;yn(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))}},{key:"initConnection_",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:"onVisible_",value:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=sw,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}},{key:"onOnline_",value:function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=sw,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}},{key:"onRealtimeDisconnect_",value:function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=sw),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}},{key:"establishConnection_",value:function(){var e=Kt($t().mark((function e(){var t,r,i,o,s,u,c,l,f,h,d,p,v,y,m=this;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldReconnect_()){e.next=30;break}return this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+n.nextConnectionId_++,s=this.lastSessionId,u=!1,c=null,l=function(){c?c.close():(u=!0,i())},f=function(e){yn(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(e)},this.realtime_={close:l,sendRequest:f},h=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.prev=16,e.next=19,Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);case 19:d=e.sent,p=a(d,2),v=p[0],y=p[1],u?Jb("getToken() completed but was canceled"):(Jb("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=y&&y.token,c=new V_(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,i,(function(e){n_(e+" ("+m.repoInfo_.toString()+")"),m.interrupt("server_kill")}),s)),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(16),this.log_("Failed to get token: "+e.t0),u||(this.repoInfo_.nodeAdmin&&n_(e.t0),l());case 30:case"end":return e.stop()}}),e,this,[[16,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"interrupt",value:function(e){Jb("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:"resume",value:function(e){Jb("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Vn(this.interruptReasons_)&&(this.reconnectDelay_=sw,this.realtime_||this.scheduleConnect_(0))}},{key:"handleTimestamp_",value:function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}},{key:"cancelSentTransactions_",value:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:"onListenRevoked_",value:function(e,t){var n;n=t?t.map((function(e){return c_(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}},{key:"removeListen_",value:function(e,t){var n,r=new W_(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n}},{key:"onAuthRevoked_",value:function(e,t){Jb("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:"onAppCheckRevoked_",value:function(e,t){Jb("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:"onSecurityDebugPacket_",value:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}},{key:"restoreState_",value:function(){this.tryAuth(),this.tryAppCheck();var e,t=ln(this.listens.values());try{for(t.s();!(e=t.n()).done;){var n,r=ln(e.value.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this.sendListen_(i)}}catch(u){r.e(u)}finally{r.f()}}}catch(u){t.e(u)}finally{t.f()}for(var a=0;a<this.outstandingPuts_.length;a++)this.outstandingPuts_[a]&&this.sendPut_(a);for(;this.onDisconnectRequestQueue_.length;){var o=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(o.action,o.pathString,o.data,o.onComplete)}for(var s=0;s<this.outstandingGets_.length;s++)this.outstandingGets_[s]&&this.sendGet_(s)}},{key:"sendConnectStats_",value:function(){var e={},t="js";An()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+Ub.replace(/\./g,"-")]=1,Tn()?e["framework.cordova"]=1:In()&&(e["framework.reactnative"]=1),this.reportStats(e)}},{key:"shouldReconnect_",value:function(){var e=B_.getInstance().currentlyOnline();return Vn(this.interruptReasons_)&&e}}],[{key:"warnOnListenWarnings_",value:function(e,t){if(e&&"object"===typeof e&&Mn(e,"w")){var n=Un(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();n_("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(r," at ")+"".concat(i," to your security rules for better performance."))}}}}]),n}(z_);uw.nextPersistentConnectionId_=0,uw.nextConnectionId_=0;var cw,lw=function(){function e(t,n){Qt(this,e),this.name=t,this.node=n}return Xt(e,null,[{key:"Wrap",value:function(t,n){return new e(t,n)}}]),e}(),fw=function(){function e(){Qt(this,e)}return Xt(e,[{key:"getCompare",value:function(){return this.compare.bind(this)}},{key:"indexedValueChanged",value:function(e,t){var n=new lw(i_,e),r=new lw(i_,t);return 0!==this.compare(n,r)}},{key:"minPost",value:function(){return lw.MIN}}]),e}(),hw=function(e){Zt(n,e);var t=on(n);function n(){return Qt(this,n),t.apply(this,arguments)}return Xt(n,[{key:"compare",value:function(e,t){return o_(e.name,t.name)}},{key:"isDefinedOn",value:function(e){throw mn("KeyIndex.isDefinedOn not expected to be called.")}},{key:"indexedValueChanged",value:function(e,t){return!1}},{key:"minPost",value:function(){return lw.MIN}},{key:"maxPost",value:function(){return new lw(a_,cw)}},{key:"makePost",value:function(e,t){return yn("string"===typeof e,"KeyIndex indexValue must always be a string."),new lw(e,cw)}},{key:"toString",value:function(){return".key"}}],[{key:"__EMPTY_NODE",get:function(){return cw},set:function(e){cw=e}}]),n}(fw),dw=new hw,pw=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;Qt(this,e),this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return Xt(e,[{key:"getNext",value:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack_.length>0}},{key:"peek",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),e}(),vw=function(){function e(t,n,r,i,a){Qt(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:gw.EMPTY_NODE,this.right=null!=a?a:gw.EMPTY_NODE}return Xt(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"count",value:function(){return this.left.count()+1+this.right.count()}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min_",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:"minKey",value:function(){return this.min_().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}},{key:"removeMin_",value:function(){if(this.left.isEmpty())return gw.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}},{key:"remove",value:function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return gw.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}},{key:"isRed_",value:function(){return this.color}},{key:"fixUp_",value:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}},{key:"moveRedLeft_",value:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}},{key:"moveRedRight_",value:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}},{key:"rotateLeft_",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight_",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip_",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth_",value:function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1}},{key:"check_",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}]),e}();vw.RED=!0,vw.BLACK=!1;var yw,mw=function(){function e(){Qt(this,e)}return Xt(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new vw(e,t,null)}},{key:"remove",value:function(e,t){return this}},{key:"count",value:function(){return 0}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"check_",value:function(){return 0}},{key:"isRed_",value:function(){return!1}}]),e}(),gw=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.EMPTY_NODE;Qt(this,e),this.comparator_=t,this.root_=n}return Xt(e,[{key:"insert",value:function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,vw.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,vw.BLACK,null,null))}},{key:"get",value:function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}},{key:"getPredecessorKey",value:function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}},{key:"isEmpty",value:function(){return this.root_.isEmpty()}},{key:"count",value:function(){return this.root_.count()}},{key:"minKey",value:function(){return this.root_.minKey()}},{key:"maxKey",value:function(){return this.root_.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root_.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.root_.reverseTraversal(e)}},{key:"getIterator",value:function(e){return new pw(this.root_,null,this.comparator_,!1,e)}},{key:"getIteratorFrom",value:function(e,t){return new pw(this.root_,e,this.comparator_,!1,t)}},{key:"getReverseIteratorFrom",value:function(e,t){return new pw(this.root_,e,this.comparator_,!0,t)}},{key:"getReverseIterator",value:function(e){return new pw(this.root_,null,this.comparator_,!0,e)}}]),e}();function kw(e,t){return o_(e.name,t.name)}function bw(e,t){return o_(e,t)}gw.EMPTY_NODE=new mw;var _w,ww,xw,Ew=function(e){return"number"===typeof e?"number:"+h_(e):"string:"+e},Sw=function(e){if(e.isLeafNode()){var t=e.val();yn("string"===typeof t||"number"===typeof t||"object"===typeof t&&Mn(t,".sv"),"Priority must be a string or number.")}else yn(e===yw||e.isEmpty(),"priority of unexpected type.");yn(e===yw||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Tw=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.__childrenNodeConstructor.EMPTY_NODE;Qt(this,e),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,yn(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Sw(this.priorityNode_)}return Xt(e,[{key:"isLeafNode",value:function(){return!0}},{key:"getPriority",value:function(){return this.priorityNode_}},{key:"updatePriority",value:function(t){return new e(this.value_,t)}},{key:"getImmediateChild",value:function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"getChild",value:function(t){return Z_(t)?this:".priority"===K_(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"hasChild",value:function(){return!1}},{key:"getPredecessorChildName",value:function(e,t){return null}},{key:"updateImmediateChild",value:function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}},{key:"updateChild",value:function(t,n){var r=K_(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(yn(".priority"!==r||1===G_(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild($_(t),n)))}},{key:"isEmpty",value:function(){return!1}},{key:"numChildren",value:function(){return 0}},{key:"forEachChild",value:function(e,t){return!1}},{key:"val",value:function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+Ew(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?h_(this.value_):this.value_,this.lazyHash_=Gb(e)}return this.lazyHash_}},{key:"getValue",value:function(){return this.value_}},{key:"compareTo",value:function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(yn(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}},{key:"compareToLeafNode_",value:function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return yn(i>=0,"Unknown leaf type: "+n),yn(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}},{key:"withIndex",value:function(){return this}},{key:"isIndexed",value:function(){return!0}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}],[{key:"__childrenNodeConstructor",get:function(){return _w},set:function(e){_w=e}}]),e}();Tw.VALUE_TYPE_ORDER=["object","boolean","number","string"];var Cw,Iw,Nw=function(e){Zt(n,e);var t=on(n);function n(){return Qt(this,n),t.apply(this,arguments)}return Xt(n,[{key:"compare",value:function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?o_(e.name,t.name):i}},{key:"isDefinedOn",value:function(e){return!e.getPriority().isEmpty()}},{key:"indexedValueChanged",value:function(e,t){return!e.getPriority().equals(t.getPriority())}},{key:"minPost",value:function(){return lw.MIN}},{key:"maxPost",value:function(){return new lw(a_,new Tw("[PRIORITY-POST]",xw))}},{key:"makePost",value:function(e,t){var n=ww(e);return new lw(t,new Tw("[PRIORITY-POST]",n))}},{key:"toString",value:function(){return".priority"}}]),n}(fw),Aw=new Nw,Ow=Math.log(2),Rw=function(){function e(t){Qt(this,e);var n;this.count=(n=t+1,parseInt(Math.log(n)/Ow,10)),this.current_=this.count-1;var r,i=(r=this.count,parseInt(Array(r+1).join("1"),2));this.bits_=t+1&i}return Xt(e,[{key:"nextBitIsOne",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),e}(),Pw=function(e,t,n,r){e.sort(t);var i=function t(r,i){var a,o,s=i-r;if(0===s)return null;if(1===s)return a=e[r],o=n?n(a):a,new vw(o,a.node,vw.BLACK,null,null);var u=parseInt(s/2,10)+r,c=t(r,u),l=t(u+1,i);return a=e[u],o=n?n(a):a,new vw(o,a.node,vw.BLACK,c,l)},a=function(t){for(var r=null,a=null,o=e.length,s=function(t,r){var a=o-t,s=o;o-=t;var c=i(a+1,s),l=e[a],f=n?n(l):l;u(new vw(f,l.node,r,null,c))},u=function(e){r?(r.left=e,r=e):(a=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),f=Math.pow(2,t.count-(c+1));l?s(f,vw.BLACK):(s(f,vw.BLACK),s(f,vw.RED))}return a}(new Rw(e.length));return new gw(r||t,a)},Dw={},Fw=function(){function e(t,n){Qt(this,e),this.indexes_=t,this.indexSet_=n}return Xt(e,[{key:"get",value:function(e){var t=Un(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof gw?t:null}},{key:"hasIndex",value:function(e){return Mn(this.indexSet_,e.toString())}},{key:"addIndex",value:function(t,n){yn(t!==dw,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,o=n.getIterator(lw.Wrap),s=o.getNext();s;)a=a||t.isDefinedOn(s.node),i.push(s),s=o.getNext();r=a?Pw(i,t.getCompare()):Dw;var u=t.toString(),c=Object.assign({},this.indexSet_);c[u]=t;var l=Object.assign({},this.indexes_);return l[u]=r,new e(l,c)}},{key:"addToIndexes",value:function(t,n){var r=this;return new e(zn(this.indexes_,(function(e,i){var a=Un(r.indexSet_,i);if(yn(a,"Missing index implementation for "+i),e===Dw){if(a.isDefinedOn(t.node)){for(var o=[],s=n.getIterator(lw.Wrap),u=s.getNext();u;)u.name!==t.name&&o.push(u),u=s.getNext();return o.push(t),Pw(o,a.getCompare())}return Dw}var c=n.get(t.name),l=e;return c&&(l=l.remove(new lw(t.name,c))),l.insert(t,t.node)})),this.indexSet_)}},{key:"removeFromIndexes",value:function(t,n){return new e(zn(this.indexes_,(function(e){if(e===Dw)return e;var r=n.get(t.name);return r?e.remove(new lw(t.name,r)):e})),this.indexSet_)}}],[{key:"Default",get:function(){return yn(Dw&&Aw,"ChildrenNode.ts has not been loaded"),Cw=Cw||new e({".priority":Dw},{".priority":Aw})}}]),e}(),Lw=function(){function e(t,n,r){Qt(this,e),this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Sw(this.priorityNode_),this.children_.isEmpty()&&yn(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Xt(e,[{key:"isLeafNode",value:function(){return!1}},{key:"getPriority",value:function(){return this.priorityNode_||Iw}},{key:"updatePriority",value:function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}},{key:"getImmediateChild",value:function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?Iw:t}},{key:"getChild",value:function(e){var t=K_(e);return null===t?this:this.getImmediateChild(t).getChild($_(e))}},{key:"hasChild",value:function(e){return null!==this.children_.get(e)}},{key:"updateImmediateChild",value:function(t,n){if(yn(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i,a=new lw(t,n);n.isEmpty()?(r=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(a,this.children_)):(r=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(a,this.children_));var o=r.isEmpty()?Iw:this.priorityNode_;return new e(r,o,i)}},{key:"updateChild",value:function(e,t){var n=K_(e);if(null===n)return t;yn(".priority"!==K_(e)||1===G_(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild($_(e),t);return this.updateImmediateChild(n,r)}},{key:"isEmpty",value:function(){return this.children_.isEmpty()}},{key:"numChildren",value:function(){return this.children_.count()}},{key:"val",value:function(t){if(this.isEmpty())return null;var n={},r=0,i=0,a=!0;if(this.forEachChild(Aw,(function(o,s){n[o]=s.val(t),r++,a&&e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1})),!t&&a&&i<2*r){var o=[];for(var s in n)o[s]=n[s];return o}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+Ew(this.getPriority().val())+":"),this.forEachChild(Aw,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":Gb(e)}return this.lazyHash_}},{key:"getPredecessorChildName",value:function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new lw(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)}},{key:"getFirstChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()}},{key:"getFirstChild",value:function(e){var t=this.getFirstChildName(e);return t?new lw(t,this.children_.get(t)):null}},{key:"getLastChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()}},{key:"getLastChild",value:function(e){var t=this.getLastChildName(e);return t?new lw(t,this.children_.get(t)):null}},{key:"forEachChild",value:function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)}},{key:"getIterator",value:function(e){return this.getIteratorFrom(e.minPost(),e)}},{key:"getIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,lw.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r}},{key:"getReverseIterator",value:function(e){return this.getReverseIteratorFrom(e.maxPost(),e)}},{key:"getReverseIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,lw.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r}},{key:"compareTo",value:function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===jw?-1:0}},{key:"withIndex",value:function(t){if(t===dw||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}},{key:"isIndexed",value:function(e){return e===dw||this.indexMap_.hasIndex(e)}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(Aw),r=t.getIterator(Aw),i=n.getNext(),a=r.getNext();i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=n.getNext(),a=r.getNext()}return null===i&&null===a}return!1}return!1}},{key:"resolveIndex_",value:function(e){return e===dw?null:this.indexMap_.get(e.toString())}}],[{key:"EMPTY_NODE",get:function(){return Iw||(Iw=new e(new gw(bw),null,Fw.Default))}}]),e}();Lw.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var jw=new(function(e){Zt(n,e);var t=on(n);function n(){return Qt(this,n),t.call(this,new gw(bw),Lw.EMPTY_NODE,Fw.Default)}return Xt(n,[{key:"compareTo",value:function(e){return e===this?0:1}},{key:"equals",value:function(e){return e===this}},{key:"getPriority",value:function(){return this}},{key:"getImmediateChild",value:function(e){return Lw.EMPTY_NODE}},{key:"isEmpty",value:function(){return!1}}]),n}(Lw));Object.defineProperties(lw,{MIN:{value:new lw(i_,Lw.EMPTY_NODE)},MAX:{value:new lw(a_,jw)}}),hw.__EMPTY_NODE=Lw.EMPTY_NODE,Tw.__childrenNodeConstructor=Lw,yw=jw,function(e){xw=e}(jw);function Mw(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return Lw.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),yn(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){var n=e;return new Tw(n,Mw(t))}if(e instanceof Array){var r=Lw.EMPTY_NODE;return f_(e,(function(t,n){if(Mn(e,t)&&"."!==t.substring(0,1)){var i=Mw(n);!i.isLeafNode()&&i.isEmpty()||(r=r.updateImmediateChild(t,i))}})),r.updatePriority(Mw(t))}var i=[],a=!1,o=e;if(f_(o,(function(e,t){if("."!==e.substring(0,1)){var n=Mw(t);n.isEmpty()||(a=a||!n.getPriority().isEmpty(),i.push(new lw(e,n)))}})),0===i.length)return Lw.EMPTY_NODE;var s=Pw(i,kw,(function(e){return e.name}),bw);if(a){var u=Pw(i,Aw.getCompare());return new Lw(s,Mw(t),new Fw({".priority":u},{".priority":Aw}))}return new Lw(s,Mw(t),Fw.Default)}!function(e){ww=e}(Mw);var Uw=function(e){Zt(n,e);var t=on(n);function n(e){var r;return Qt(this,n),(r=t.call(this)).indexPath_=e,yn(!Z_(e)&&".priority"!==K_(e),"Can't create PathIndex with empty path or .priority key"),r}return Xt(n,[{key:"extractChild",value:function(e){return e.getChild(this.indexPath_)}},{key:"isDefinedOn",value:function(e){return!e.getChild(this.indexPath_).isEmpty()}},{key:"compare",value:function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?o_(e.name,t.name):i}},{key:"makePost",value:function(e,t){var n=Mw(e),r=Lw.EMPTY_NODE.updateChild(this.indexPath_,n);return new lw(t,r)}},{key:"maxPost",value:function(){var e=Lw.EMPTY_NODE.updateChild(this.indexPath_,jw);return new lw(a_,e)}},{key:"toString",value:function(){return Y_(this.indexPath_,0).join("/")}}]),n}(fw),Vw=function(e){Zt(n,e);var t=on(n);function n(){return Qt(this,n),t.apply(this,arguments)}return Xt(n,[{key:"compare",value:function(e,t){var n=e.node.compareTo(t.node);return 0===n?o_(e.name,t.name):n}},{key:"isDefinedOn",value:function(e){return!0}},{key:"indexedValueChanged",value:function(e,t){return!e.equals(t)}},{key:"minPost",value:function(){return lw.MIN}},{key:"maxPost",value:function(){return lw.MAX}},{key:"makePost",value:function(e,t){var n=Mw(e);return new lw(t,n)}},{key:"toString",value:function(){return".value"}}]),n}(fw),zw=new Vw,qw="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz";!function(){var e=0,t=[]}();function Bw(e){return{type:"value",snapshotNode:e}}function Ww(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Hw(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Kw(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var Gw=function(){function e(){Qt(this,e),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Aw}return Xt(e,[{key:"hasStart",value:function(){return this.startSet_}},{key:"hasStartAfter",value:function(){return this.startAfterSet_}},{key:"hasEndBefore",value:function(){return this.endBeforeSet_}},{key:"isViewFromLeft",value:function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}},{key:"getIndexStartValue",value:function(){return yn(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}},{key:"getIndexStartName",value:function(){return yn(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:i_}},{key:"hasEnd",value:function(){return this.endSet_}},{key:"getIndexEndValue",value:function(){return yn(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}},{key:"getIndexEndName",value:function(){return yn(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:a_}},{key:"hasLimit",value:function(){return this.limitSet_}},{key:"hasAnchoredLimit",value:function(){return this.limitSet_&&""!==this.viewFrom_}},{key:"getLimit",value:function(){return yn(this.limitSet_,"Only valid if limit has been set"),this.limit_}},{key:"getIndex",value:function(){return this.index_}},{key:"loadsAllData",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:"isDefault",value:function(){return this.loadsAllData()&&this.index_===Aw}},{key:"copy",value:function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}]),e}();function $w(e){var t,n={};return e.isDefault()||(e.index_===Aw?t="$priority":e.index_===zw?t="$value":e.index_===dw?t="$key":(yn(e.index_ instanceof Uw,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=Ln(t),e.startSet_&&(n.startAt=Ln(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+Ln(e.indexStartName_))),e.endSet_&&(n.endAt=Ln(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+Ln(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function Qw(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Aw&&(t.i=e.index_.toString()),t}var Yw=function(e){Zt(n,e);var t=on(n);function n(e,r,i,a){var o;return Qt(this,n),(o=t.call(this)).repoInfo_=e,o.onDataUpdate_=r,o.authTokenProvider_=i,o.appCheckTokenProvider_=a,o.log_=Zb("p:rest:"),o.listens_={},o}return Xt(n,[{key:"reportStats",value:function(e){throw new Error("Method not implemented.")}},{key:"listen",value:function(e,t,r,i){var a=this,o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);var s=n.getListenId_(e,r),u={};this.listens_[s]=u;var c=$w(e._queryParams);this.restRequest_(o+".json",c,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(o,n,!1,r),Un(a.listens_,s)===u)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))}},{key:"unlisten",value:function(e,t){var r=n.getListenId_(e,t);delete this.listens_[r]}},{key:"get",value:function(e){var t=this,n=$w(e._queryParams),r=e._path.toString(),i=new En;return this.restRequest_(r+".json",n,(function(e,n){var a=n;404===e&&(a=null,e=null),null===e?(t.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))})),i.promise}},{key:"refreshAuthToken",value:function(e){}},{key:"restRequest_",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var o=a(i,2),s=o[0],u=o[1];s&&s.accessToken&&(n.auth=s.accessToken),u&&u.token&&(n.ac=u.token);var c=(t.repoInfo_.secure?"https://":"http://")+t.repoInfo_.host+e+"?ns="+t.repoInfo_.namespace+Wn(n);t.log_("Sending REST request for "+c);var l=new XMLHttpRequest;l.onreadystatechange=function(){if(r&&4===l.readyState){t.log_("REST Response for "+c+" received. status:",l.status,"response:",l.responseText);var e=null;if(l.status>=200&&l.status<300){try{e=Fn(l.responseText)}catch(n){n_("Failed to parse JSON response for "+c+": "+l.responseText)}r(null,e)}else 401!==l.status&&404!==l.status&&n_("Got unsuccessful REST response for "+c+" Status: "+l.status),r(l.status);r=null}},l.open("GET",c,!0),l.send()}))}}],[{key:"getListenId_",value:function(e,t){return void 0!==t?"tag$"+t:(yn(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}}]),n}(z_),Xw=function(){function e(){Qt(this,e),this.rootNode_=Lw.EMPTY_NODE}return Xt(e,[{key:"getNode",value:function(e){return this.rootNode_.getChild(e)}},{key:"updateSnapshot",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),e}();function Jw(){return{value:null,children:new Map}}function Zw(e,t,n){if(Z_(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=K_(t);e.children.has(r)||e.children.set(r,Jw()),Zw(e.children.get(r),t=$_(t),n)}}function ex(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){ex(r,new W_(t.toString()+"/"+e),n)}))}var tx,nx=function(){function e(t){Qt(this,e),this.collection_=t,this.last_=null}return Xt(e,[{key:"get",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&f_(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t}}]),e}(),rx=function(){function e(t,n){Qt(this,e),this.server_=n,this.statsToReport_={},this.statsListener_=new nx(t);var r=1e4+2e4*Math.random();g_(this.reportStats_.bind(this),Math.floor(r))}return Xt(e,[{key:"reportStats_",value:function(){var e=this,t=this.statsListener_.get(),n={},r=!1;f_(t,(function(t,i){i>0&&Mn(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),g_(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),e}();function ix(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(tx||(tx={}));var ax,ox=function(){function e(t,n,r){Qt(this,e),this.path=t,this.affectedTree=n,this.revert=r,this.type=tx.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return Xt(e,[{key:"operationForChild",value:function(t){if(Z_(this.path)){if(null!=this.affectedTree.value)return yn(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new W_(t));return new e(H_(),n,this.revert)}return yn(K_(this.path)===t,"operationForChild called for unrelated child."),new e($_(this.path),this.affectedTree,this.revert)}}]),e}(),sx=function(){function e(t,n,r){Qt(this,e),this.source=t,this.path=n,this.snap=r,this.type=tx.OVERWRITE}return Xt(e,[{key:"operationForChild",value:function(t){return Z_(this.path)?new e(this.source,H_(),this.snap.getImmediateChild(t)):new e(this.source,$_(this.path),this.snap)}}]),e}(),ux=function(){function e(t,n,r){Qt(this,e),this.source=t,this.path=n,this.children=r,this.type=tx.MERGE}return Xt(e,[{key:"operationForChild",value:function(t){if(Z_(this.path)){var n=this.children.subtree(new W_(t));return n.isEmpty()?null:n.value?new sx(this.source,H_(),n.value):new e(this.source,H_(),n)}return yn(K_(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,$_(this.path),this.children)}},{key:"toString",value:function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}]),e}(),cx=function(){function e(t,n,r){Qt(this,e),this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return Xt(e,[{key:"isFullyInitialized",value:function(){return this.fullyInitialized_}},{key:"isFiltered",value:function(){return this.filtered_}},{key:"isCompleteForPath",value:function(e){if(Z_(e))return this.isFullyInitialized()&&!this.filtered_;var t=K_(e);return this.isCompleteForChild(t)}},{key:"isCompleteForChild",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:"getNode",value:function(){return this.node_}}]),e}();function lx(e,t,n,r,i,a){var o=r.filter((function(e){return e.type===n}));o.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw mn("Should only compare child_ events.");var r=new lw(t.childName,t.snapshotNode),i=new lw(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),o.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function fx(e,t){return{eventCache:e,serverCache:t}}function hx(e,t,n,r){return fx(new cx(t,n,r),e.serverCache)}function dx(e,t,n,r){return fx(e.eventCache,new cx(t,n,r))}function px(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function vx(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var yx=function(){return ax||(ax=new gw(s_)),ax},mx=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:yx();Qt(this,e),this.value=t,this.children=n}return Xt(e,[{key:"isEmpty",value:function(){return null===this.value&&this.children.isEmpty()}},{key:"findRootMostMatchingPathAndValue",value:function(e,t){if(null!=this.value&&t(this.value))return{path:H_(),value:this.value};if(Z_(e))return null;var n=K_(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue($_(e),t);return null!=i?{path:J_(new W_(n),i.path),value:i.value}:null}return null}},{key:"findRootMostValueAndPath",value:function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))}},{key:"subtree",value:function(t){if(Z_(t))return this;var n=K_(t),r=this.children.get(n);return null!==r?r.subtree($_(t)):new e(null)}},{key:"set",value:function(t,n){if(Z_(t))return new e(n,this.children);var r=K_(t),i=(this.children.get(r)||new e(null)).set($_(t),n),a=this.children.insert(r,i);return new e(this.value,a)}},{key:"remove",value:function(t){if(Z_(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=K_(t),r=this.children.get(n);if(r){var i,a=r.remove($_(t));return i=a.isEmpty()?this.children.remove(n):this.children.insert(n,a),null===this.value&&i.isEmpty()?new e(null):new e(this.value,i)}return this}},{key:"get",value:function(e){if(Z_(e))return this.value;var t=K_(e),n=this.children.get(t);return n?n.get($_(e)):null}},{key:"setTree",value:function(t,n){if(Z_(t))return n;var r,i=K_(t),a=(this.children.get(i)||new e(null)).setTree($_(t),n);return r=a.isEmpty()?this.children.remove(i):this.children.insert(i,a),new e(this.value,r)}},{key:"fold",value:function(e){return this.fold_(H_(),e)}},{key:"fold_",value:function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(J_(e,r),t)})),t(e,this.value,n)}},{key:"findOnPath",value:function(e,t){return this.findOnPath_(e,H_(),t)}},{key:"findOnPath_",value:function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(Z_(e))return null;var i=K_(e),a=this.children.get(i);return a?a.findOnPath_($_(e),J_(t,i),n):null}},{key:"foreachOnPath",value:function(e,t){return this.foreachOnPath_(e,H_(),t)}},{key:"foreachOnPath_",value:function(t,n,r){if(Z_(t))return this;this.value&&r(n,this.value);var i=K_(t),a=this.children.get(i);return a?a.foreachOnPath_($_(t),J_(n,i),r):new e(null)}},{key:"foreach",value:function(e){this.foreach_(H_(),e)}},{key:"foreach_",value:function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(J_(e,n),t)})),this.value&&t(e,this.value)}},{key:"foreachChild",value:function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))}}],[{key:"fromObject",value:function(t){var n=new e(null);return f_(t,(function(e,t){n=n.set(new W_(e),t)})),n}}]),e}(),gx=function(){function e(t){Qt(this,e),this.writeTree_=t}return Xt(e,null,[{key:"empty",value:function(){return new e(new mx(null))}}]),e}();function kx(e,t,n){if(Z_(t))return new gx(new mx(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,a=r.value,o=ew(i,t);return a=a.updateChild(o,n),new gx(e.writeTree_.set(i,a))}var s=new mx(n),u=e.writeTree_.setTree(t,s);return new gx(u)}function bx(e,t,n){var r=e;return f_(n,(function(e,n){r=kx(r,J_(t,e),n)})),r}function _x(e,t){if(Z_(t))return gx.empty();var n=e.writeTree_.setTree(t,new mx(null));return new gx(n)}function wx(e,t){return null!=xx(e,t)}function xx(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(ew(n.path,t)):null}function Ex(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Aw,(function(e,n){t.push(new lw(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new lw(e,n.value))})),t}function Sx(e,t){if(Z_(t))return e;var n=xx(e,t);return new gx(null!=n?new mx(n):e.writeTree_.subtree(t))}function Tx(e){return e.writeTree_.isEmpty()}function Cx(e,t){return Ix(H_(),e.writeTree_,t)}function Ix(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(yn(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=Ix(J_(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(J_(e,".priority"),r)),n}function Nx(e,t){return Bx(t,e)}function Ax(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}function Ox(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));yn(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,o=e.allWrites.length-1;i&&o>=0;){var s=e.allWrites[o];s.visible&&(o>=n&&Rx(s,r.path)?i=!1:nw(r.path,s.path)&&(a=!0)),o--}if(i){if(a)return function(e){e.visibleWrites=Dx(e.allWrites,Px,H_()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=_x(e.visibleWrites,r.path):f_(r.children,(function(t){e.visibleWrites=_x(e.visibleWrites,J_(r.path,t))}));return!0}return!1}function Rx(e,t){if(e.snap)return nw(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&nw(J_(e.path,n),t))return!0;return!1}function Px(e){return e.visible}function Dx(e,t,n){for(var r=gx.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var o=a.path,s=void 0;if(a.snap)nw(n,o)?r=kx(r,s=ew(n,o),a.snap):nw(o,n)&&(s=ew(o,n),r=kx(r,H_(),a.snap.getChild(s)));else{if(!a.children)throw mn("WriteRecord should have .snap or .children");if(nw(n,o))r=bx(r,s=ew(n,o),a.children);else if(nw(o,n))if(Z_(s=ew(o,n)))r=bx(r,H_(),a.children);else{var u=Un(a.children,K_(s));if(u){var c=u.getChild($_(s));r=kx(r,H_(),c)}}}}}return r}function Fx(e,t,n,r,i){if(r||i){var a=Sx(e.visibleWrites,t);if(!i&&Tx(a))return n;if(i||null!=n||wx(a,H_())){return Cx(Dx(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(nw(e.path,t)||nw(t,e.path))}),t),n||Lw.EMPTY_NODE)}return null}var o=xx(e.visibleWrites,t);if(null!=o)return o;var s=Sx(e.visibleWrites,t);return Tx(s)?n:null!=n||wx(s,H_())?Cx(s,n||Lw.EMPTY_NODE):null}function Lx(e,t,n,r){return Fx(e.writeTree,e.treePath,t,n,r)}function jx(e,t){return function(e,t,n){var r=Lw.EMPTY_NODE,i=xx(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Aw,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var a=Sx(e.visibleWrites,t);return n.forEachChild(Aw,(function(e,t){var n=Cx(Sx(a,new W_(e)),t);r=r.updateImmediateChild(e,n)})),Ex(a).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return Ex(Sx(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function Mx(e,t,n,r){return function(e,t,n,r,i){yn(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=J_(t,n);if(wx(e.visibleWrites,a))return null;var o=Sx(e.visibleWrites,a);return Tx(o)?i.getChild(n):Cx(o,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function Ux(e,t){return function(e,t){return xx(e.visibleWrites,t)}(e.writeTree,J_(e.treePath,t))}function Vx(e,t,n,r,i,a){return function(e,t,n,r,i,a,o){var s,u=Sx(e.visibleWrites,t),c=xx(u,H_());if(null!=c)s=c;else{if(null==n)return[];s=Cx(u,n)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var l=[],f=o.getCompare(),h=a?s.getReverseIteratorFrom(r,o):s.getIteratorFrom(r,o),d=h.getNext();d&&l.length<i;)0!==f(d,r)&&l.push(d),d=h.getNext();return l}(e.writeTree,e.treePath,t,n,r,i,a)}function zx(e,t,n){return function(e,t,n,r){var i=J_(t,n),a=xx(e.visibleWrites,i);return null!=a?a:r.isCompleteForChild(n)?Cx(Sx(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function qx(e,t){return Bx(J_(e.treePath,t),e.writeTree)}function Bx(e,t){return{treePath:e,writeTree:t}}var Wx=function(){function e(){Qt(this,e),this.changeMap=new Map}return Xt(e,[{key:"trackChildChange",value:function(e){var t=e.type,n=e.childName;yn("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),yn(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,Kw(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,Hw(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,Ww(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw mn("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Kw(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}},{key:"getChanges",value:function(){return Array.from(this.changeMap.values())}}]),e}(),Hx=new(function(){function e(){Qt(this,e)}return Xt(e,[{key:"getCompleteChild",value:function(e){return null}},{key:"getChildAfterChild",value:function(e,t,n){return null}}]),e}()),Kx=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Qt(this,e),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return Xt(e,[{key:"getCompleteChild",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new cx(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return zx(this.writes_,e,n)}},{key:"getChildAfterChild",value:function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:vx(this.viewCache_),i=Vx(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}]),e}();function Gx(e,t,n,r,i){var a,o,s=new Wx;if(n.type===tx.OVERWRITE){var u=n;u.source.fromUser?a=Yx(e,t,u.path,u.snap,r,i,s):(yn(u.source.fromServer,"Unknown source."),o=u.source.tagged||t.serverCache.isFiltered()&&!Z_(u.path),a=Qx(e,t,u.path,u.snap,r,i,o,s))}else if(n.type===tx.MERGE){var c=n;c.source.fromUser?a=function(e,t,n,r,i,a,o){var s=t;return r.foreach((function(r,u){var c=J_(n,r);Xx(t,K_(c))&&(s=Yx(e,s,c,u,i,a,o))})),r.foreach((function(r,u){var c=J_(n,r);Xx(t,K_(c))||(s=Yx(e,s,c,u,i,a,o))})),s}(e,t,c.path,c.children,r,i,s):(yn(c.source.fromServer,"Unknown source."),o=c.source.tagged||t.serverCache.isFiltered(),a=Zx(e,t,c.path,c.children,r,i,o,s))}else if(n.type===tx.ACK_USER_WRITE){var l=n;a=l.revert?function(e,t,n,r,i,a){var o;if(null!=Ux(r,n))return t;var s,u=new Kx(r,t,i),c=t.eventCache.getNode();if(Z_(n)||".priority"===K_(n)){var l;if(t.serverCache.isFullyInitialized())l=Lx(r,vx(t));else{var f=t.serverCache.getNode();yn(f instanceof Lw,"serverChildren would be complete if leaf node"),l=jx(r,f)}l=l,s=e.filter.updateFullNode(c,l,a)}else{var h=K_(n),d=zx(r,h,t.serverCache);null==d&&t.serverCache.isCompleteForChild(h)&&(d=c.getImmediateChild(h)),(s=null!=d?e.filter.updateChild(c,h,d,$_(n),u,a):t.eventCache.getNode().hasChild(h)?e.filter.updateChild(c,h,Lw.EMPTY_NODE,$_(n),u,a):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(o=Lx(r,vx(t))).isLeafNode()&&(s=e.filter.updateFullNode(s,o,a))}return o=t.serverCache.isFullyInitialized()||null!=Ux(r,H_()),hx(t,s,o,e.filter.filtersNodes())}(e,t,l.path,r,i,s):function(e,t,n,r,i,a,o){if(null!=Ux(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(Z_(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Qx(e,t,n,u.getNode().getChild(n),i,a,s,o);if(Z_(n)){var c=new mx(null);return u.getNode().forEachChild(dw,(function(e,t){c=c.set(new W_(e),t)})),Zx(e,t,n,c,i,a,s,o)}return t}var l=new mx(null);return r.foreach((function(e,t){var r=J_(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))})),Zx(e,t,n,l,i,a,s,o)}(e,t,l.path,l.affectedTree,r,i,s)}else{if(n.type!==tx.LISTEN_COMPLETE)throw mn("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var a=t.serverCache,o=dx(t,a.getNode(),a.isFullyInitialized()||Z_(n),a.isFiltered());return $x(e,o,n,r,Hx,i)}(e,t,n.path,r,s)}var f=s.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=px(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(Bw(px(t)))}}(t,a,f),{viewCache:a,changes:f}}function $x(e,t,n,r,i,a){var o,s,u=t.eventCache;if(null!=Ux(r,n))return t;if(Z_(n))if(yn(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var c=vx(t),l=jx(r,c instanceof Lw?c:Lw.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),l,a)}else{var f=Lx(r,vx(t));o=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{var h=K_(n);if(".priority"===h){yn(1===G_(n),"Can't have a priority with additional path components");var d=u.getNode(),p=Mx(r,n,d,s=t.serverCache.getNode());o=null!=p?e.filter.updatePriority(d,p):u.getNode()}else{var v,y=$_(n);if(u.isCompleteForChild(h)){s=t.serverCache.getNode();var m=Mx(r,n,u.getNode(),s);v=null!=m?u.getNode().getImmediateChild(h).updateChild(y,m):u.getNode().getImmediateChild(h)}else v=zx(r,h,t.serverCache);o=null!=v?e.filter.updateChild(u.getNode(),h,v,y,i,a):u.getNode()}}return hx(t,o,u.isFullyInitialized()||Z_(n),e.filter.filtersNodes())}function Qx(e,t,n,r,i,a,o,s){var u,c=t.serverCache,l=o?e.filter:e.filter.getIndexedFilter();if(Z_(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var f=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),f,null)}else{var h=K_(n);if(!c.isCompleteForPath(n)&&G_(n)>1)return t;var d=$_(n),p=c.getNode().getImmediateChild(h).updateChild(d,r);u=".priority"===h?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),h,p,d,Hx,null)}var v=dx(t,u,c.isFullyInitialized()||Z_(n),l.filtersNodes());return $x(e,v,n,i,new Kx(i,v,a),s)}function Yx(e,t,n,r,i,a,o){var s,u,c=t.eventCache,l=new Kx(i,t,a);if(Z_(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,o),s=hx(t,u,!0,e.filter.filtersNodes());else{var f=K_(n);if(".priority"===f)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=hx(t,u,c.isFullyInitialized(),c.isFiltered());else{var h,d=$_(n),p=c.getNode().getImmediateChild(f);if(Z_(d))h=r;else{var v=l.getCompleteChild(f);h=null!=v?".priority"===Q_(d)&&v.getChild(X_(d)).isEmpty()?v:v.updateChild(d,r):Lw.EMPTY_NODE}if(p.equals(h))s=t;else s=hx(t,e.filter.updateChild(c.getNode(),f,h,d,l,o),c.isFullyInitialized(),e.filter.filtersNodes())}}return s}function Xx(e,t){return e.eventCache.isCompleteForChild(t)}function Jx(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function Zx(e,t,n,r,i,a,o,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,c=t;u=Z_(n)?r:new mx(null).setTree(n,r);var l=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var u=Jx(0,t.serverCache.getNode().getImmediateChild(n),r);c=Qx(e,c,new W_(n),u,i,a,o,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!u){var f=Jx(0,t.serverCache.getNode().getImmediateChild(n),r);c=Qx(e,c,new W_(n),f,i,a,o,s)}})),c}var eE;function tE(e,t){var n=vx(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Z_(t)&&!n.getImmediateChild(K_(t)).isEmpty())?n.getChild(t):null}function nE(e,t,n,r){t.type===tx.MERGE&&null!==t.source.queryId&&(yn(vx(e.viewCache_),"We should always have a full cache before handling merges"),yn(px(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,o=e.viewCache_,s=Gx(e.processor_,o,t,n,r);return i=e.processor_,a=s.viewCache,yn(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),yn(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),yn(s.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,rE(e,s.changes,s.viewCache.eventCache.getNode(),null)}function rE(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],a=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),lx(e,i,"child_removed",t,r,n),lx(e,i,"child_added",t,r,n),lx(e,i,"child_moved",a,r,n),lx(e,i,"child_changed",t,r,n),lx(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var iE;function aE(e,t,n,r){var i=t.source.queryId;if(null!==i){var a=e.views.get(i);return yn(null!=a,"SyncTree gave us an op for an invalid query."),nE(a,t,n,r)}var o,s=[],u=ln(e.views.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s=s.concat(nE(c,t,n,r))}}catch(l){u.e(l)}finally{u.f()}return s}function oE(e,t){var n,r=null,i=ln(e.views.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r||tE(a,t)}}catch(o){i.e(o)}finally{i.f()}return r}var sE=Xt((function e(t){Qt(this,e),this.listenProvider_=t,this.syncPointTree_=new mx(null),this.pendingWriteTree_={visibleWrites:gx.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}));function uE(e,t,n,r,i){return function(e,t,n,r,i){yn(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=kx(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?hE(e,new sx({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function cE(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Ax(e.pendingWriteTree_,t),i=Ox(e.pendingWriteTree_,t);if(i){var a=new mx(null);return null!=r.snap?a=a.set(H_(),!0):f_(r.children,(function(e){a=a.set(new W_(e),!0)})),hE(e,new ox(r.path,a,n))}return[]}function lE(e,t,n){return hE(e,new sx({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function fE(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=oE(n,ew(e,t));if(r)return r}));return Fx(r,t,i,n,!0)}function hE(e,t){return dE(t,e.syncPointTree_,null,Nx(e.pendingWriteTree_,H_()))}function dE(e,t,n,r){if(Z_(e.path))return pE(e,t,n,r);var i=t.get(H_());null==n&&null!=i&&(n=oE(i,H_()));var a=[],o=K_(e.path),s=e.operationForChild(o),u=t.children.get(o);if(u&&s){var c=n?n.getImmediateChild(o):null,l=qx(r,o);a=a.concat(dE(s,u,c,l))}return i&&(a=a.concat(aE(i,e,r,n))),a}function pE(e,t,n,r){var i=t.get(H_());null==n&&null!=i&&(n=oE(i,H_()));var a=[];return t.children.inorderTraversal((function(t,i){var o=n?n.getImmediateChild(t):null,s=qx(r,t),u=e.operationForChild(t);u&&(a=a.concat(pE(u,i,o,s)))})),i&&(a=a.concat(aE(i,e,r,n))),a}function vE(e,t){return e.tagToQueryMap.get(t)}function yE(e){var t=e.indexOf("$");return yn(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new W_(e.substr(0,t))}}function mE(e,t,n){var r=e.syncPointTree_.get(t);return yn(r,"Missing sync point for query tag that we're tracking"),aE(r,n,Nx(e.pendingWriteTree_,t),null)}var gE=function(){function e(t){Qt(this,e),this.node_=t}return Xt(e,[{key:"getImmediateChild",value:function(t){return new e(this.node_.getImmediateChild(t))}},{key:"node",value:function(){return this.node_}}]),e}(),kE=function(){function e(t,n){Qt(this,e),this.syncTree_=t,this.path_=n}return Xt(e,[{key:"getImmediateChild",value:function(t){var n=J_(this.path_,t);return new e(this.syncTree_,n)}},{key:"node",value:function(){return fE(this.syncTree_,this.path_)}}]),e}(),bE=function(e,t,n){return e&&"object"===typeof e?(yn(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?_E(e[".sv"],t,n):"object"===typeof e[".sv"]?wE(e[".sv"],t):void yn(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},_E=function(e,t,n){if("timestamp"===e)return n.timestamp;yn(!1,"Unexpected server value: "+e)},wE=function(e,t,n){e.hasOwnProperty("increment")||yn(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&yn(!1,"Unexpected increment value: "+r);var i=t.node();if(yn(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},xE=function(e,t,n,r){return SE(t,new kE(n,e),r)},EE=function(e,t,n){return SE(e,new gE(t),n)};function SE(e,t,n){var r,i=e.getPriority().val(),a=bE(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var o=e,s=bE(o.getValue(),t,n);return s!==o.getValue()||a!==o.getPriority().val()?new Tw(s,Mw(a)):e}var u=e;return r=u,a!==u.getPriority().val()&&(r=r.updatePriority(new Tw(a))),u.forEachChild(Aw,(function(e,i){var a=SE(i,t.getImmediateChild(e),n);a!==i&&(r=r.updateImmediateChild(e,a))})),r}var TE=Xt((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};Qt(this,e),this.name=t,this.parent=n,this.node=r}));function CE(e,t){for(var n=t instanceof W_?t:new W_(t),r=e,i=K_(n);null!==i;){var a=Un(r.node.children,i)||{children:{},childCount:0};r=new TE(i,r,a),i=K_(n=$_(n))}return r}function IE(e){return e.node.value}function NE(e,t){e.node.value=t,DE(e)}function AE(e){return e.node.childCount>0}function OE(e,t){f_(e.node.children,(function(n,r){t(new TE(n,e,r))}))}function RE(e,t,n,r){n&&!r&&t(e),OE(e,(function(e){RE(e,t,!0,r)})),n&&r&&t(e)}function PE(e){return new W_(null===e.parent?e.name:PE(e.parent)+"/"+e.name)}function DE(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===IE(e)&&!AE(e)}(n),i=Mn(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,DE(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,DE(e))}(e.parent,e.name,e)}var FE=/[\[\].#$\/\u0000-\u001F\u007F]/,LE=/[\[\].#$\u0000-\u001F\u007F]/,jE=10485760,ME=function(e){return"string"===typeof e&&0!==e.length&&!FE.test(e)},UE=function(e){return"string"===typeof e&&0!==e.length&&!LE.test(e)},VE=function e(t,n,r){var i=r instanceof W_?new rw(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+aw(i));if("function"===typeof n)throw new Error(t+"contains a function "+aw(i)+" with contents = "+n.toString());if(r_(n))throw new Error(t+"contains "+n.toString()+" "+aw(i));if("string"===typeof n&&n.length>jE/3&&Xn(n)>jE)throw new Error(t+"contains a string greater than "+"10485760 utf8 bytes "+aw(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,o=!1;if(f_(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(o=!0,!ME(n)))throw new Error(t+" contains an invalid key ("+n+") "+aw(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Xn(t),iw(e)}(i,n),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=Xn(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&o)throw new Error(t+' contains ".value" child '+aw(i)+" in addition to actual children.")}},zE=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!ME(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),UE(e)}(n))throw new Error(Yn(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},qE=Xt((function e(){Qt(this,e),this.eventLists_=[],this.recursionDepth_=0}));function BE(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],a=i.getPath();null===n||tw(a,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function WE(e,t,n){BE(e,n),HE(e,(function(e){return nw(e,t)||nw(t,e)}))}function HE(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(KE(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function KE(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();Qb&&Jb("event: "+n.toString()),m_(r)}}}var GE="repo_interrupt",$E=function(){function e(t,n,r,i){Qt(this,e),this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new qE,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Jw(),this.transactionQueueTree_=new TE,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return Xt(e,[{key:"toString",value:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}]),e}();function QE(e,t,n){if(e.stats_=O_(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Yw(e.repoInfo_,(function(t,n,r,i){JE(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return ZE(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ln(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new uw(e.repoInfo_,t,(function(t,n,r,i){JE(e,t,n,r,i)}),(function(t){ZE(e,t)}),(function(t){!function(e,t){f_(t,(function(t,n){eS(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return A_[n]||(A_[n]=t()),A_[n]}(e.repoInfo_,(function(){return new rx(e.stats_,e.server_)})),e.infoData_=new Xw,e.infoSyncTree_=new sE({startListening:function(t,n,r,i){var a=[],o=e.infoData_.getNode(t._path);return o.isEmpty()||(a=lE(e.infoSyncTree_,t._path,o),setTimeout((function(){i("ok")}),0)),a},stopListening:function(){}}),eS(e,"connected",!1),e.serverSyncTree_=new sE({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var a=i(n,r);WE(e.eventQueue_,t._path,a)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function YE(e){var t=e.infoData_.getNode(new W_(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function XE(e){return(t=(t={timestamp:YE(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function JE(e,t,n,r,i){e.dataUpdateCount++;var a=new W_(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var o=[];if(i)if(r){var s=zn(n,(function(e){return Mw(e)}));o=function(e,t,n,r){var i=vE(e,r);if(i){var a=yE(i),o=a.path,s=a.queryId,u=ew(o,t),c=mx.fromObject(n);return mE(e,o,new ux(ix(s),u,c))}return[]}(e.serverSyncTree_,a,s,i)}else{var u=Mw(n);o=function(e,t,n,r){var i=vE(e,r);if(null!=i){var a=yE(i),o=a.path,s=a.queryId,u=ew(o,t);return mE(e,o,new sx(ix(s),u,n))}return[]}(e.serverSyncTree_,a,u,i)}else if(r){var c=zn(n,(function(e){return Mw(e)}));o=function(e,t,n){var r=mx.fromObject(n);return hE(e,new ux({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,c)}else{var l=Mw(n);o=lE(e.serverSyncTree_,a,l)}var f=a;o.length>0&&(f=sS(e,a)),WE(e.eventQueue_,f,o)}function ZE(e,t){eS(e,"connected",t),!1===t&&function(e){rS(e,"onDisconnectEvents");var t=XE(e),n=Jw();ex(e.onDisconnect_,H_(),(function(r,i){var a=xE(r,i,e.serverSyncTree_,t);Zw(n,r,a)}));var r=[];ex(n,H_(),(function(t,n){r=r.concat(lE(e.serverSyncTree_,t,n));var i=hS(e,t);sS(e,i)})),e.onDisconnect_=Jw(),WE(e.eventQueue_,H_(),r)}(e)}function eS(e,t,n){var r=new W_("/.info/"+t),i=Mw(n);e.infoData_.updateSnapshot(r,i);var a=lE(e.infoSyncTree_,r,i);WE(e.eventQueue_,r,a)}function tS(e){return e.nextWriteId_++}function nS(e){e.persistentConnection_&&e.persistentConnection_.interrupt(GE)}function rS(e){var t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];Jb.apply(void 0,[t].concat(r))}function iS(e,t,n){return fE(e.serverSyncTree_,t,n)||Lw.EMPTY_NODE}function aS(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||fS(e,t),IE(t)){var n=cS(e,t);yn(n.length>0,"Sending zero length transaction queue");var r=n.every((function(e){return 0===e.status}));r&&oS(e,PE(t),n)}else AE(t)&&OE(t,(function(t){aS(e,t)}))}function oS(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=iS(e,t,r),a=i,o=i.hash(),s=0;s<n.length;s++){var u=n[s];yn(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var c=ew(t,u.path);a=a.updateChild(c,u.currentOutputSnapshotRaw)}var l=a.val(!0),f=t;e.server_.put(f.toString(),l,(function(r){rS(e,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var a=[],o=function(t){n[t].status=2,i=i.concat(cE(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&a.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)o(s);fS(e,CE(e.transactionQueueTree_,t)),aS(e,e.transactionQueueTree_),WE(e.eventQueue_,t,i);for(var u=0;u<a.length;u++)m_(a[u])}else{if("datastale"===r)for(var c=0;c<n.length;c++)3===n[c].status?n[c].status=4:n[c].status=0;else{n_("transaction at "+f.toString()+" failed: "+r);for(var l=0;l<n.length;l++)n[l].status=4,n[l].abortReason=r}sS(e,t)}}),o)}function sS(e,t){var n=uS(e,t),r=PE(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})),o=a.map((function(e){return e.currentWriteId})),s=function(a){var s,u=t[a],c=ew(n,u.path),l=!1,f=void 0;if(yn(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)l=!0,f=u.abortReason,i=i.concat(cE(e.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=25)l=!0,f="maxretry",i=i.concat(cE(e.serverSyncTree_,u.currentWriteId,!0));else{var h=iS(e,u.path,o);u.currentInputSnapshot=h;var d=t[a].update(h.val());if(void 0!==d){VE("transaction failed: Data returned ",d,u.path);var p=Mw(d);"object"===typeof d&&null!=d&&Mn(d,".priority")||(p=p.updatePriority(h.getPriority()));var v=u.currentWriteId,y=XE(e),m=EE(p,h,y);u.currentOutputSnapshotRaw=p,u.currentOutputSnapshotResolved=m,u.currentWriteId=tS(e),o.splice(o.indexOf(v),1),i=(i=i.concat(uE(e.serverSyncTree_,u.path,m,u.currentWriteId,u.applyLocally))).concat(cE(e.serverSyncTree_,v,!0))}else l=!0,f="nodata",i=i.concat(cE(e.serverSyncTree_,u.currentWriteId,!0))}WE(e.eventQueue_,n,i),i=[],l&&(t[a].status=2,s=t[a].unwatcher,setTimeout(s,Math.floor(0)),t[a].onComplete&&("nodata"===f?r.push((function(){return t[a].onComplete(null,!1,t[a].currentInputSnapshot)})):r.push((function(){return t[a].onComplete(new Error(f),!1,null)}))))},u=0;u<t.length;u++)s(u);fS(e,e.transactionQueueTree_);for(var c=0;c<r.length;c++)m_(r[c]);aS(e,e.transactionQueueTree_)}(e,cS(e,n),r),r}function uS(e,t){var n,r=e.transactionQueueTree_;for(n=K_(t);null!==n&&void 0===IE(r);)r=CE(r,n),n=K_(t=$_(t));return r}function cS(e,t){var n=[];return lS(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function lS(e,t,n){var r=IE(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);OE(t,(function(t){lS(e,t,n)}))}function fS(e,t){var n=IE(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,NE(t,n.length>0?n:void 0)}OE(t,(function(t){fS(e,t)}))}function hS(e,t){var n=PE(uS(e,t)),r=CE(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){dS(e,t)})),dS(e,r),RE(r,(function(t){dS(e,t)})),n}function dS(e,t){var n=IE(t);if(n){for(var r=[],i=[],a=-1,o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(yn(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):(yn(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(cE(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===a?NE(t,void 0):n.length=a+1,WE(e.eventQueue_,PE(t),i);for(var s=0;s<r.length;s++)m_(r[s])}}var pS=function(e,t){var n=vS(e),r=n.namespace;"firebase.com"===n.domain&&t_(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||t_("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&n_("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new T_(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new W_(n.pathString)}},vS=function(e){var t="",n="",r="",i="",a="",o=!0,s="https",u=443;if("string"===typeof e){var c=e.indexOf("//");c>=0&&(s=e.substring(0,c-1),e=e.substring(c+2));var l=e.indexOf("/");-1===l&&(l=e.length);var f=e.indexOf("?");-1===f&&(f=e.length),t=e.substring(0,Math.min(l,f)),l<f&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(a){}t+="/"+i}return t}(e.substring(l,f)));var h=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));var n,r=ln(e.split("&"));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(0!==i.length){var a=i.split("=");2===a.length?t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):n_("Invalid query segment '".concat(i,"' in query '").concat(e,"'"))}}}catch(o){r.e(o)}finally{r.f()}return t}(e.substring(Math.min(e.length,f)));(c=t.indexOf(":"))>=0?(o="https"===s||"wss"===s,u=parseInt(t.substring(c+1),10)):c=t.length;var d=t.slice(0,c);if("localhost"===d.toLowerCase())n="localhost";else if(d.split(".").length<=2)n=d;else{var p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),a=r}"ns"in h&&(a=h.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:o,scheme:s,pathString:i,namespace:a}},yS=function(){function e(t,n,r,i){Qt(this,e),this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return Xt(e,[{key:"key",get:function(){return Z_(this._path)?null:Q_(this._path)}},{key:"ref",get:function(){return new mS(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e=Qw(this._queryParams),t=c_(e);return"{}"===t?"default":t}},{key:"_queryObject",get:function(){return Qw(this._queryParams)}},{key:"isEqual",value:function(t){if(!((t=Jn(t))instanceof e))return!1;var n=this._repo===t._repo,r=tw(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}]),e}();var mS=function(e){Zt(n,e);var t=on(n);function n(e,r){return Qt(this,n),t.call(this,e,r,new Gw,!1)}return Xt(n,[{key:"parent",get:function(){var e=X_(this._path);return null===e?null:new n(this._repo,e)}},{key:"root",get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}}]),n}(yS);!function(e){yn(!eE,"__referenceConstructor has already been defined"),eE=e}(mS),function(e){yn(!iE,"__referenceConstructor has already been defined"),iE=e}(mS);var gS={},kS=!1;function bS(e,t,n,r,i){var a=r||e.options.databaseURL;void 0===a&&(e.options.projectId||t_("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Jb("Using default host for project ",e.options.projectId),a="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));var o,s=pS(a,i),u=s.repoInfo,c=void 0;"undefined"!==typeof process&&(c={NODE_ENV:"production",PUBLIC_URL:"/shine",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_Firebase_ApiKey:"AIzaSyDmnW9W_gHuiEEsPw3XI",REACT_APP_Firebase_AppId:"1:379613040309:web:dc367838d998b79f70b8fc",REACT_APP_Firebase_AuthDomain:"shine-dc466.firebaseapp.com",REACT_APP_Firebase_MessagingSenderId:"379613040309",REACT_APP_Firebase_ProjectId:"shine-dc466",REACT_APP_Firebase_StorageBucket:"shine-dc466.appspot.com"}.FIREBASE_DATABASE_EMULATOR_HOST),c?(o=!0,a="http://".concat(c,"?ns=").concat(u.namespace),u=(s=pS(a,i)).repoInfo):o=!s.repoInfo.secure;var l=i&&o?new __(__.OWNER):new b_(e.name,e.options,t);zE("Invalid Firebase Database URL",s),Z_(s.path)||t_("Database URL must point to the root of a Firebase Database (not including a child path).");var f=function(e,t,n,r){var i=gS[t.name];i||(i={},gS[t.name]=i);var a=i[e.toURLString()];a&&t_("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return a=new $E(e,kS,n,r),i[e.toURLString()]=a,a}(u,e,l,new k_(e.name,n));return new _S(f,e)}var _S=function(){function e(t,n){Qt(this,e),this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return Xt(e,[{key:"_repo",get:function(){return this._instanceStarted||(QE(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new mS(this._repo,H_())),this._rootInternal}},{key:"_delete",value:function(){return null!==this._rootInternal&&(!function(e,t){var n=gS[t];n&&n[e.key]===e||t_("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),nS(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:"_checkNotDeleted",value:function(e){null===this._rootInternal&&t_("Cannot call "+e+" on a deleted database.")}}]),e}();uw.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},uw.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){!function(e){Ub=e}(Ir),wr(new Zn("database",(function(e,t){var n=t.instanceIdentifier;return bS(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),Ar(jb,Mb,e),Ar(jb,Mb,"esm2017")}();var wS=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:mr,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Tr.create("bad-app-name",{appName:String(i)});var a=kr.get(i);if(a){if(qn(e,a.options)&&qn(r,a.config))return a;throw Tr.create("duplicate-app",{appName:i})}var o,s=new ir(i),u=ln(br.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(f){u.e(f)}finally{u.f()}var l=new Cr(e,r,s);return kr.set(i,l),l}({apiKey:"AIzaSyDmnW9W_gHuiEEsPw3XI-9SHwrVx5nnh9Y",authDomain:"shine-dc466.firebaseapp.com",projectId:"shine-dc466",storageBucket:"shine-dc466.appspot.com",messagingSenderId:"379613040309",appId:"1:379613040309:web:dc367838d998b79f70b8fc"}),xS=(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nr(),t=arguments.length>1?arguments[1]:void 0;xr(e,"database").getImmediate({identifier:t})}(wS),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nr(),t=xr(e,"auth");return t.isInitialized()?t.getImmediate():Ny(e,{popupRedirectResolver:ub,persistence:[sk,Lg,Mg]})}()),ES=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nr();return xr(e,"firestore").getImmediate()}(),SS=(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nr(),t=arguments.length>1?arguments[1]:void 0,n=xr(e=Jn(e),Fb),r=n.getImmediate({identifier:t})}(),function(){function e(){Qt(this,e)}return Xt(e,[{key:"createDocument",value:function(e,t){return t?sy(sv(ES,this.collectionName,t),e):function(e,t){var n=ev(e.firestore,lv),r=sv(e),i=ry(e.converter,t);return ly(n,[Ev(xv(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,nl.exists(!1))]).then((function(){return r}))}(ov(ES,this.collectionName),e)}},{key:"readDocument",value:function(){var e=Kt($t().mark((function e(t){var n,r;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=sv(ES,this.collectionName,t),e.next=3,iy(n);case 3:if(!(r=e.sent).exists()){e.next=6;break}return e.abrupt("return",r.data());case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateDocument",value:function(){var e=Kt($t().mark((function e(t,n){return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uy(sv(ES,this.collectionName,t),n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"deleteDocument",value:function(){var e=Kt($t().mark((function e(t){return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cy(sv(ES,this.collectionName,t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getDocuments",value:function(){var e=Kt($t().mark((function e(t){var n,r,i;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Yv(ov(ES,this.collectionName),t),e.next=3,oy(n);case 3:return r=e.sent,i=[],r.forEach((function(e){return i.push(ot({id:e.id},e.data()))})),e.abrupt("return",i);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"subscribeToDocument",value:function(e){!function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Jn(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||cv(n[u])||(s=n[u],u++);var c,l,f,h={includeMetadataChanges:s.includeMetadataChanges};if(cv(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[u+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof rv)l=ev(e.firestore,lv),f=Ec(e._key.path),c={next:function(t){n[u]&&n[u](fy(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=ev(e,iv);l=ev(p.firestore,lv),f=p._query;var v=new ay(l);c={next:function(e){n[u]&&n[u](new Kv(l,v,p,e))},error:n[u+1],complete:n[u+2]},$v(e._query)}(function(e,t,n,r){var i=new Rp(r),a=new Kd(t,i,n);e.asyncQueue.enqueueAndForget(Kt($t().mark((function t(){return $t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Ud,t.next=3,Bp(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))})(fv(l),f,h,c)}(sv(ES,this.collectionName),(function(t){e(t.data())}))}}]),e}()),TS=function(e){Zt(n,e);var t=on(n);function n(){var e;return Qt(this,n),(e=t.call(this)).collectionName="users",e}return Xt(n,[{key:"getUser",value:function(e){return this.readDocument(e)}},{key:"setUser",value:function(e,t){var n={username:t};return this.createDocument(e,n)}}]),n}(SS),CS=new TS,IS=function(e,t,n){var r=Ft(e+"/fulfilled",(function(e,t,n,r){return{payload:e,meta:At(Nt({},r||{}),{arg:n,requestId:t,requestStatus:"fulfilled"})}})),i=Ft(e+"/pending",(function(e,t,n){return{payload:void 0,meta:At(Nt({},n||{}),{arg:t,requestId:e,requestStatus:"pending"})}})),a=Ft(e+"/rejected",(function(e,t,r,i,a){return{payload:i,error:(n&&n.serializeError||zt)(e||"Rejected"),meta:At(Nt({},a||{}),{arg:r,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}})),o="undefined"!==typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){}}}return e.prototype.abort=function(){0},e}();return Object.assign((function(e){return function(s,u,c){var l,f=(null==n?void 0:n.idGenerator)?n.idGenerator(e):function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t}(),h=new o,d=new Promise((function(e,t){return h.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:l||"Aborted"})}))})),p=!1;var v=function(){return o=this,l=null,v=function(){var o,l,v,y,m;return bt(this,(function(g){switch(g.label){case 0:return g.trys.push([0,4,,5]),y=null==(o=null==n?void 0:n.condition)?void 0:o.call(n,e,{getState:u,extra:c}),null===(k=y)||"object"!==typeof k||"function"!==typeof k.then?[3,2]:[4,y];case 1:y=g.sent(),g.label=2;case 2:if(!1===y)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return p=!0,s(i(f,e,null==(l=null==n?void 0:n.getPendingMeta)?void 0:l.call(n,{requestId:f,arg:e},{getState:u,extra:c}))),[4,Promise.race([d,Promise.resolve(t(e,{dispatch:s,getState:u,extra:c,requestId:f,signal:h.signal,rejectWithValue:function(e,t){return new Ut(e,t)},fulfillWithValue:function(e,t){return new Vt(e,t)}})).then((function(t){if(t instanceof Ut)throw t;return t instanceof Vt?r(t.payload,f,e,t.meta):r(t,f,e)}))])];case 3:return v=g.sent(),[3,5];case 4:return m=g.sent(),v=m instanceof Ut?a(null,f,e,m.payload,m.meta):a(m,f,e),[3,5];case 5:return n&&!n.dispatchConditionRejection&&a.match(v)&&v.meta.condition||s(v),[2,v]}var k}))},new Promise((function(e,t){var n=function(e){try{i(v.next(e))}catch(n){t(n)}},r=function(e){try{i(v.throw(e))}catch(n){t(n)}},i=function(t){return t.done?e(t.value):Promise.resolve(t.value).then(n,r)};i((v=v.apply(o,l)).next())}));var o,l,v}();return Object.assign(v,{abort:function(e){p&&(l=e,h.abort())},requestId:f,arg:e,unwrap:function(){return v.then(qt)}})}}),{pending:i,rejected:a,fulfilled:r,typePrefix:e})}("/user/getUserStatus",function(){var e=Kt($t().mark((function e(t){var n;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=CS.getUser(t),e.abrupt("return",n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),NS=function(e){var t,n=Dt(),r=e||{},i=r.reducer,a=void 0===i?void 0:i,o=r.middleware,s=void 0===o?n():o,u=r.devTools,c=void 0===u||u,l=r.preloadedState,f=void 0===l?void 0:l,h=r.enhancers,d=void 0===h?void 0:h;if("function"===typeof a)t=a;else{if(!Rt(a))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=dt(a)}var p=s;"function"===typeof p&&(p=p(n));var v=vt.apply(void 0,p),y=pt;c&&(y=Ot(Nt({trace:!1},"object"===typeof c&&c)));var m=[v];return Array.isArray(d)?m=_t([v],d):"function"===typeof d&&(m=d(m)),ht(t,f,y.apply(void 0,m))}({reducer:{user:jt({name:"user",initialState:{data:null},extraReducers:function(e){e.addCase(IS.fulfilled,(function(e,t){e.data=t.payload}))}}).reducer,auth:Wt},middleware:function(e){return e({serializableCheck:!1})}}),AS=n(184),OS=function(e){Zt(n,e);var t=on(n);function n(){return Qt(this,n),t.apply(this,arguments)}return Xt(n,[{key:"render",value:function(){return(0,AS.jsxs)(AS.Fragment,{children:[(0,AS.jsx)("div",{className:"bg-amber-100 h-16 text-center",children:(0,AS.jsx)("p",{className:"text-2xl sm:text-3xl pt-3",children:"- SHINE -"})}),(0,AS.jsx)("div",{className:"bg-amber-50 opacity-80 max-w-screen-lg grid mx-auto border border-white-300",children:(0,AS.jsxs)("ul",{className:"list-none text-center text-lg sm:text-[22px] m-2",children:[(0,AS.jsx)("li",{className:"cursor-pointer hover:bg-amber-100 inline-block sm:mr-10 mr-2 px-2",children:(0,AS.jsx)($,{to:"/",children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"})}),(0,AS.jsx)("li",{className:"cursor-pointer hover:bg-amber-100 inline-block sm:mr-8 mr-2 px-2'",children:(0,AS.jsx)($,{to:"/collections",children:"\u041a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438"})}),(0,AS.jsx)("li",{className:"cursor-pointer hover:bg-amber-100 inline-block  px-2",children:(0,AS.jsx)($,{to:"/account",children:"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442"})})]})})]})}}]),n}(e.Component);function RS(){return(0,AS.jsxs)("div",{className:"text-center sm:text-sm text-xs bottom-0",children:[(0,AS.jsx)("div",{className:"border-amber-100 bg-amber-100 border-2"}),(0,AS.jsx)("p",{className:"mt-2",children:"\u0418\u041f \u041e\u0440\u043b\u043e\u0432\u0441\u043a\u0430\u044f"}),(0,AS.jsx)("address",{className:"p-2",children:"\u0433.\u0413\u0440\u043e\u0434\u043d\u043e, \u0443\u043b.\u041f\u043e\u043f\u043e\u0432\u0438\u0447\u0430 1"})]})}function PS(e){var t=e.src,n=e.caption;return(0,AS.jsx)("img",{src:t,alt:n,className:"w-1/4 object-cover mt-4 sm:mr-8 mx-4"})}PS.defaultProps={caption:"No caption"};var DS,FS=n(5293),LS=n(8074),jS=n(9279),MS=n(5223),US=n(111),VS=n(9502),zS=n(7417),qS=n(4196),BS=n(831),WS=function(e){Zt(n,e);var t=on(n);function n(){return Qt(this,n),t.apply(this,arguments)}return Xt(n,[{key:"render",value:function(){return(0,AS.jsxs)("div",{className:"bg-white max-w-screen-lg mx-auto",children:[(0,AS.jsx)("h1",{className:"sm:text-2xl text-xl text-center place-content-center flex sm:p-8 p-4",children:"\u0423\u0437\u043d\u0430\u0432\u0430\u0435\u043c\u044b\u0439 \u0441\u0442\u0438\u043b\u044c | \u0416\u0435\u043d\u0441\u043a\u0430\u044f \u043e\u0434\u0435\u0436\u0434\u0430 | \u0423\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u0439 \u0441\u0442\u0438\u043b\u044c"}),(0,AS.jsxs)("div",{className:"flex place-content-center",children:[(0,AS.jsx)(PS,{src:FS}),(0,AS.jsx)(PS,{src:LS}),(0,AS.jsx)(PS,{src:jS})]}),(0,AS.jsx)("p",{className:"mt-8 p-4 sm:text-lg text-base",children:"\u0423\u0437\u043d\u0430\u0432\u0430\u0435\u043c\u044b\u0439 \u0441\u0442\u0438\u043b\u044c - \u044d\u0442\u043e \u0442\u043e, \u0447\u0442\u043e \u043e\u0442\u043b\u0438\u0447\u0430\u0435\u0442 \u0432\u0430\u0441 \u043e\u0442 \u0434\u0440\u0443\u0433\u0438\u0445 \u0431\u0440\u0435\u043d\u0434\u043e\u0432, \u044d\u0442\u043e \u0442\u0435 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u044b, \u043f\u043e \u043a\u043e\u0442\u043e\u0440\u044b\u043c \u0432\u0430\u0441 \u0431\u0443\u0434\u0443\u0442 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u0446\u0438\u0440\u043e\u0432\u0430\u0442\u044c. \u0423\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0432 \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044f\u0445, \u0432 \u0444\u043e\u0440\u043c\u0430\u0445 \u0438 \u043a\u043e\u043c\u0431\u0438\u043d\u0430\u0446\u0438\u044f\u0445, \u0432 \u0441\u043e\u0447\u0435\u0442\u0430\u043d\u0438\u0438 \u0446\u0432\u0435\u0442\u043e\u0432, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u044b\u0445 \u043f\u0440\u0438\u043d\u0442\u043e\u0432, \u0441\u0442\u0430\u043b\u0438\u043d\u0433\u0435, \u0443\u0437\u043d\u0430\u0432\u0430\u0435\u043c\u044b\u0445 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u044b, \u0432 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u044b\u0445 \u0442\u043a\u0430\u043d\u044f\u0445 \u0438\u043b\u0438 \u0442\u0435\u043a\u0441\u0442\u0443\u0440\u0435, \u0432 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u043c \u043b\u043e\u0433\u043e\u0442\u0438\u043f\u0435. \u041f\u0440\u0438\u0433\u043b\u0430\u0448\u0430\u044e \u0432\u0441\u0435\u0445 \u043a\u043e \u043c\u043d\u0435 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0447\u043a\u0443, \u044f \u0443\u0432\u0435\u0440\u0435\u043d\u0430, \u043a\u0430\u0436\u0434\u0430\u044f \u043d\u0430\u0439\u0434\u0451\u0442 \u0447\u0442\u043e-\u0442\u043e \u0434\u043b\u044f \u0441\u0435\u0431\u044f \u043d\u0435\u043f\u0440\u0435\u043c\u0435\u043d\u043d\u043e."}),(0,AS.jsxs)("div",{className:"flex place-content-center",children:[(0,AS.jsx)(PS,{src:MS}),(0,AS.jsx)(PS,{src:US}),(0,AS.jsx)(PS,{src:VS})]}),(0,AS.jsx)("p",{className:"mt-8 p-4 sm:text-lg text-base",children:"\u0411\u0443\u0434\u0443\u0447\u0438 \u044f\u0440\u043e\u0439 \u0448\u043c\u043e\u0442\u043e\u0447\u043d\u0438\u0446\u0435\u0439, \u044f \u0432\u0441\u0435\u0433\u0434\u0430 \u0437\u0430\u043f\u043e\u043b\u043d\u044f\u043b\u0430 \u0448\u043a\u0430\u0444\u044b \u0432\u0441\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0439 \u043e\u0434\u0435\u0436\u0434\u043e\u0439 : \u043d\u0430\u0447\u0438\u043d\u0430\u044f \u043e\u0442 \u043a\u043b\u0430\u0441\u0441\u0438\u043a\u0438 \u0434\u043e \u0442\u043e\u0442\u0430\u043b-\u0441\u043f\u043e\u0440\u0442. \u041e\u0434\u0438\u043d \u0434\u0435\u043d\u044c \u043d\u0430 \u043a\u0430\u0431\u043b\u0443\u043a\u0430\u0445, \u0432\u0442\u043e\u0440\u043e\u0439 \u0432 \u043a\u0440\u043e\u0441\u0441\u043e\u0432\u043a\u0430\u0445, \u0430 \u0435\u0449\u0451 \u043b\u0443\u0447\u0448\u0435 \u0441\u043c\u0435\u043d\u0438\u0442\u044c \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043e\u0431\u0440\u0430\u0437\u043e\u0432 \u0437\u0430 \u0434\u0435\u043d\u044c - \u044d\u0442\u043e \u0432\u0441\u0435 \u043f\u0440\u043e \u043c\u0435\u043d\u044f. \u041d\u043e \u044f \u043d\u0438\u043a\u043e\u0433\u0434\u0430 \u043d\u0435 \u0434\u0435\u043b\u0430\u043b\u0430 \u043d\u0435\u043e\u0431\u0434\u0443\u043c\u0430\u043d\u043d\u044b\u0435 \u043f\u043e\u043a\u0443\u043f\u043a\u0438, \u0432\u0441\u0435 \u0432\u0435\u0449\u0438 \u044f \u043d\u043e\u0441\u0438\u043b\u0430 \u0438 \u043d\u043e\u0448\u0443 \u0434\u043e \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0433\u043e. \u042f \u043d\u0435\u0437\u0430\u043c\u0435\u0442\u043d\u043e \u0441\u0442\u0430\u043b\u0430 \u0444\u0430\u043d\u0430\u0442\u043e\u043c \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u043d\u044b\u0445 \u043f\u043e\u043a\u0440\u043e\u0435\u0432, \u0432\u0441\u0435\u0433\u0434\u0430 \u0432 \u043f\u043e\u0438\u0441\u043a\u0435 \u043c\u043e\u0434\u0435\u043b\u0435\u0439 \u0441 \u0444\u0438\u0448\u043a\u043e\u0439 (\u0434\u0430\u0439\u0442\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 \xab\u0438\u0437\u044e\u043c\u0430\xbb), \u043d\u0435 \u043b\u044e\u0431\u043b\u044e \u043f\u043e\u043a\u0443\u043f\u0430\u0442\u044c \u043e\u0434\u043d\u043e\u0442\u0438\u043f\u043d\u043e\u0435, \u0447\u0442\u043e \u0443 \u043c\u0435\u043d\u044f \u0435\u0441\u0442\u044c \u0438\u043b\u0438 \u0431\u044b\u043b\u043e. \u0411\u043b\u0430\u0433\u043e\u0434\u0430\u0440\u044f \u044d\u0442\u043e\u043c\u0443 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0443 \u0443 \u043c\u0435\u043d\u044f \u0432\u044b\u0440\u0430\u0431\u043e\u0442\u0430\u043b\u0441\u044f \u0441\u0432\u043e\u0439 \u0441\u0442\u0438\u043b\u044c. \u0418 \u0443 \u043c\u043e\u0438\u0445 \u0437\u043d\u0430\u043a\u043e\u043c\u044b\u0445 \u043f\u0440\u0438 \u0432\u0438\u0434\u0435 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u0445 \u043c\u043e\u0434\u0435\u043b\u0435\u0439 \u0441\u0440\u0430\u0437\u0443 \u043f\u043e\u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0430\u0441\u0441\u043e\u0446\u0438\u0430\u0446\u0438\u044f \u0441\u043e \u043c\u043d\u043e\u0439. - \xab \u041e \u0434\u0430, \u0412\u0438\u043a\u0430 \u0431\u044b \u043d\u0430\u0434\u0435\u043b\u0430.\xbb"}),(0,AS.jsxs)("div",{className:"flex place-content-center",children:[(0,AS.jsx)(PS,{src:zS}),(0,AS.jsx)(PS,{src:qS}),(0,AS.jsx)(PS,{src:BS})]}),(0,AS.jsx)("p",{className:"mt-8 p-4 sm:text-lg text-base",children:"\u0410 \u0441 \u043a\u0430\u0436\u0434\u044b\u043c \u0433\u043e\u0434\u043e\u043c \u043c\u043d\u0435 \u0432\u0441\u0435 \u0441\u043b\u043e\u0436\u043d\u0435\u0435 \u043d\u0430\u0439\u0442\u0438 \u0432\u0435\u0449\u0438 \u0441\u0435\u0431\u0435 \u043f\u043e \u0432\u043a\u0443\u0441\u0443 - \u0432\u0441\u0435 \u0431\u044b\u043b\u043e, \u0432\u0441\u0435 \u043d\u0435 \u0442\u043e. \u041c\u043d\u043e\u0433\u0438\u0435 \u0434\u0435\u0432\u043e\u0447\u043a\u0438 \u043a\u043e\u043d\u0435\u0447\u043d\u043e \u043c\u0435\u043d\u044f \u043f\u043e\u0439\u043c\u0443\u0442. \u041f\u043e\u044d\u0442\u043e\u043c\u0443 \u044f \u0440\u0435\u0448\u0438\u043b\u0430 \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0441\u0432\u043e\u044e \u043b\u0438\u043d\u0435\u0439\u043a\u0443 \u043e\u0434\u0435\u0436\u0434\u044b @shine_belarus , \u0433\u0434\u0435 \u0432\u044b \u043d\u0435 \u043d\u0430\u0439\u0434\u0451\u0442\u0435 \u043f\u0440\u043e\u0441\u0442\u043e\u0442\u044b, \u0430 \u0442\u043e\u043b\u044c\u043a\u043e \u0441\u0430\u043c\u043e\u0435 \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u043d\u043e\u0435 \u043d\u0430 \u043a\u0430\u0436\u0434\u044b\u0439 \u0434\u0435\u043d\u044c \u0438 \u043d\u0435 \u0442\u043e\u043b\u044c\u043a\u043e. \u0414\u0438\u0437\u0430\u0439\u043d\u0435\u0440 \u0440\u0430\u0441\u0441\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442 \u0441\u0432\u043e\u0435 \u0432\u0438\u0434\u0435\u043d\u0438\u0435 \u043c\u043e\u0434\u044b \u0438 \u0441\u0442\u0438\u043b\u044f \u0447\u0435\u0440\u0435\u0437 \u043f\u0440\u043e\u0434\u0443\u043a\u0442. \u041a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u044f - \u044d\u0442\u043e \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0435\u043d\u0438\u0435 \u0434\u0438\u0437\u0430\u0439\u043d\u0435\u0440\u0430, \u0430 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u044b \u0434\u0438\u0437\u0430\u0439\u043d\u0430, \u0441\u0442\u0438\u043b\u044f, \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b \u0438 \u043f\u043e\u0434\u0430\u0447\u0430 - \u044d\u0442\u043e \u0441\u043f\u043e\u0441\u043e\u0431\u044b \u043a\u043e\u043c\u043c\u0443\u043d\u0438\u043a\u0430\u0446\u0438\u0438 \u0434\u0438\u0437\u0430\u0439\u043d\u0435\u0440\u0430 \u0441 \u0435\u0433\u043e \u0430\u0443\u0434\u0438\u0442\u043e\u0440\u0438\u0435\u0439. \u0421\u0438\u044f\u0439-\u0441\u0438\u044f\u0439-\u0441\u0438\u044f\u0439!"})]})}}]),n}(e.Component),HS=["title","titleId"];function KS(){return KS=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},KS.apply(this,arguments)}function GS(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function $S(t,n){var r=t.title,i=t.titleId,a=GS(t,HS);return e.createElement("svg",KS({id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 122.97 122.88",ref:n,"aria-labelledby":i},a),void 0===r?e.createElement("title",{id:i},"instagram-comment"):r?e.createElement("title",{id:i},r):null,DS||(DS=e.createElement("path",{d:"M61.44,0a61.46,61.46,0,0,1,54.91,89l6.44,25.74a5.83,5.83,0,0,1-7.25,7L91.62,115A61.43,61.43,0,1,1,61.44,0ZM96.63,26.25a49.78,49.78,0,1,0-9,77.52A5.83,5.83,0,0,1,92.4,103L109,107.77l-4.5-18a5.86,5.86,0,0,1,.51-4.34,49.06,49.06,0,0,0,4.62-11.58,50,50,0,0,0-13-47.62Z"})))}var QS=e.forwardRef($S),YS=(n.p,function(e){Zt(n,e);var t=on(n);function n(){return Qt(this,n),t.apply(this,arguments)}return Xt(n,[{key:"render",value:function(){var e=this.props,t=e.likes,n=e.onCommentClick,r=e.onLikeClick,i=e.srcIconLike;return(0,AS.jsxs)("div",{className:"p-4",children:[(0,AS.jsxs)("div",{className:"flex",children:[(0,AS.jsx)("img",{src:"".concat("/shine","/").concat(i),onClick:r,alt:"img",className:"w-6 cursor-pointer mr-4 hover:bg-amber-50"}),(0,AS.jsx)(QS,{onClick:n,className:"w-6 cursor-pointer mr-4 hover:bg-amber-50"})]}),(0,AS.jsx)("p",{className:"mt-2 font-bold sm:text-base text-sm",children:(t.length,"".concat(t.length," likes"))})]})}}]),n}(e.Component)),XS=function(e){Zt(n,e);var t=on(n);function n(e){var r;return Qt(this,n),(r=t.call(this,e)).clearForm=function(){r.setState({comment:""})},r.handleSubmit=function(e){e.preventDefault();var t=r.state.comment;(0,r.props.onSubmit)(t),r.clearForm()},r.handleCommentChange=function(e){r.setState({comment:e.target.value})},r.state={comment:""},r}return Xt(n,[{key:"render",value:function(){var e=this.props.commentInput,t=this.state.comment;return(0,AS.jsxs)("form",{className:"flex",onSubmit:this.handleSubmit,children:[(0,AS.jsx)("input",{type:"text",name:"comment",placeholder:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439...",className:"hover:bg-amber-50 mr-4 p-2 text-gray-400 sm:text-sm text-xs",ref:e,onChange:this.handleCommentChange,value:t}),(0,AS.jsx)("button",{type:"submit",className:"sm:text-sm text-xsm-2 w-min p-2 hover:bg-amber-50",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})}}]),n}(e.Component),JS=function(e){Zt(n,e);var t=on(n);function n(){return Qt(this,n),t.apply(this,arguments)}return Xt(n,[{key:"render",value:function(){var e=this.props,t=e.comments,n=e.commentInput,r=e.onAddComment;return(0,AS.jsxs)("div",{className:"p-4 pt-0 sm:text-base text-sm",children:[t.map((function(e){return(0,AS.jsxs)("p",{className:"mb-1",children:[(0,AS.jsx)("span",{className:"font-bold mr-1",children:e.username}),(0,AS.jsx)("span",{children:e.text})]},e.text)})),(0,AS.jsx)(XS,{commentInput:n,onSubmit:r})]})}}]),n}(e.Component),ZS=function(e){Zt(n,e);var t=on(n);function n(){var e;return Qt(this,n),(e=t.call(this)).collectionName="collection",e}return Xt(n,[{key:"getCollection",value:function(e){return this.readDocument(e)}},{key:"likePost",value:function(e,t){return this.updateDocument(e,{likes:hy(t)})}},{key:"addComment",value:function(e,t){return this.updateDocument(e,{comments:hy(t)})}}]),n}(SS),eT=new ZS,tT=function(t){Zt(r,t);var n=on(r);function r(t){var i;return Qt(this,r),(i=n.call(this,t)).handleCommentClickFocus=function(){i.commentInputRef.current.focus()},i.handleLikeClick=function(){var e=i.props,t=e.id,n=e.currentUser,r=e.handleChangeState;eT.likePost(t,n.displayName),r()},i.handleSubmitComment=function(e){var t=i.props,n=t.currentUser,r=t.id,a=t.handleChangeState;eT.addComment(r,{username:n.displayName,text:e}),a()},i.state={LikeIcon:"icons/heart-thin.svg",RedLikeIcon:"icons/red-heart.svg"},i.commentInputRef=e.createRef(),i}return Xt(r,[{key:"render",value:function(){var e=this.props,t=e.item,n=e.onClick,r=e.currentUser,i=this.state,a=i.LikeIcon,o=i.RedLikeIcon;return t?(0,AS.jsx)("div",{className:"bg-white max-w-screen-lg grid mx-auto",children:(0,AS.jsxs)("div",{className:"m-4",children:[(0,AS.jsx)("p",{className:"sm:text-xl text-lg font-bold",children:t.title}),(0,AS.jsx)("p",{className:"sm:text-base text-sm",children:t.caption}),(0,AS.jsx)("div",{className:"m-2 flex overflow-x-scroll",children:t.img.map((function(e){return(0,AS.jsx)("img",{src:"".concat("/shine","/").concat(e.src),id:e.id,alt:"img",onClick:function(){return n(e.src,e.id)},className:"sm:w-1/4 w-1/3 p-1"},e.id)}))}),(0,AS.jsx)(YS,{likes:t.likes,onLikeClick:this.handleLikeClick,srcIconLike:t.likes.includes(r.displayName)?o:a,onCommentClick:this.handleCommentClickFocus}),(0,AS.jsx)(JS,{comments:t.comments,commentInput:this.commentInputRef,onAddComment:this.handleSubmitComment})]})}):(0,AS.jsx)("div",{className:"loader"})}}]),r}(e.Component);tT.defaultProps={item:null,currentUser:null};var nT=function(e){Zt(n,e);var t=on(n);function n(){var e;return Qt(this,n),(e=t.call(this)).collectionName="favorites",e}return Xt(n,[{key:"getCollection",value:function(e){return this.readDocument(e)}},{key:"getCollectionByUsername",value:function(e){return this.getDocuments(Jv("username","==",e))}},{key:"deletetCollection",value:function(e){return this.deleteDocument(e)}}]),n}(SS),rT=new nT,iT=function(e){Zt(n,e);var t=on(n);function n(){var e;return Qt(this,n),(e=t.call(this)).collectionName="cart",e}return Xt(n,[{key:"getCollection",value:function(e){return this.readDocument(e)}},{key:"getCollectionByUsername",value:function(e){return this.getDocuments(Jv("username","==",e))}},{key:"deletetCollection",value:function(e){return this.deleteDocument(e)}}]),n}(SS),aT=new iT,oT=n(8081),sT=function(e){Zt(n,e);var t=on(n);function n(e){var r;return Qt(this,n),(r=t.call(this,e)).handleShowTable=function(){r.setState({showTable:!r.state.showTable,addModalPage:!r.state.addModalPage})},r.handleSizeClick=function(e){r.setState({sizeId:e})},r.handleCloseTable=function(){r.setState({showTable:!r.state.showTable})},r.handleMooveToFavorites=function(){var e=r.props,t=e.item,n=e.imgRefSrc,i=e.productId,a=e.currentUser;rT.createDocument({itemId:"".concat(i).concat(r.state.sizeId),username:a.displayName,src:n,titleToOne:t.titleToOne,price:t.price,size:r.state.sizeId},"".concat(i).concat(r.state.sizeId)),r.setState({showAnswerToFavorites:!r.state.showAnswerToFavorites})},r.handleMoveToCart=function(){var e=r.props,t=e.item,n=e.imgRefSrc,i=e.productId,a=e.currentUser;aT.createDocument({itemId:"".concat(i).concat(r.state.sizeId),username:a.displayName,src:n,titleToOne:t.titleToOne,price:t.price,size:r.state.sizeId},"".concat(i).concat(r.state.sizeId)),r.setState({showAnswerToCart:!r.state.showAnswerToCart})},r.state={showTable:!1,showAnswerToFavorites:!1,showAnswerToCart:!1,size:[{id:40},{id:42},{id:44},{id:46},{id:48}],sizeId:null},r}return Xt(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.item,r=t.imgRefSrc,i=t.onClose,a=this.state,o=a.size,s=a.showTable,u=a.showAnswerToFavorites,c=a.showAnswerToCart;return(0,AS.jsx)("div",{className:"bg-gray-400/50 w-full h-full fixed top-0 left-0 flex items-center justify-center",children:(0,AS.jsxs)("div",{className:"bg-white sm:flex w-3/4 ",children:[(0,AS.jsx)("img",{src:r,alt:"img",className:"sm:w-1/3 mr-4"}),(0,AS.jsxs)("div",{className:"w-fit",children:[(0,AS.jsx)("p",{className:"m-2 sm:text-lg",children:"".concat(n.titleToOne,", ").concat(n.price)}),(0,AS.jsx)("p",{className:"m-2 sm:text-base text-sm",children:n.caption}),(0,AS.jsxs)("div",{className:"m-2 sm:text-base text-sm",children:[(0,AS.jsx)("p",{className:"mb-2",children:"\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0440\u0430\u0437\u043c\u0435\u0440:"}),(0,AS.jsxs)("div",{children:[(0,AS.jsx)("button",{onClick:this.handleShowTable,className:"sm:mr-2 border px-2 hover:bg-amber-50 mr-20",children:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0442\u0430\u0431\u043b\u0438\u0446\u0443"}),o.map((function(t){return(0,AS.jsx)("button",{onClick:function(){return e.handleSizeClick(t.id)},className:"border px-2 hover:bg-amber-50 sm:text-base text-sm",children:t.id},t.id)}))]})]}),(0,AS.jsxs)("div",{className:"sm:text-base text-sm",children:[(0,AS.jsx)("button",{onClick:this.handleMoveToCart,className:"m-2 border rounded px-2 hover:bg-amber-50 w-auto",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"}),(0,AS.jsx)("button",{onClick:this.handleMooveToFavorites,className:"m-2 border rounded px-2 hover:bg-amber-50",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0435 \u0442\u043e\u0432\u0430\u0440\u044b"}),(0,AS.jsx)("button",{onClick:i,className:"m-2 border rounded px-2 hover:bg-gray-300",children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"})]}),s&&(0,AS.jsx)("img",{src:oT,alt:"img",onClick:this.handleCloseTable,className:"sm:w-1/2 w-2/3 my-2 "}),u&&(0,AS.jsx)("p",{className:"m-2",children:"\u0422\u043e\u0432\u0430\u0440 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0432 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0435"}),c&&(0,AS.jsx)("p",{className:"m-2",children:"\u0422\u043e\u0432\u0430\u0440 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"})]})]})})}}]),n}(e.Component);sT.defaultProps={item:null};var uT=function(t){Zt(r,t);var n=on(r);function r(t){var i;return Qt(this,r),(i=n.call(this,t)).handleModalPage=function(e,t,n){i.setState({addModalPage:!i.state.addModalPage,productData:e,productImage:t,productId:n})},i.onClose=function(){i.setState({addModalPage:!i.state.addModalPage})},i.state={addModalPage:!1,productData:null,productImage:null,productId:null},i.imgRef=e.createRef(),i}return Xt(r,[{key:"render",value:function(){var e=this,t=this.state,n=t.productData,r=t.productImage,i=t.productId,a=t.addModalPage,o=this.props,s=o.currentUser,u=o.dress,c=o.suit,l=o.sport,f=o.shirts,h=o.handleChangeState;return(0,AS.jsxs)(AS.Fragment,{children:[(0,AS.jsx)(tT,{item:u,id:"dress",onClick:function(t,n){return e.handleModalPage(u,t,n)},currentUser:s,handleChangeState:h}),(0,AS.jsx)(tT,{item:c,id:"suit",onClick:function(t,n){return e.handleModalPage(c,t,n)},currentUser:s,handleChangeState:h}),(0,AS.jsx)(tT,{item:l,id:"sport",onClick:function(t,n){return e.handleModalPage(l,t,n)},currentUser:s,handleChangeState:h}),(0,AS.jsx)(tT,{item:f,id:"shirts",onClick:function(t,n){return e.handleModalPage(f,t,n)},currentUser:s,handleChangeState:h}),s?a&&(0,AS.jsx)(sT,{currentUser:s,onClose:this.onClose,item:n,imgRefSrc:r,productId:i}):null]})}}]),r}(e.Component);uT.defaultProps={currentUser:null,dress:null,suit:null,sport:null};var cT=function(e){Zt(n,e);var t=on(n);function n(){return Qt(this,n),t.apply(this,arguments)}return Xt(n,[{key:"render",value:function(){var e=this.props,t=e.onClickProducts,n=e.onClickCart,r=e.onClickOrder;return(0,AS.jsxs)("div",{className:"border p-4 w-min text-base sm:text-xl",children:[(0,AS.jsx)("button",{onClick:t,className:"text-left w-fit cursor-pointer hover:bg-amber-50 p-2",children:"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0435"}),(0,AS.jsx)("button",{onClick:n,className:"text-left w-fit cursor-pointer hover:bg-amber-50 p-2",children:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430"}),(0,AS.jsx)("button",{onClick:r,className:"text-left w-fit cursor-pointer hover:bg-amber-50 p-2",children:"\u0417\u0430\u043a\u0430\u0437\u044b"}),(0,AS.jsx)("button",{onClick:function(){return function(e){return Jn(e).signOut()}(xS)},className:"text-left w-fit cursor-pointer hover:bg-amber-50 p-2",children:"\u0412\u044b\u0439\u0442\u0438"})]})}}]),n}(e.Component),lT=function(e){Zt(n,e);var t=on(n);function n(){return Qt(this,n),t.apply(this,arguments)}return Xt(n,[{key:"render",value:function(){var e=this.props.onClose;return(0,AS.jsx)("div",{className:"bg-gray-400/50 w-full h-full fixed top-0 left-0 flex items-center justify-center",children:(0,AS.jsxs)("div",{className:"bg-white p-8 justify-center text-center",children:[(0,AS.jsx)("p",{className:"text-lg m-2",children:"\u0422\u043e\u0432\u0430\u0440 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"}),(0,AS.jsx)("button",{onClick:e,className:"m-2 border rounded px-2 hover:bg-gray-300",children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f"})]})})}}]),n}(e.Component),fT=function(e){Zt(n,e);var t=on(n);function n(e){var r;return Qt(this,n),(r=t.call(this,e)).handleChange=function(e){var t=r.props.currentUser;r.setState({toCart:[].concat(fn(r.state.toCart),[{itemId:e.itemId,src:e.src,titleToOne:e.titleToOne,size:e.size,price:e.price,username:t.displayName}])})},r.handleMoveToCart=function(){var e=r.state.toCart,t=r.props.handleChangeState;e.map((function(e){aT.createDocument(e,e.itemId),rT.deletetCollection(e.itemId)})),t(),r.setState({addModalPage:!r.state.addModalPage,showfavoritesClothes:!r.state.showfavoritesClothes})},r.onClose=function(){r.setState({addModalPage:!r.state.addModalPage,showcartClothes:r.state.showcartClothes})},r.onDelete=function(e){var t=r.props.handleChangeState;rT.deletetCollection(e.itemId),t()},r.state={addModalPage:!1,showfavoritesClothes:!0,toCart:[]},r}return Xt(n,[{key:"render",value:function(){var e=this,t=this.props.favoritesClothes,n=this.state,r=n.showfavoritesClothes,i=n.addModalPage;return(0,AS.jsxs)("div",{className:"grid border p-4 w-full",children:[(0,AS.jsx)("p",{className:"text-center text-sm sm:text-lg",children:"\u041c\u043e\u0438 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0435 \u0442\u043e\u0432\u0430\u0440\u044b"}),r&&(0,AS.jsx)("div",{className:"w-full",children:t.map((function(t){return(0,AS.jsxs)("div",{className:"w-min flex sm:m-2 my-2",children:[(0,AS.jsx)("input",{type:"checkbox",onChange:function(){return e.handleChange(t)},className:"text-center sm:m-2 my-2"}),(0,AS.jsx)("img",{src:"".concat("/shine","/").concat(t.src),alt:"img",className:"sm:mr-4 mr-2 sm:w-full w-2/3"}),(0,AS.jsxs)("div",{className:"p-2 text-sm sm:text-lg ",children:[(0,AS.jsx)("p",{className:"w-full ",children:"".concat(t.titleToOne,", ").concat(t.price)}),(0,AS.jsx)("p",{className:"w-full",children:"".concat(t.size," \u0440\u0430\u0437\u043c\u0435\u0440")}),(0,AS.jsx)("button",{onClick:function(){return e.onDelete(t)},className:"w-min h-min border my-2 text-sm rounded hover:bg-amber-50 px-1",children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})]},t.itemId)}))}),t?(0,AS.jsx)("div",{className:"grid place-items-center",children:(0,AS.jsx)("button",{onClick:this.handleMoveToCart,className:"w-fit hover:bg-amber-50 p-2",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"})}):null,i&&(0,AS.jsx)(lT,{onClose:this.onClose})]})}}]),n}(e.Component);fT.defaultProps={favoritesClothes:null};var hT=function(e){Zt(n,e);var t=on(n);function n(){return Qt(this,n),t.apply(this,arguments)}return Xt(n,[{key:"render",value:function(){var e=this.props.onClose;return(0,AS.jsx)("div",{className:"bg-gray-400/50 w-full h-full fixed top-0 left-0 flex items-center justify-center",children:(0,AS.jsxs)("div",{className:"bg-white p-8 justify-center text-center",children:[(0,AS.jsx)("p",{className:"text-lg m-2",children:"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d."}),(0,AS.jsx)("p",{className:"text-lg m-2",children:"\u0421\u043f\u0430\u0441\u0438\u0431\u043e \u0447\u0442\u043e \u0432\u044b\u0431\u0440\u0430\u043b\u0438 SHINE!"}),(0,AS.jsx)("button",{onClick:e,className:"m-2 border rounded px-2 hover:bg-gray-300",children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f"})]})})}}]),n}(e.Component),dT=function(e){Zt(n,e);var t=on(n);function n(){var e;return Qt(this,n),(e=t.call(this)).collectionName="order",e}return Xt(n,[{key:"getCollection",value:function(e){return this.readDocument(e)}},{key:"getCollectionByUsername",value:function(e){return this.getDocuments(Jv("username","==",e))}},{key:"deletetCollection",value:function(e){return this.deleteDocument(e)}}]),n}(SS),pT=new dT,vT=function(e){Zt(n,e);var t=on(n);function n(e){var r;return Qt(this,n),(r=t.call(this,e)).handleChange=function(e){var t=r.props.currentUser;r.setState({toOrder:[].concat(fn(r.state.toOrder),[{itemId:e.itemId,src:e.src,titleToOne:e.titleToOne,size:e.size,price:e.price,username:t.displayName}])})},r.handleMoveToOrder=function(){var e=r.state.toOrder,t=r.props.handleChangeState;e.map((function(e){pT.createDocument(e,e.itemId),aT.deletetCollection(e.itemId)})),t(),r.setState({addModalPage:!r.state.addModalPage,showcartClothes:!r.state.showcartClothes})},r.onClose=function(){r.setState({addModalPage:!r.state.addModalPage,showcartClothes:r.state.showcartClothes})},r.onDelete=function(e){var t=r.props.handleChangeState;aT.deletetCollection(e.itemId),t()},r.state={addModalPage:!1,showcartClothes:!0,toOrder:[]},r}return Xt(n,[{key:"render",value:function(){var e=this,t=this.props.cartClothes,n=this.state,r=n.showcartClothes,i=n.addModalPage;return(0,AS.jsxs)("div",{className:"grid w-full border p-4",children:[(0,AS.jsx)("p",{className:"text-center text-sm sm:text-lg",children:"\u041c\u043e\u044f \u043a\u043e\u0440\u0437\u0438\u043d\u0430"}),(0,AS.jsxs)("div",{className:"grid place-items-center",children:[r&&(0,AS.jsx)("div",{className:"w-full",children:t.map((function(t){return(0,AS.jsxs)("div",{className:"w-min flex sm:m-4 my-2",children:[(0,AS.jsx)("input",{type:"checkbox",onChange:function(){return e.handleChange(t)},className:"text-center sm:m-4 m-2"}),(0,AS.jsx)("img",{src:"".concat("/shine","/").concat(t.src),alt:"img",className:"sm:mr-4 mr-2 sm:w-full w-2/3"}),(0,AS.jsxs)("div",{className:"p-2 text-sm sm:text-lg",children:[(0,AS.jsx)("p",{className:"w-full",children:"".concat(t.titleToOne,", ").concat(t.price)}),(0,AS.jsx)("p",{className:"w-full",children:"".concat(t.size," \u0440\u0430\u0437\u043c\u0435\u0440")}),(0,AS.jsx)("button",{onClick:function(){return e.onDelete(t)},className:"w-min h-min border my-2 text-sm rounded hover:bg-amber-50 px-1",children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})]},t.itemId)}))}),t?(0,AS.jsx)("div",{className:"grid place-items-center",children:(0,AS.jsx)("button",{onClick:this.handleMoveToOrder,className:"w-fit hover:bg-amber-50 p-2",children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"})}):null,i&&(0,AS.jsx)(hT,{onClose:this.onClose})]})]})}}]),n}(e.Component);vT.defaultProps={cartClothes:null};var yT=function(e){Zt(n,e);var t=on(n);function n(){return Qt(this,n),t.apply(this,arguments)}return Xt(n,[{key:"render",value:function(){var e=this.props.orderClothes;return(0,AS.jsxs)("div",{className:"grid w-full border p-4",children:[(0,AS.jsx)("p",{className:"text-center text-lg",children:"\u041c\u043e\u0438 \u0437\u0430\u043a\u0430\u0437\u044b"}),(0,AS.jsx)("div",{className:"grid place-items-center",children:(0,AS.jsx)("div",{className:"w-full sm:flex sm:place-content-center",children:e.map((function(e){return(0,AS.jsxs)("div",{className:"w-min inline m-4",children:[(0,AS.jsx)("img",{src:"".concat("/shine","/").concat(e.src),alt:"img",className:" mr-4 "}),(0,AS.jsxs)("div",{className:"m-2 p-2 text-sm sm:text-lg ",children:[(0,AS.jsx)("p",{className:"w-full",children:"".concat(e.titleToOne,", ").concat(e.price)}),(0,AS.jsx)("p",{className:"w-full",children:"".concat(e.size," \u0440\u0430\u0437\u043c\u0435\u0440")})]})]},e.itemId)}))})})]})}}]),n}(e.Component);yT.defaultProps={orderClothes:null};var mT=function(e){Zt(n,e);var t=on(n);function n(e){var r;return Qt(this,n),(r=t.call(this,e)).handleClickProducts=function(){var e=r.props.currentUser;if(!e)return null;r.setState({addProducts:!0,addCart:!1,addStart:!1,addOrder:!1}),rT.getCollectionByUsername(e.displayName).then((function(e){r.setState({favoritesClothes:e})}))},r.handleClickCart=function(){var e=r.props.currentUser;if(!e)return null;r.setState({addCart:!0,addProducts:!1,addStart:!1,addOrder:!1}),aT.getCollectionByUsername(e.displayName).then((function(e){r.setState({cartClothes:e})}))},r.handleClickOrder=function(){var e=r.props.currentUser;if(!e)return null;r.setState({addCart:!1,addProducts:!1,addStart:!1,addOrder:!0}),pT.getCollectionByUsername(e.displayName).then((function(e){r.setState({orderClothes:e})}))},r.state={addProducts:!1,addCart:!1,addStart:!0,addOrder:!1,favoritesClothes:[],cartClothes:[],orderClothes:[]},r}return Xt(n,[{key:"render",value:function(){var e=this.state,t=e.addStart,n=e.addProducts,r=e.addCart,i=e.addOrder,a=e.favoritesClothes,o=e.cartClothes,s=e.orderClothes,u=this.props.currentUser;return(0,AS.jsxs)("div",{className:"bg-white max-w-screen-lg flex mx-auto",children:[(0,AS.jsx)(cT,{onClickProducts:this.handleClickProducts,onClickCart:this.handleClickCart,onClickOrder:this.handleClickOrder}),t&&(0,AS.jsxs)("div",{className:"w-full text-center text-lg sm:text-xl m-4",children:["\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c \u0432 \u043b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442, ",u.displayName,"!"]}),n&&(0,AS.jsx)(fT,{favoritesClothes:a,currentUser:u,handleChangeState:this.handleClickProducts}),r&&(0,AS.jsx)(vT,{cartClothes:o,currentUser:u,handleChangeState:this.handleClickCart}),i&&(0,AS.jsx)(yT,{orderClothes:s,currentUser:u})]})}}]),n}(e.Component);mT.defaultProps={currentUser:null};var gT,kT,bT=function(e){Zt(n,e);var t=on(n);function n(){return Qt(this,n),t.apply(this,arguments)}return Xt(n,[{key:"render",value:function(){var e=this.props,t=e.currentUser,n=e.isUserLoading;return(0,AS.jsx)("div",{className:"flex flex-col min-h-screen",children:(0,AS.jsxs)("div",{className:"flex-grow",children:[n&&(0,AS.jsx)("div",{className:"loader"}),t&&(0,AS.jsx)(mT,{currentUser:t}),!n&&!t&&(0,AS.jsx)(k,{to:"/login"})]})})}}]),n}(e.Component);bT.defaultProps={currentUser:null};try{gT=Map}catch(_e){}try{kT=Set}catch(_e){}function _T(e,t,n){if(!e||"object"!==typeof e||"function"===typeof e)return e;if(e.nodeType&&"cloneNode"in e)return e.cloneNode(!0);if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return new RegExp(e);if(Array.isArray(e))return e.map(wT);if(gT&&e instanceof gT)return new Map(Array.from(e.entries()));if(kT&&e instanceof kT)return new Set(Array.from(e.values()));if(e instanceof Object){t.push(e);var r=Object.create(e);for(var i in n.push(r),e){var a=t.findIndex((function(t){return t===e[i]}));r[i]=a>-1?n[a]:_T(e[i],t,n)}return r}return e}function wT(e){return _T(e,[],[])}var xT=Object.prototype.toString,ET=Error.prototype.toString,ST=RegExp.prototype.toString,TT="undefined"!==typeof Symbol?Symbol.prototype.toString:function(){return""},CT=/^Symbol\((.*)\)(.*)$/;function IT(e){return e!=+e?"NaN":0===e&&1/e<0?"-0":""+e}function NT(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null==e||!0===e||!1===e)return""+e;var n=typeof e;if("number"===n)return IT(e);if("string"===n)return t?'"'.concat(e,'"'):e;if("function"===n)return"[Function "+(e.name||"anonymous")+"]";if("symbol"===n)return TT.call(e).replace(CT,"Symbol($1)");var r=xT.call(e).slice(8,-1);return"Date"===r?isNaN(e.getTime())?""+e:e.toISOString(e):"Error"===r||e instanceof Error?"["+ET.call(e)+"]":"RegExp"===r?ST.call(e):null}function AT(e,t){var n=NT(e,t);return null!==n?n:JSON.stringify(e,(function(e,n){var r=NT(this[e],t);return null!==r?r:n}),2)}var OT={default:"${path} is invalid",required:"${path} is a required field",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:function(e){var t=e.path,n=e.type,r=e.value,i=e.originalValue,a=null!=i&&i!==r,o="".concat(t," must be a `").concat(n,"` type, ")+"but the final value was: `".concat(AT(r,!0),"`")+(a?" (cast from the value `".concat(AT(i,!0),"`)."):".");return null===r&&(o+='\n If "null" is intended as an empty value be sure to mark the schema as `.nullable()`'),o},defined:"${path} must be defined"},RT={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},PT={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},DT={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},FT={isValue:"${path} field must be ${value}"},LT={noUnknown:"${path} field has unspecified keys: ${unknown}"},jT={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},MT=(Object.assign(Object.create(null),{mixed:OT,string:RT,number:PT,date:DT,object:LT,array:jT,boolean:FT}),n(7805)),UT=n.n(MT),VT=function(e){return e&&e.__isYupSchema__},zT=function(){function e(t,n){if(Qt(this,e),this.fn=void 0,this.refs=t,this.refs=t,"function"!==typeof n){if(!UT()(n,"is"))throw new TypeError("`is:` is required for `when()` conditions");if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");var r=n.is,i=n.then,a=n.otherwise,o="function"===typeof r?r:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.every((function(e){return e===r}))};this.fn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.pop(),s=t.pop(),u=o.apply(void 0,t)?i:a;if(u)return"function"===typeof u?u(s):s.concat(u.resolve(r))}}else this.fn=n}return Xt(e,[{key:"resolve",value:function(e,t){var n=this.refs.map((function(e){return e.getValue(null==t?void 0:t.value,null==t?void 0:t.parent,null==t?void 0:t.context)})),r=this.fn.apply(e,n.concat(e,t));if(void 0===r||r===e)return e;if(!VT(r))throw new TypeError("conditions must return a schema object");return r.resolve(t)}}]),e}(),qT=zT;function BT(e){return null==e?[]:[].concat(e)}function WT(){return WT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WT.apply(this,arguments)}var HT=/\$\{\s*(\w+)\s*\}/g,KT=function(e){Zt(n,e);var t=on(n);function n(e,r,i,a){var o;return Qt(this,n),(o=t.call(this)).value=void 0,o.path=void 0,o.type=void 0,o.errors=void 0,o.params=void 0,o.inner=void 0,o.name="ValidationError",o.value=r,o.path=i,o.type=a,o.errors=[],o.inner=[],BT(e).forEach((function(e){var t;n.isError(e)?((t=o.errors).push.apply(t,fn(e.errors)),o.inner=o.inner.concat(e.inner.length?e.inner:e)):o.errors.push(e)})),o.message=o.errors.length>1?"".concat(o.errors.length," errors occurred"):o.errors[0],Error.captureStackTrace&&Error.captureStackTrace(rn(o),n),o}return Xt(n,null,[{key:"formatError",value:function(e,t){var n=t.label||t.path||"this";return n!==t.path&&(t=WT({},t,{path:n})),"string"===typeof e?e.replace(HT,(function(e,n){return AT(t[n])})):"function"===typeof e?e(t):e}},{key:"isError",value:function(e){return e&&"ValidationError"===e.name}}]),n}(hn(Error));function GT(e,t){var n=e.endEarly,r=e.tests,i=e.args,a=e.value,o=e.errors,s=e.sort,u=e.path,c=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(t),l=r.length,f=[];if(o=o||[],!l)return o.length?c(new KT(o,a,u)):c(null,a);for(var h=0;h<r.length;h++){(0,r[h])(i,(function(e){if(e){if(!KT.isError(e))return c(e,a);if(n)return e.value=a,c(e,a);f.push(e)}if(--l<=0){if(f.length&&(s&&f.sort(s),o.length&&f.push.apply(f,fn(o)),o=f),o.length)return void c(new KT(o,a,u),a);c(null,a)}}))}}var $T=n(7702),QT=n.n($T),YT=n(2758),XT="$",JT=".";var ZT=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Qt(this,e),this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,"string"!==typeof t)throw new TypeError("ref must be a string, got: "+t);if(this.key=t.trim(),""===t)throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===XT,this.isValue=this.key[0]===JT,this.isSibling=!this.isContext&&!this.isValue;var r=this.isContext?XT:this.isValue?JT:"";this.path=this.key.slice(r.length),this.getter=this.path&&(0,YT.getter)(this.path,!0),this.map=n.map}return Xt(e,[{key:"getValue",value:function(e,t,n){var r=this.isContext?n:this.isValue?e:t;return this.getter&&(r=this.getter(r||{})),this.map&&(r=this.map(r)),r}},{key:"cast",value:function(e,t){return this.getValue(e,null==t?void 0:t.parent,null==t?void 0:t.context)}},{key:"resolve",value:function(){return this}},{key:"describe",value:function(){return{type:"ref",key:this.key}}},{key:"toString",value:function(){return"Ref(".concat(this.key,")")}}],[{key:"isRef",value:function(e){return e&&e.__isYupRef}}]),e}();function eC(){return eC=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eC.apply(this,arguments)}function tC(e){function t(t,n){var r=t.value,i=t.path,a=void 0===i?"":i,o=t.label,s=t.options,u=t.originalValue,c=t.sync,l=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["value","path","label","options","originalValue","sync"]),f=e.name,h=e.test,d=e.params,p=e.message,v=s.parent,y=s.context;function m(e){return ZT.isRef(e)?e.getValue(r,v,y):e}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=QT()(eC({value:r,originalValue:u,label:o,path:e.path||a},d,e.params),m),n=new KT(KT.formatError(e.message||p,t),r,t.path,e.type||f);return n.params=t,n}var k=eC({path:a,parent:v,type:f,createError:g,resolve:m,options:s,originalValue:u},l);if(c){var b;try{var _;if("function"===typeof(null==(_=b=h.call(k,r,k))?void 0:_.then))throw new Error('Validation test of type: "'.concat(k.type,'" returned a Promise during a synchronous validate. ')+"This test will finish after the validate call has returned")}catch(w){return void n(w)}KT.isError(b)?n(b):b?n(null,b):n(g())}else try{Promise.resolve(h.call(k,r,k)).then((function(e){KT.isError(e)?n(e):e?n(null,e):n(g())})).catch(n)}catch(w){n(w)}}return t.OPTIONS=e,t}ZT.prototype.__isYupRef=!0;var nC=function(e){return e.substr(0,e.length-1).substr(1)};function rC(e,t,n){var r,i,a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return t?((0,YT.forEach)(t,(function(s,u,c){var l=u?nC(s):s;if((e=e.resolve({context:o,parent:r,value:n})).innerType){var f=c?parseInt(l,10):0;if(n&&f>=n.length)throw new Error("Yup.reach cannot resolve an array item at index: ".concat(s,", in the path: ").concat(t,". ")+"because there is no value at that index. ");r=n,n=n&&n[f],e=e.innerType}if(!c){if(!e.fields||!e.fields[l])throw new Error("The schema does not contain the path: ".concat(t,". ")+"(failed at: ".concat(a,' which is a type: "').concat(e._type,'")'));r=n,n=n&&n[l],e=e.fields[l]}i=l,a=u?"["+s+"]":"."+s})),{schema:e,parent:r,parentPath:i}):{parent:r,parentPath:t,schema:e}}var iC=function(){function e(){Qt(this,e),this.list=void 0,this.refs=void 0,this.list=new Set,this.refs=new Map}return Xt(e,[{key:"size",get:function(){return this.list.size+this.refs.size}},{key:"describe",value:function(){var e,t=[],n=ln(this.list);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push(r)}}catch(u){n.e(u)}finally{n.f()}var i,o=ln(this.refs);try{for(o.s();!(i=o.n()).done;){var s=a(i.value,2)[1];t.push(s.describe())}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"toArray",value:function(){return Array.from(this.list).concat(Array.from(this.refs.values()))}},{key:"resolveAll",value:function(e){return this.toArray().reduce((function(t,n){return t.concat(ZT.isRef(n)?e(n):n)}),[])}},{key:"add",value:function(e){ZT.isRef(e)?this.refs.set(e.key,e):this.list.add(e)}},{key:"delete",value:function(e){ZT.isRef(e)?this.refs.delete(e.key):this.list.delete(e)}},{key:"clone",value:function(){var t=new e;return t.list=new Set(this.list),t.refs=new Map(this.refs),t}},{key:"merge",value:function(e,t){var n=this.clone();return e.list.forEach((function(e){return n.add(e)})),e.refs.forEach((function(e){return n.add(e)})),t.list.forEach((function(e){return n.delete(e)})),t.refs.forEach((function(e){return n.delete(e)})),n}}]),e}();function aC(){return aC=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aC.apply(this,arguments)}var oC=function(){function e(t){var n=this;Qt(this,e),this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this._typeError=void 0,this._whitelist=new iC,this._blacklist=new iC,this.exclusiveTests=Object.create(null),this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation((function(){n.typeError(OT.notType)})),this.type=(null==t?void 0:t.type)||"mixed",this.spec=aC({strip:!1,strict:!1,abortEarly:!0,recursive:!0,nullable:!1,presence:"optional"},null==t?void 0:t.spec)}return Xt(e,[{key:"_type",get:function(){return this.type}},{key:"_typeCheck",value:function(e){return!0}},{key:"clone",value:function(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;var t=Object.create(Object.getPrototypeOf(this));return t.type=this.type,t._typeError=this._typeError,t._whitelistError=this._whitelistError,t._blacklistError=this._blacklistError,t._whitelist=this._whitelist.clone(),t._blacklist=this._blacklist.clone(),t.exclusiveTests=aC({},this.exclusiveTests),t.deps=fn(this.deps),t.conditions=fn(this.conditions),t.tests=fn(this.tests),t.transforms=fn(this.transforms),t.spec=wT(aC({},this.spec,e)),t}},{key:"label",value:function(e){var t=this.clone();return t.spec.label=e,t}},{key:"meta",value:function(){if(0===arguments.length)return this.spec.meta;var e=this.clone();return e.spec.meta=Object.assign(e.spec.meta||{},arguments.length<=0?void 0:arguments[0]),e}},{key:"withMutation",value:function(e){var t=this._mutate;this._mutate=!0;var n=e(this);return this._mutate=t,n}},{key:"concat",value:function(e){if(!e||e===this)return this;if(e.type!==this.type&&"mixed"!==this.type)throw new TypeError("You cannot `concat()` schema's of different types: ".concat(this.type," and ").concat(e.type));var t=this,n=e.clone(),r=aC({},t.spec,n.spec);return n.spec=r,n._typeError||(n._typeError=t._typeError),n._whitelistError||(n._whitelistError=t._whitelistError),n._blacklistError||(n._blacklistError=t._blacklistError),n._whitelist=t._whitelist.merge(e._whitelist,e._blacklist),n._blacklist=t._blacklist.merge(e._blacklist,e._whitelist),n.tests=t.tests,n.exclusiveTests=t.exclusiveTests,n.withMutation((function(t){e.tests.forEach((function(e){t.test(e.OPTIONS)}))})),n.transforms=[].concat(fn(t.transforms),fn(n.transforms)),n}},{key:"isType",value:function(e){return!(!this.spec.nullable||null!==e)||this._typeCheck(e)}},{key:"resolve",value:function(e){var t=this;if(t.conditions.length){var n=t.conditions;(t=t.clone()).conditions=[],t=(t=n.reduce((function(t,n){return n.resolve(t,e)}),t)).resolve(e)}return t}},{key:"cast",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.resolve(aC({value:e},t)),r=n._cast(e,t);if(void 0!==e&&!1!==t.assert&&!0!==n.isType(r)){var i=AT(e),a=AT(r);throw new TypeError("The value of ".concat(t.path||"field"," could not be cast to a value ")+'that satisfies the schema type: "'.concat(n._type,'". \n\n')+"attempted value: ".concat(i," \n")+(a!==i?"result of cast: ".concat(a):""))}return r}},{key:"_cast",value:function(e,t){var n=this,r=void 0===e?e:this.transforms.reduce((function(t,r){return r.call(n,t,e,n)}),e);return void 0===r&&(r=this.getDefault()),r}},{key:"_validate",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,i=n.sync,a=n.path,o=n.from,s=void 0===o?[]:o,u=n.originalValue,c=void 0===u?e:u,l=n.strict,f=void 0===l?this.spec.strict:l,h=n.abortEarly,d=void 0===h?this.spec.abortEarly:h,p=e;f||(p=this._cast(p,aC({assert:!1},n)));var v={value:p,path:a,options:n,originalValue:c,schema:this,label:this.spec.label,sync:i,from:s},y=[];this._typeError&&y.push(this._typeError);var m=[];this._whitelistError&&m.push(this._whitelistError),this._blacklistError&&m.push(this._blacklistError),GT({args:v,value:p,path:a,sync:i,tests:y,endEarly:d},(function(e){e?r(e,p):GT({tests:t.tests.concat(m),args:v,path:a,sync:i,value:p,endEarly:d},r)}))}},{key:"validate",value:function(e,t,n){var r=this.resolve(aC({},t,{value:e}));return"function"===typeof n?r._validate(e,t,n):new Promise((function(n,i){return r._validate(e,t,(function(e,t){e?i(e):n(t)}))}))}},{key:"validateSync",value:function(e,t){var n;return this.resolve(aC({},t,{value:e}))._validate(e,aC({},t,{sync:!0}),(function(e,t){if(e)throw e;n=t})),n}},{key:"isValid",value:function(e,t){return this.validate(e,t).then((function(){return!0}),(function(e){if(KT.isError(e))return!1;throw e}))}},{key:"isValidSync",value:function(e,t){try{return this.validateSync(e,t),!0}catch(n){if(KT.isError(n))return!1;throw n}}},{key:"_getDefault",value:function(){var e=this.spec.default;return null==e?e:"function"===typeof e?e.call(this):wT(e)}},{key:"getDefault",value:function(e){return this.resolve(e||{})._getDefault()}},{key:"default",value:function(e){if(0===arguments.length)return this._getDefault();var t=this.clone({default:e});return t}},{key:"strict",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.clone();return t.spec.strict=e,t}},{key:"_isPresent",value:function(e){return null!=e}},{key:"defined",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:OT.defined;return this.test({message:e,name:"defined",exclusive:!0,test:function(e){return void 0!==e}})}},{key:"required",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:OT.required;return this.clone({presence:"required"}).withMutation((function(t){return t.test({message:e,name:"required",exclusive:!0,test:function(e){return this.schema._isPresent(e)}})}))}},{key:"notRequired",value:function(){var e=this.clone({presence:"optional"});return e.tests=e.tests.filter((function(e){return"required"!==e.OPTIONS.name})),e}},{key:"nullable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.clone({nullable:!1!==e});return t}},{key:"transform",value:function(e){var t=this.clone();return t.transforms.push(e),t}},{key:"test",value:function(){var e;if(void 0===(e=1===arguments.length?"function"===typeof(arguments.length<=0?void 0:arguments[0])?{test:arguments.length<=0?void 0:arguments[0]}:arguments.length<=0?void 0:arguments[0]:2===arguments.length?{name:arguments.length<=0?void 0:arguments[0],test:arguments.length<=1?void 0:arguments[1]}:{name:arguments.length<=0?void 0:arguments[0],message:arguments.length<=1?void 0:arguments[1],test:arguments.length<=2?void 0:arguments[2]}).message&&(e.message=OT.default),"function"!==typeof e.test)throw new TypeError("`test` is a required parameters");var t=this.clone(),n=tC(e),r=e.exclusive||e.name&&!0===t.exclusiveTests[e.name];if(e.exclusive&&!e.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return e.name&&(t.exclusiveTests[e.name]=!!e.exclusive),t.tests=t.tests.filter((function(t){if(t.OPTIONS.name===e.name){if(r)return!1;if(t.OPTIONS.test===n.OPTIONS.test)return!1}return!0})),t.tests.push(n),t}},{key:"when",value:function(e,t){Array.isArray(e)||"string"===typeof e||(t=e,e=".");var n=this.clone(),r=BT(e).map((function(e){return new ZT(e)}));return r.forEach((function(e){e.isSibling&&n.deps.push(e.key)})),n.conditions.push(new qT(r,t)),n}},{key:"typeError",value:function(e){var t=this.clone();return t._typeError=tC({message:e,name:"typeError",test:function(e){return!(void 0!==e&&!this.schema.isType(e))||this.createError({params:{type:this.schema._type}})}}),t}},{key:"oneOf",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:OT.oneOf,n=this.clone();return e.forEach((function(e){n._whitelist.add(e),n._blacklist.delete(e)})),n._whitelistError=tC({message:t,name:"oneOf",test:function(e){if(void 0===e)return!0;var t=this.schema._whitelist,n=t.resolveAll(this.resolve);return!!n.includes(e)||this.createError({params:{values:t.toArray().join(", "),resolved:n}})}}),n}},{key:"notOneOf",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:OT.notOneOf,n=this.clone();return e.forEach((function(e){n._blacklist.add(e),n._whitelist.delete(e)})),n._blacklistError=tC({message:t,name:"notOneOf",test:function(e){var t=this.schema._blacklist,n=t.resolveAll(this.resolve);return!n.includes(e)||this.createError({params:{values:t.toArray().join(", "),resolved:n}})}}),n}},{key:"strip",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.clone();return t.spec.strip=e,t}},{key:"describe",value:function(){var e=this.clone(),t=e.spec,n=t.label,r={meta:t.meta,label:n,type:e.type,oneOf:e._whitelist.describe(),notOneOf:e._blacklist.describe(),tests:e.tests.map((function(e){return{name:e.OPTIONS.name,params:e.OPTIONS.params}})).filter((function(e,t,n){return n.findIndex((function(t){return t.name===e.name}))===t}))};return r}}]),e}();oC.prototype.__isYupSchema__=!0;for(var sC=function(){var e=cC[uC];oC.prototype["".concat(e,"At")]=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=rC(this,t,n,r.context),a=i.parent,o=i.parentPath,s=i.schema;return s[e](a&&a[o],aC({},r,{parent:a,path:t}))}},uC=0,cC=["validate","validateSync"];uC<cC.length;uC++)sC();for(var lC=0,fC=["equals","is"];lC<fC.length;lC++){var hC=fC[lC];oC.prototype[hC]=oC.prototype.oneOf}for(var dC=0,pC=["not","nope"];dC<pC.length;dC++){var vC=pC[dC];oC.prototype[vC]=oC.prototype.notOneOf}oC.prototype.optional=oC.prototype.notRequired;var yC=oC;yC.prototype;var mC=function(e){return null==e};var gC=function(e){Zt(n,e);var t=on(n);function n(){var e;return Qt(this,n),(e=t.call(this,{type:"boolean"})).withMutation((function(){e.transform((function(e){if(!this.isType(e)){if(/^(true|1)$/i.test(String(e)))return!0;if(/^(false|0)$/i.test(String(e)))return!1}return e}))})),e}return Xt(n,[{key:"_typeCheck",value:function(e){return e instanceof Boolean&&(e=e.valueOf()),"boolean"===typeof e}},{key:"isTrue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:FT.isValue;return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"true"},test:function(e){return mC(e)||!0===e}})}},{key:"isFalse",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:FT.isValue;return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"false"},test:function(e){return mC(e)||!1===e}})}}]),n}(oC);gC.prototype;var kC=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,bC=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,_C=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,wC=function(e){return mC(e)||e===e.trim()},xC={}.toString();function EC(){return new SC}var SC=function(e){Zt(n,e);var t=on(n);function n(){var e;return Qt(this,n),(e=t.call(this,{type:"string"})).withMutation((function(){e.transform((function(e){if(this.isType(e))return e;if(Array.isArray(e))return e;var t=null!=e&&e.toString?e.toString():e;return t===xC?e:t}))})),e}return Xt(n,[{key:"_typeCheck",value:function(e){return e instanceof String&&(e=e.valueOf()),"string"===typeof e}},{key:"_isPresent",value:function(e){return cn(en(n.prototype),"_isPresent",this).call(this,e)&&!!e.length}},{key:"length",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:RT.length;return this.test({message:t,name:"length",exclusive:!0,params:{length:e},test:function(t){return mC(t)||t.length===this.resolve(e)}})}},{key:"min",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:RT.min;return this.test({message:t,name:"min",exclusive:!0,params:{min:e},test:function(t){return mC(t)||t.length>=this.resolve(e)}})}},{key:"max",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:RT.max;return this.test({name:"max",exclusive:!0,message:t,params:{max:e},test:function(t){return mC(t)||t.length<=this.resolve(e)}})}},{key:"matches",value:function(e,t){var n,r,i=!1;if(t)if("object"===typeof t){var a=t.excludeEmptyString;i=void 0!==a&&a,n=t.message,r=t.name}else n=t;return this.test({name:r||"matches",message:n||RT.matches,params:{regex:e},test:function(t){return mC(t)||""===t&&i||-1!==t.search(e)}})}},{key:"email",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:RT.email;return this.matches(kC,{name:"email",message:e,excludeEmptyString:!0})}},{key:"url",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:RT.url;return this.matches(bC,{name:"url",message:e,excludeEmptyString:!0})}},{key:"uuid",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:RT.uuid;return this.matches(_C,{name:"uuid",message:e,excludeEmptyString:!1})}},{key:"ensure",value:function(){return this.default("").transform((function(e){return null===e?"":e}))}},{key:"trim",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:RT.trim;return this.transform((function(e){return null!=e?e.trim():e})).test({message:e,name:"trim",test:wC})}},{key:"lowercase",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:RT.lowercase;return this.transform((function(e){return mC(e)?e:e.toLowerCase()})).test({message:e,name:"string_case",exclusive:!0,test:function(e){return mC(e)||e===e.toLowerCase()}})}},{key:"uppercase",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:RT.uppercase;return this.transform((function(e){return mC(e)?e:e.toUpperCase()})).test({message:e,name:"string_case",exclusive:!0,test:function(e){return mC(e)||e===e.toUpperCase()}})}}]),n}(oC);EC.prototype=SC.prototype;var TC=function(e){Zt(n,e);var t=on(n);function n(){var e;return Qt(this,n),(e=t.call(this,{type:"number"})).withMutation((function(){e.transform((function(e){var t=e;if("string"===typeof t){if(""===(t=t.replace(/\s/g,"")))return NaN;t=+t}return this.isType(t)?t:parseFloat(t)}))})),e}return Xt(n,[{key:"_typeCheck",value:function(e){return e instanceof Number&&(e=e.valueOf()),"number"===typeof e&&!function(e){return e!=+e}(e)}},{key:"min",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:PT.min;return this.test({message:t,name:"min",exclusive:!0,params:{min:e},test:function(t){return mC(t)||t>=this.resolve(e)}})}},{key:"max",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:PT.max;return this.test({message:t,name:"max",exclusive:!0,params:{max:e},test:function(t){return mC(t)||t<=this.resolve(e)}})}},{key:"lessThan",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:PT.lessThan;return this.test({message:t,name:"max",exclusive:!0,params:{less:e},test:function(t){return mC(t)||t<this.resolve(e)}})}},{key:"moreThan",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:PT.moreThan;return this.test({message:t,name:"min",exclusive:!0,params:{more:e},test:function(t){return mC(t)||t>this.resolve(e)}})}},{key:"positive",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:PT.positive;return this.moreThan(0,e)}},{key:"negative",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:PT.negative;return this.lessThan(0,e)}},{key:"integer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:PT.integer;return this.test({name:"integer",message:e,test:function(e){return mC(e)||Number.isInteger(e)}})}},{key:"truncate",value:function(){return this.transform((function(e){return mC(e)?e:0|e}))}},{key:"round",value:function(e){var t,n=["ceil","floor","round","trunc"];if("trunc"===(e=(null==(t=e)?void 0:t.toLowerCase())||"round"))return this.truncate();if(-1===n.indexOf(e.toLowerCase()))throw new TypeError("Only valid options for round() are: "+n.join(", "));return this.transform((function(t){return mC(t)?t:Math[e](t)}))}}]),n}(oC);TC.prototype;var CC=/^(\d{4}|[+\-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;var IC=new Date("");function NC(){return new AC}var AC=function(e){Zt(n,e);var t=on(n);function n(){var e;return Qt(this,n),(e=t.call(this,{type:"date"})).withMutation((function(){e.transform((function(e){return this.isType(e)?e:(e=function(e){var t,n,r=[1,4,5,6,7,10,11],i=0;if(n=CC.exec(e)){for(var a,o=0;a=r[o];++o)n[a]=+n[a]||0;n[2]=(+n[2]||1)-1,n[3]=+n[3]||1,n[7]=n[7]?String(n[7]).substr(0,3):0,void 0!==n[8]&&""!==n[8]||void 0!==n[9]&&""!==n[9]?("Z"!==n[8]&&void 0!==n[9]&&(i=60*n[10]+n[11],"+"===n[9]&&(i=0-i)),t=Date.UTC(n[1],n[2],n[3],n[4],n[5]+i,n[6],n[7])):t=+new Date(n[1],n[2],n[3],n[4],n[5],n[6],n[7])}else t=Date.parse?Date.parse(e):NaN;return t}(e),isNaN(e)?IC:new Date(e))}))})),e}return Xt(n,[{key:"_typeCheck",value:function(e){return t=e,"[object Date]"===Object.prototype.toString.call(t)&&!isNaN(e.getTime());var t}},{key:"prepareParam",value:function(e,t){var n;if(ZT.isRef(e))n=e;else{var r=this.cast(e);if(!this._typeCheck(r))throw new TypeError("`".concat(t,"` must be a Date or a value that can be `cast()` to a Date"));n=r}return n}},{key:"min",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:DT.min,n=this.prepareParam(e,"min");return this.test({message:t,name:"min",exclusive:!0,params:{min:e},test:function(e){return mC(e)||e>=this.resolve(n)}})}},{key:"max",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:DT.max,n=this.prepareParam(e,"max");return this.test({message:t,name:"max",exclusive:!0,params:{max:e},test:function(e){return mC(e)||e<=this.resolve(n)}})}}]),n}(oC);AC.INVALID_DATE=IC,NC.prototype=AC.prototype,NC.INVALID_DATE=IC;var OC=n(7499),RC=n.n(OC),PC=n(567),DC=n.n(PC),FC=n(9029),LC=n.n(FC),jC=n(6514),MC=n.n(jC);function UC(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=new Set,i=new Set(t.map((function(e){var t=a(e,2),n=t[0],r=t[1];return"".concat(n,"-").concat(r)})));function o(e,t){var a=(0,YT.split)(e)[0];r.add(a),i.has("".concat(t,"-").concat(a))||n.push([t,a])}var s=function(t){if(UT()(e,t)){var n=e[t];r.add(t),ZT.isRef(n)&&n.isSibling?o(n.path,t):VT(n)&&"deps"in n&&n.deps.forEach((function(e){return o(e,t)}))}};for(var u in e)s(u);return MC().array(Array.from(r),n).reverse()}function VC(e,t){var n=1/0;return e.some((function(e,r){var i;if(-1!==(null==(i=t.path)?void 0:i.indexOf(e)))return n=r,!0})),n}function zC(e){return function(t,n){return VC(e,t)-VC(e,n)}}function qC(){return qC=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qC.apply(this,arguments)}var BC=function(e){return"[object Object]"===Object.prototype.toString.call(e)};function WC(e,t){var n=Object.keys(e.fields);return Object.keys(t).filter((function(e){return-1===n.indexOf(e)}))}var HC=zC([]),KC=function(e){Zt(n,e);var t=on(n);function n(e){var r;return Qt(this,n),(r=t.call(this,{type:"object"})).fields=Object.create(null),r._sortErrors=HC,r._nodes=[],r._excludedEdges=[],r.withMutation((function(){r.transform((function(e){if("string"===typeof e)try{e=JSON.parse(e)}catch(t){e=null}return this.isType(e)?e:null})),e&&r.shape(e)})),r}return Xt(n,[{key:"_typeCheck",value:function(e){return BC(e)||"function"===typeof e}},{key:"_cast",value:function(e){var t,r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=cn(en(n.prototype),"_cast",this).call(this,e,i);if(void 0===a)return this.getDefault();if(!this._typeCheck(a))return a;var o,s=this.fields,u=null!=(t=i.stripUnknown)?t:this.spec.noUnknown,c=this._nodes.concat(Object.keys(a).filter((function(e){return-1===r._nodes.indexOf(e)}))),l={},f=qC({},i,{parent:l,__validating:i.__validating||!1}),h=!1,d=ln(c);try{for(d.s();!(o=d.n()).done;){var p=o.value,v=s[p],y=UT()(a,p);if(v){var m=void 0,g=a[p];f.path=(i.path?"".concat(i.path,"."):"")+p;var k="spec"in(v=v.resolve({value:g,context:i.context,parent:l}))?v.spec:void 0,b=null==k?void 0:k.strict;if(null==k?void 0:k.strip){h=h||p in a;continue}void 0!==(m=i.__validating&&b?a[p]:v.cast(a[p],f))&&(l[p]=m)}else y&&!u&&(l[p]=a[p]);l[p]!==a[p]&&(h=!0)}}catch(_){d.e(_)}finally{d.f()}return h?l:a}},{key:"_validate",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0,a=[],o=r.sync,s=r.from,u=void 0===s?[]:s,c=r.originalValue,l=void 0===c?e:c,f=r.abortEarly,h=void 0===f?this.spec.abortEarly:f,d=r.recursive,p=void 0===d?this.spec.recursive:d;u=[{schema:this,value:l}].concat(fn(u)),r.__validating=!0,r.originalValue=l,r.from=u,cn(en(n.prototype),"_validate",this).call(this,e,r,(function(e,n){if(e){if(!KT.isError(e)||h)return void i(e,n);a.push(e)}if(p&&BC(n)){l=l||n;var s=t._nodes.map((function(e){return function(i,a){var o=-1===e.indexOf(".")?(r.path?"".concat(r.path,"."):"")+e:"".concat(r.path||"",'["').concat(e,'"]'),s=t.fields[e];s&&"validate"in s?s.validate(n[e],qC({},r,{path:o,from:u,strict:!0,parent:n,originalValue:l[e]}),a):a(null)}}));GT({sync:o,tests:s,value:n,errors:a,endEarly:h,sort:t._sortErrors,path:r.path},i)}else i(a[0]||null,n)}))}},{key:"clone",value:function(e){var t=cn(en(n.prototype),"clone",this).call(this,e);return t.fields=qC({},this.fields),t._nodes=this._nodes,t._excludedEdges=this._excludedEdges,t._sortErrors=this._sortErrors,t}},{key:"concat",value:function(e){for(var t=this,r=cn(en(n.prototype),"concat",this).call(this,e),i=r.fields,o=0,s=Object.entries(this.fields);o<s.length;o++){var u=a(s[o],2),c=u[0],l=u[1],f=i[c];void 0===f?i[c]=l:f instanceof oC&&l instanceof oC&&(i[c]=l.concat(f))}return r.withMutation((function(){return r.shape(i,t._excludedEdges)}))}},{key:"getDefaultFromShape",value:function(){var e=this,t={};return this._nodes.forEach((function(n){var r=e.fields[n];t[n]="default"in r?r.getDefault():void 0})),t}},{key:"_getDefault",value:function(){return"default"in this.spec?cn(en(n.prototype),"_getDefault",this).call(this):this._nodes.length?this.getDefaultFromShape():void 0}},{key:"shape",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=this.clone(),r=Object.assign(n.fields,e);return n.fields=r,n._sortErrors=zC(Object.keys(r)),t.length&&(Array.isArray(t[0])||(t=[t]),n._excludedEdges=[].concat(fn(n._excludedEdges),fn(t))),n._nodes=UC(r,n._excludedEdges),n}},{key:"pick",value:function(e){var t,n={},r=ln(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;this.fields[i]&&(n[i]=this.fields[i])}}catch(a){r.e(a)}finally{r.f()}return this.clone().withMutation((function(e){return e.fields={},e.shape(n)}))}},{key:"omit",value:function(e){var t=this.clone(),n=t.fields;t.fields={};var r,i=ln(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete n[a]}}catch(o){i.e(o)}finally{i.f()}return t.withMutation((function(){return t.shape(n)}))}},{key:"from",value:function(e,t,n){var r=(0,YT.getter)(e,!0);return this.transform((function(i){if(null==i)return i;var a=i;return UT()(i,e)&&(a=qC({},i),n||delete a[e],a[t]=r(i)),a}))}},{key:"noUnknown",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:LT.noUnknown;"string"===typeof e&&(t=e,e=!0);var n=this.test({name:"noUnknown",exclusive:!0,message:t,test:function(t){if(null==t)return!0;var n=WC(this.schema,t);return!e||0===n.length||this.createError({params:{unknown:n.join(", ")}})}});return n.spec.noUnknown=e,n}},{key:"unknown",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:LT.noUnknown;return this.noUnknown(!e,t)}},{key:"transformKeys",value:function(e){return this.transform((function(t){return t&&LC()(t,(function(t,n){return e(n)}))}))}},{key:"camelCase",value:function(){return this.transformKeys(DC())}},{key:"snakeCase",value:function(){return this.transformKeys(RC())}},{key:"constantCase",value:function(){return this.transformKeys((function(e){return RC()(e).toUpperCase()}))}},{key:"describe",value:function(){var e=cn(en(n.prototype),"describe",this).call(this);return e.fields=QT()(this.fields,(function(e){return e.describe()})),e}}]),n}(oC);function GC(e){return new KC(e)}function $C(){return $C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$C.apply(this,arguments)}GC.prototype=KC.prototype;var QC=function(e){Zt(n,e);var t=on(n);function n(e){var r;return Qt(this,n),(r=t.call(this,{type:"array"})).innerType=void 0,r.innerType=e,r.withMutation((function(){r.transform((function(e){if("string"===typeof e)try{e=JSON.parse(e)}catch(t){e=null}return this.isType(e)?e:null}))})),r}return Xt(n,[{key:"_typeCheck",value:function(e){return Array.isArray(e)}},{key:"_subType",get:function(){return this.innerType}},{key:"_cast",value:function(e,t){var r=this,i=cn(en(n.prototype),"_cast",this).call(this,e,t);if(!this._typeCheck(i)||!this.innerType)return i;var a=!1,o=i.map((function(e,n){var i=r.innerType.cast(e,$C({},t,{path:"".concat(t.path||"","[").concat(n,"]")}));return i!==e&&(a=!0),i}));return a?o:i}},{key:"_validate",value:function(e){var t,r,i=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0,s=[],u=a.sync,c=a.path,l=this.innerType,f=null!=(t=a.abortEarly)?t:this.spec.abortEarly,h=null!=(r=a.recursive)?r:this.spec.recursive,d=null!=a.originalValue?a.originalValue:e;cn(en(n.prototype),"_validate",this).call(this,e,a,(function(e,t){if(e){if(!KT.isError(e)||f)return void o(e,t);s.push(e)}if(h&&l&&i._typeCheck(t)){d=d||t;for(var n=new Array(t.length),r=function(e){var r=t[e],i="".concat(a.path||"","[").concat(e,"]"),o=$C({},a,{path:i,strict:!0,parent:t,index:e,originalValue:d[e]});n[e]=function(e,t){return l.validate(r,o,t)}},p=0;p<t.length;p++)r(p);GT({sync:u,path:c,value:t,errors:s,endEarly:f,tests:n},o)}else o(s[0]||null,t)}))}},{key:"clone",value:function(e){var t=cn(en(n.prototype),"clone",this).call(this,e);return t.innerType=this.innerType,t}},{key:"concat",value:function(e){var t=cn(en(n.prototype),"concat",this).call(this,e);return t.innerType=this.innerType,e.innerType&&(t.innerType=t.innerType?t.innerType.concat(e.innerType):e.innerType),t}},{key:"of",value:function(e){var t=this.clone();if(!VT(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+AT(e));return t.innerType=e,t}},{key:"length",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jT.length;return this.test({message:t,name:"length",exclusive:!0,params:{length:e},test:function(t){return mC(t)||t.length===this.resolve(e)}})}},{key:"min",value:function(e,t){return t=t||jT.min,this.test({message:t,name:"min",exclusive:!0,params:{min:e},test:function(t){return mC(t)||t.length>=this.resolve(e)}})}},{key:"max",value:function(e,t){return t=t||jT.max,this.test({message:t,name:"max",exclusive:!0,params:{max:e},test:function(t){return mC(t)||t.length<=this.resolve(e)}})}},{key:"ensure",value:function(){var e=this;return this.default((function(){return[]})).transform((function(t,n){return e._typeCheck(t)?t:null==n?[]:[].concat(n)}))}},{key:"compact",value:function(e){var t=e?function(t,n,r){return!e(t,n,r)}:function(e){return!!e};return this.transform((function(e){return null!=e?e.filter(t):e}))}},{key:"describe",value:function(){var e=cn(en(n.prototype),"describe",this).call(this);return this.innerType&&(e.innerType=this.innerType.describe()),e}},{key:"nullable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return cn(en(n.prototype),"nullable",this).call(this,e)}},{key:"defined",value:function(){return cn(en(n.prototype),"defined",this).call(this)}},{key:"required",value:function(e){return cn(en(n.prototype),"required",this).call(this,e)}}]),n}(oC);QC.prototype;var YC=n(77),XC=n.n(YC),JC=function(e){return function(e){return!!e&&"object"===typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===ZC}(e)}(e)};var ZC="function"===typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function eI(e,t){return!1!==t.clone&&t.isMergeableObject(e)?nI(function(e){return Array.isArray(e)?[]:{}}(e),e,t):e}function tI(e,t,n){return e.concat(t).map((function(e){return eI(e,n)}))}function nI(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||tI,n.isMergeableObject=n.isMergeableObject||JC;var r=Array.isArray(t);return r===Array.isArray(e)?r?n.arrayMerge(e,t,n):function(e,t,n){var r={};return n.isMergeableObject(e)&&Object.keys(e).forEach((function(t){r[t]=eI(e[t],n)})),Object.keys(t).forEach((function(i){n.isMergeableObject(t[i])&&e[i]?r[i]=nI(e[i],t[i],n):r[i]=eI(t[i],n)})),r}(e,t,n):eI(t,n)}nI.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return nI(e,n,t)}),{})};var rI=nI,iI="object"==typeof global&&global&&global.Object===Object&&global,aI="object"==typeof self&&self&&self.Object===Object&&self,oI=iI||aI||Function("return this")(),sI=oI.Symbol,uI=Object.prototype,cI=uI.hasOwnProperty,lI=uI.toString,fI=sI?sI.toStringTag:void 0;var hI=function(e){var t=cI.call(e,fI),n=e[fI];try{e[fI]=void 0;var r=!0}catch(a){}var i=lI.call(e);return r&&(t?e[fI]=n:delete e[fI]),i},dI=Object.prototype.toString;var pI=function(e){return dI.call(e)},vI=sI?sI.toStringTag:void 0;var yI=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":vI&&vI in Object(e)?hI(e):pI(e)};var mI=function(e,t){return function(n){return e(t(n))}},gI=mI(Object.getPrototypeOf,Object);var kI=function(e){return null!=e&&"object"==typeof e},bI=Function.prototype,_I=Object.prototype,wI=bI.toString,xI=_I.hasOwnProperty,EI=wI.call(Object);var SI=function(e){if(!kI(e)||"[object Object]"!=yI(e))return!1;var t=gI(e);if(null===t)return!0;var n=xI.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&wI.call(n)==EI};var TI=function(){this.__data__=[],this.size=0};var CI=function(e,t){return e===t||e!==e&&t!==t};var II=function(e,t){for(var n=e.length;n--;)if(CI(e[n][0],t))return n;return-1},NI=Array.prototype.splice;var AI=function(e){var t=this.__data__,n=II(t,e);return!(n<0)&&(n==t.length-1?t.pop():NI.call(t,n,1),--this.size,!0)};var OI=function(e){var t=this.__data__,n=II(t,e);return n<0?void 0:t[n][1]};var RI=function(e){return II(this.__data__,e)>-1};var PI=function(e,t){var n=this.__data__,r=II(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function DI(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}DI.prototype.clear=TI,DI.prototype.delete=AI,DI.prototype.get=OI,DI.prototype.has=RI,DI.prototype.set=PI;var FI=DI;var LI=function(){this.__data__=new FI,this.size=0};var jI=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var MI=function(e){return this.__data__.get(e)};var UI=function(e){return this.__data__.has(e)};var VI=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var zI=function(e){if(!VI(e))return!1;var t=yI(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},qI=oI["__core-js_shared__"],BI=function(){var e=/[^.]+$/.exec(qI&&qI.keys&&qI.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var WI=function(e){return!!BI&&BI in e},HI=Function.prototype.toString;var KI=function(e){if(null!=e){try{return HI.call(e)}catch(t){}try{return e+""}catch(t){}}return""},GI=/^\[object .+?Constructor\]$/,$I=Function.prototype,QI=Object.prototype,YI=$I.toString,XI=QI.hasOwnProperty,JI=RegExp("^"+YI.call(XI).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var ZI=function(e){return!(!VI(e)||WI(e))&&(zI(e)?JI:GI).test(KI(e))};var eN=function(e,t){return null==e?void 0:e[t]};var tN=function(e,t){var n=eN(e,t);return ZI(n)?n:void 0},nN=tN(oI,"Map"),rN=tN(Object,"create");var iN=function(){this.__data__=rN?rN(null):{},this.size=0};var aN=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},oN=Object.prototype.hasOwnProperty;var sN=function(e){var t=this.__data__;if(rN){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return oN.call(t,e)?t[e]:void 0},uN=Object.prototype.hasOwnProperty;var cN=function(e){var t=this.__data__;return rN?void 0!==t[e]:uN.call(t,e)};var lN=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=rN&&void 0===t?"__lodash_hash_undefined__":t,this};function fN(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}fN.prototype.clear=iN,fN.prototype.delete=aN,fN.prototype.get=sN,fN.prototype.has=cN,fN.prototype.set=lN;var hN=fN;var dN=function(){this.size=0,this.__data__={hash:new hN,map:new(nN||FI),string:new hN}};var pN=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var vN=function(e,t){var n=e.__data__;return pN(t)?n["string"==typeof t?"string":"hash"]:n.map};var yN=function(e){var t=vN(this,e).delete(e);return this.size-=t?1:0,t};var mN=function(e){return vN(this,e).get(e)};var gN=function(e){return vN(this,e).has(e)};var kN=function(e,t){var n=vN(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function bN(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}bN.prototype.clear=dN,bN.prototype.delete=yN,bN.prototype.get=mN,bN.prototype.has=gN,bN.prototype.set=kN;var _N=bN;var wN=function(e,t){var n=this.__data__;if(n instanceof FI){var r=n.__data__;if(!nN||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new _N(r)}return n.set(e,t),this.size=n.size,this};function xN(e){var t=this.__data__=new FI(e);this.size=t.size}xN.prototype.clear=LI,xN.prototype.delete=jI,xN.prototype.get=MI,xN.prototype.has=UI,xN.prototype.set=wN;var EN=xN;var SN=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e},TN=function(){try{var e=tN(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();var CN=function(e,t,n){"__proto__"==t&&TN?TN(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},IN=Object.prototype.hasOwnProperty;var NN=function(e,t,n){var r=e[t];IN.call(e,t)&&CI(r,n)&&(void 0!==n||t in e)||CN(e,t,n)};var AN=function(e,t,n,r){var i=!n;n||(n={});for(var a=-1,o=t.length;++a<o;){var s=t[a],u=r?r(n[s],e[s],s,n,e):void 0;void 0===u&&(u=e[s]),i?CN(n,s,u):NN(n,s,u)}return n};var ON=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};var RN=function(e){return kI(e)&&"[object Arguments]"==yI(e)},PN=Object.prototype,DN=PN.hasOwnProperty,FN=PN.propertyIsEnumerable,LN=RN(function(){return arguments}())?RN:function(e){return kI(e)&&DN.call(e,"callee")&&!FN.call(e,"callee")},jN=LN,MN=Array.isArray;var UN=function(){return!1},VN="object"==typeof exports&&exports&&!exports.nodeType&&exports,zN=VN&&"object"==typeof module&&module&&!module.nodeType&&module,qN=zN&&zN.exports===VN?oI.Buffer:void 0,BN=(qN?qN.isBuffer:void 0)||UN,WN=/^(?:0|[1-9]\d*)$/;var HN=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&WN.test(e))&&e>-1&&e%1==0&&e<t};var KN=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},GN={};GN["[object Float32Array]"]=GN["[object Float64Array]"]=GN["[object Int8Array]"]=GN["[object Int16Array]"]=GN["[object Int32Array]"]=GN["[object Uint8Array]"]=GN["[object Uint8ClampedArray]"]=GN["[object Uint16Array]"]=GN["[object Uint32Array]"]=!0,GN["[object Arguments]"]=GN["[object Array]"]=GN["[object ArrayBuffer]"]=GN["[object Boolean]"]=GN["[object DataView]"]=GN["[object Date]"]=GN["[object Error]"]=GN["[object Function]"]=GN["[object Map]"]=GN["[object Number]"]=GN["[object Object]"]=GN["[object RegExp]"]=GN["[object Set]"]=GN["[object String]"]=GN["[object WeakMap]"]=!1;var $N=function(e){return kI(e)&&KN(e.length)&&!!GN[yI(e)]};var QN=function(e){return function(t){return e(t)}},YN="object"==typeof exports&&exports&&!exports.nodeType&&exports,XN=YN&&"object"==typeof module&&module&&!module.nodeType&&module,JN=XN&&XN.exports===YN&&iI.process,ZN=function(){try{var e=XN&&XN.require&&XN.require("util").types;return e||JN&&JN.binding&&JN.binding("util")}catch(t){}}(),eA=ZN&&ZN.isTypedArray,tA=eA?QN(eA):$N,nA=Object.prototype.hasOwnProperty;var rA=function(e,t){var n=MN(e),r=!n&&jN(e),i=!n&&!r&&BN(e),a=!n&&!r&&!i&&tA(e),o=n||r||i||a,s=o?ON(e.length,String):[],u=s.length;for(var c in e)!t&&!nA.call(e,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||HN(c,u))||s.push(c);return s},iA=Object.prototype;var aA=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||iA)},oA=mI(Object.keys,Object),sA=Object.prototype.hasOwnProperty;var uA=function(e){if(!aA(e))return oA(e);var t=[];for(var n in Object(e))sA.call(e,n)&&"constructor"!=n&&t.push(n);return t};var cA=function(e){return null!=e&&KN(e.length)&&!zI(e)};var lA=function(e){return cA(e)?rA(e):uA(e)};var fA=function(e,t){return e&&AN(t,lA(t),e)};var hA=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t},dA=Object.prototype.hasOwnProperty;var pA=function(e){if(!VI(e))return hA(e);var t=aA(e),n=[];for(var r in e)("constructor"!=r||!t&&dA.call(e,r))&&n.push(r);return n};var vA=function(e){return cA(e)?rA(e,!0):pA(e)};var yA=function(e,t){return e&&AN(t,vA(t),e)},mA="object"==typeof exports&&exports&&!exports.nodeType&&exports,gA=mA&&"object"==typeof module&&module&&!module.nodeType&&module,kA=gA&&gA.exports===mA?oI.Buffer:void 0,bA=kA?kA.allocUnsafe:void 0;var _A=function(e,t){if(t)return e.slice();var n=e.length,r=bA?bA(n):new e.constructor(n);return e.copy(r),r};var wA=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t};var xA=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a};var EA=function(){return[]},SA=Object.prototype.propertyIsEnumerable,TA=Object.getOwnPropertySymbols,CA=TA?function(e){return null==e?[]:(e=Object(e),xA(TA(e),(function(t){return SA.call(e,t)})))}:EA,IA=CA;var NA=function(e,t){return AN(e,IA(e),t)};var AA=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},OA=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)AA(t,IA(e)),e=gI(e);return t}:EA,RA=OA;var PA=function(e,t){return AN(e,RA(e),t)};var DA=function(e,t,n){var r=t(e);return MN(e)?r:AA(r,n(e))};var FA=function(e){return DA(e,lA,IA)};var LA=function(e){return DA(e,vA,RA)},jA=tN(oI,"DataView"),MA=tN(oI,"Promise"),UA=tN(oI,"Set"),VA=tN(oI,"WeakMap"),zA="[object Map]",qA="[object Promise]",BA="[object Set]",WA="[object WeakMap]",HA="[object DataView]",KA=KI(jA),GA=KI(nN),$A=KI(MA),QA=KI(UA),YA=KI(VA),XA=yI;(jA&&XA(new jA(new ArrayBuffer(1)))!=HA||nN&&XA(new nN)!=zA||MA&&XA(MA.resolve())!=qA||UA&&XA(new UA)!=BA||VA&&XA(new VA)!=WA)&&(XA=function(e){var t=yI(e),n="[object Object]"==t?e.constructor:void 0,r=n?KI(n):"";if(r)switch(r){case KA:return HA;case GA:return zA;case $A:return qA;case QA:return BA;case YA:return WA}return t});var JA=XA,ZA=Object.prototype.hasOwnProperty;var eO=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&ZA.call(e,"index")&&(n.index=e.index,n.input=e.input),n},tO=oI.Uint8Array;var nO=function(e){var t=new e.constructor(e.byteLength);return new tO(t).set(new tO(e)),t};var rO=function(e,t){var n=t?nO(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},iO=/\w*$/;var aO=function(e){var t=new e.constructor(e.source,iO.exec(e));return t.lastIndex=e.lastIndex,t},oO=sI?sI.prototype:void 0,sO=oO?oO.valueOf:void 0;var uO=function(e){return sO?Object(sO.call(e)):{}};var cO=function(e,t){var n=t?nO(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)};var lO=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return nO(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return rO(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return cO(e,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return aO(e);case"[object Symbol]":return uO(e)}},fO=Object.create,hO=function(){function e(){}return function(t){if(!VI(t))return{};if(fO)return fO(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),dO=hO;var pO=function(e){return"function"!=typeof e.constructor||aA(e)?{}:dO(gI(e))};var vO=function(e){return kI(e)&&"[object Map]"==JA(e)},yO=ZN&&ZN.isMap,mO=yO?QN(yO):vO;var gO=function(e){return kI(e)&&"[object Set]"==JA(e)},kO=ZN&&ZN.isSet,bO=kO?QN(kO):gO,_O="[object Arguments]",wO="[object Function]",xO="[object Object]",EO={};EO[_O]=EO["[object Array]"]=EO["[object ArrayBuffer]"]=EO["[object DataView]"]=EO["[object Boolean]"]=EO["[object Date]"]=EO["[object Float32Array]"]=EO["[object Float64Array]"]=EO["[object Int8Array]"]=EO["[object Int16Array]"]=EO["[object Int32Array]"]=EO["[object Map]"]=EO["[object Number]"]=EO["[object Object]"]=EO["[object RegExp]"]=EO["[object Set]"]=EO["[object String]"]=EO["[object Symbol]"]=EO["[object Uint8Array]"]=EO["[object Uint8ClampedArray]"]=EO["[object Uint16Array]"]=EO["[object Uint32Array]"]=!0,EO["[object Error]"]=EO[wO]=EO["[object WeakMap]"]=!1;var SO=function e(t,n,r,i,a,o){var s,u=1&n,c=2&n,l=4&n;if(r&&(s=a?r(t,i,a,o):r(t)),void 0!==s)return s;if(!VI(t))return t;var f=MN(t);if(f){if(s=eO(t),!u)return wA(t,s)}else{var h=JA(t),d=h==wO||"[object GeneratorFunction]"==h;if(BN(t))return _A(t,u);if(h==xO||h==_O||d&&!a){if(s=c||d?{}:pO(t),!u)return c?PA(t,yA(s,t)):NA(t,fA(s,t))}else{if(!EO[h])return a?t:{};s=lO(t,h,u)}}o||(o=new EN);var p=o.get(t);if(p)return p;o.set(t,s),bO(t)?t.forEach((function(i){s.add(e(i,n,r,i,t,o))})):mO(t)&&t.forEach((function(i,a){s.set(a,e(i,n,r,a,t,o))}));var v=f?void 0:(l?c?LA:FA:c?vA:lA)(t);return SN(v||t,(function(i,a){v&&(i=t[a=i]),NN(s,a,e(i,n,r,a,t,o))})),s};var TO=function(e){return SO(e,4)};var CO=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i};var IO=function(e){return"symbol"==typeof e||kI(e)&&"[object Symbol]"==yI(e)};function NO(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(NO.Cache||_N),n}NO.Cache=_N;var AO=NO;var OO=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,RO=/\\(\\)?/g,PO=function(e){var t=AO(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(OO,(function(e,n,r,i){t.push(r?i.replace(RO,"$1"):n||e)})),t})),DO=PO;var FO=function(e){if("string"==typeof e||IO(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t},LO=sI?sI.prototype:void 0,jO=LO?LO.toString:void 0;var MO=function e(t){if("string"==typeof t)return t;if(MN(t))return CO(t,e)+"";if(IO(t))return jO?jO.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n};var UO=function(e){return null==e?"":MO(e)};var VO=function(e){return MN(e)?CO(e,FO):IO(e)?[e]:wA(DO(UO(e)))};var zO=function(e,t){};var qO=function(e){return SO(e,5)};function BO(){return BO=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},BO.apply(this,arguments)}function WO(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function HO(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function KO(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var GO=function(e){return Array.isArray(e)&&0===e.length},$O=function(e){return"function"===typeof e},QO=function(e){return null!==e&&"object"===typeof e},YO=function(e){return String(Math.floor(Number(e)))===e},XO=function(e){return"[object String]"===Object.prototype.toString.call(e)},JO=function(t){return 0===e.Children.count(t)},ZO=function(e){return QO(e)&&$O(e.then)};function eR(e,t,n,r){void 0===r&&(r=0);for(var i=VO(t);e&&r<i.length;)e=e[i[r++]];return void 0===e?n:e}function tR(e,t,n){for(var r=TO(e),i=r,a=0,o=VO(t);a<o.length-1;a++){var s=o[a],u=eR(e,o.slice(0,a+1));if(u&&(QO(u)||Array.isArray(u)))i=i[s]=TO(u);else{var c=o[a+1];i=i[s]=YO(c)&&Number(c)>=0?[]:{}}}return(0===a?e:i)[o[a]]===n?e:(void 0===n?delete i[o[a]]:i[o[a]]=n,0===a&&void 0===n&&delete r[o[a]],r)}function nR(e,t,n,r){void 0===n&&(n=new WeakMap),void 0===r&&(r={});for(var i=0,a=Object.keys(e);i<a.length;i++){var o=a[i],s=e[o];QO(s)?n.get(s)||(n.set(s,!0),r[o]=Array.isArray(s)?[]:{},nR(s,t,n,r[o])):r[o]=t}return r}var rR=(0,e.createContext)(void 0);rR.displayName="FormikContext";var iR=rR.Provider;rR.Consumer;function aR(){var t=(0,e.useContext)(rR);return t||zO(!1),t}function oR(e,t){switch(t.type){case"SET_VALUES":return BO({},e,{values:t.payload});case"SET_TOUCHED":return BO({},e,{touched:t.payload});case"SET_ERRORS":return XC()(e.errors,t.payload)?e:BO({},e,{errors:t.payload});case"SET_STATUS":return BO({},e,{status:t.payload});case"SET_ISSUBMITTING":return BO({},e,{isSubmitting:t.payload});case"SET_ISVALIDATING":return BO({},e,{isValidating:t.payload});case"SET_FIELD_VALUE":return BO({},e,{values:tR(e.values,t.payload.field,t.payload.value)});case"SET_FIELD_TOUCHED":return BO({},e,{touched:tR(e.touched,t.payload.field,t.payload.value)});case"SET_FIELD_ERROR":return BO({},e,{errors:tR(e.errors,t.payload.field,t.payload.value)});case"RESET_FORM":return BO({},e,t.payload);case"SET_FORMIK_STATE":return t.payload(e);case"SUBMIT_ATTEMPT":return BO({},e,{touched:nR(e.values,!0),isSubmitting:!0,submitCount:e.submitCount+1});case"SUBMIT_FAILURE":case"SUBMIT_SUCCESS":return BO({},e,{isSubmitting:!1});default:return e}}var sR={},uR={};function cR(t){var n=t.validateOnChange,r=void 0===n||n,i=t.validateOnBlur,a=void 0===i||i,o=t.validateOnMount,s=void 0!==o&&o,u=t.isInitialValid,c=t.enableReinitialize,l=void 0!==c&&c,f=t.onSubmit,h=HO(t,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),d=BO({validateOnChange:r,validateOnBlur:a,validateOnMount:s,onSubmit:f},h),p=(0,e.useRef)(d.initialValues),v=(0,e.useRef)(d.initialErrors||sR),y=(0,e.useRef)(d.initialTouched||uR),m=(0,e.useRef)(d.initialStatus),g=(0,e.useRef)(!1),k=(0,e.useRef)({});(0,e.useEffect)((function(){return g.current=!0,function(){g.current=!1}}),[]);var b=(0,e.useReducer)(oR,{values:d.initialValues,errors:d.initialErrors||sR,touched:d.initialTouched||uR,status:d.initialStatus,isSubmitting:!1,isValidating:!1,submitCount:0}),_=b[0],w=b[1],x=(0,e.useCallback)((function(e,t){return new Promise((function(n,r){var i=d.validate(e,t);null==i?n(sR):ZO(i)?i.then((function(e){n(e||sR)}),(function(e){r(e)})):n(i)}))}),[d.validate]),E=(0,e.useCallback)((function(e,t){var n=d.validationSchema,r=$O(n)?n(t):n,i=t&&r.validateAt?r.validateAt(t,e):function(e,t,n,r){void 0===n&&(n=!1);void 0===r&&(r={});var i=fR(e);return t[n?"validateSync":"validate"](i,{abortEarly:!1,context:r})}(e,r);return new Promise((function(e,t){i.then((function(){e(sR)}),(function(n){"ValidationError"===n.name?e(function(e){var t={};if(e.inner){if(0===e.inner.length)return tR(t,e.path,e.message);var n=e.inner,r=Array.isArray(n),i=0;for(n=r?n:n[Symbol.iterator]();;){var a;if(r){if(i>=n.length)break;a=n[i++]}else{if((i=n.next()).done)break;a=i.value}var o=a;eR(t,o.path)||(t=tR(t,o.path,o.message))}}return t}(n)):t(n)}))}))}),[d.validationSchema]),S=(0,e.useCallback)((function(e,t){return new Promise((function(n){return n(k.current[e].validate(t))}))}),[]),T=(0,e.useCallback)((function(e){var t=Object.keys(k.current).filter((function(e){return $O(k.current[e].validate)})),n=t.length>0?t.map((function(t){return S(t,eR(e,t))})):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(n).then((function(e){return e.reduce((function(e,n,r){return"DO_NOT_DELETE_YOU_WILL_BE_FIRED"===n||n&&(e=tR(e,t[r],n)),e}),{})}))}),[S]),C=(0,e.useCallback)((function(e){return Promise.all([T(e),d.validationSchema?E(e):{},d.validate?x(e):{}]).then((function(e){var t=e[0],n=e[1],r=e[2];return rI.all([t,n,r],{arrayMerge:hR})}))}),[d.validate,d.validationSchema,T,x,E]),I=pR((function(e){return void 0===e&&(e=_.values),w({type:"SET_ISVALIDATING",payload:!0}),C(e).then((function(e){return g.current&&(w({type:"SET_ISVALIDATING",payload:!1}),w({type:"SET_ERRORS",payload:e})),e}))}));(0,e.useEffect)((function(){s&&!0===g.current&&XC()(p.current,d.initialValues)&&I(p.current)}),[s,I]);var N=(0,e.useCallback)((function(e){var t=e&&e.values?e.values:p.current,n=e&&e.errors?e.errors:v.current?v.current:d.initialErrors||{},r=e&&e.touched?e.touched:y.current?y.current:d.initialTouched||{},i=e&&e.status?e.status:m.current?m.current:d.initialStatus;p.current=t,v.current=n,y.current=r,m.current=i;var a=function(){w({type:"RESET_FORM",payload:{isSubmitting:!!e&&!!e.isSubmitting,errors:n,touched:r,status:i,values:t,isValidating:!!e&&!!e.isValidating,submitCount:e&&e.submitCount&&"number"===typeof e.submitCount?e.submitCount:0}})};if(d.onReset){var o=d.onReset(_.values,$);ZO(o)?o.then(a):a()}else a()}),[d.initialErrors,d.initialStatus,d.initialTouched]);(0,e.useEffect)((function(){!0!==g.current||XC()(p.current,d.initialValues)||(l&&(p.current=d.initialValues,N()),s&&I(p.current))}),[l,d.initialValues,N,s,I]),(0,e.useEffect)((function(){l&&!0===g.current&&!XC()(v.current,d.initialErrors)&&(v.current=d.initialErrors||sR,w({type:"SET_ERRORS",payload:d.initialErrors||sR}))}),[l,d.initialErrors]),(0,e.useEffect)((function(){l&&!0===g.current&&!XC()(y.current,d.initialTouched)&&(y.current=d.initialTouched||uR,w({type:"SET_TOUCHED",payload:d.initialTouched||uR}))}),[l,d.initialTouched]),(0,e.useEffect)((function(){l&&!0===g.current&&!XC()(m.current,d.initialStatus)&&(m.current=d.initialStatus,w({type:"SET_STATUS",payload:d.initialStatus}))}),[l,d.initialStatus,d.initialTouched]);var A=pR((function(e){if(k.current[e]&&$O(k.current[e].validate)){var t=eR(_.values,e),n=k.current[e].validate(t);return ZO(n)?(w({type:"SET_ISVALIDATING",payload:!0}),n.then((function(e){return e})).then((function(t){w({type:"SET_FIELD_ERROR",payload:{field:e,value:t}}),w({type:"SET_ISVALIDATING",payload:!1})}))):(w({type:"SET_FIELD_ERROR",payload:{field:e,value:n}}),Promise.resolve(n))}return d.validationSchema?(w({type:"SET_ISVALIDATING",payload:!0}),E(_.values,e).then((function(e){return e})).then((function(t){w({type:"SET_FIELD_ERROR",payload:{field:e,value:t[e]}}),w({type:"SET_ISVALIDATING",payload:!1})}))):Promise.resolve()})),O=(0,e.useCallback)((function(e,t){var n=t.validate;k.current[e]={validate:n}}),[]),R=(0,e.useCallback)((function(e){delete k.current[e]}),[]),P=pR((function(e,t){return w({type:"SET_TOUCHED",payload:e}),(void 0===t?a:t)?I(_.values):Promise.resolve()})),D=(0,e.useCallback)((function(e){w({type:"SET_ERRORS",payload:e})}),[]),F=pR((function(e,t){var n=$O(e)?e(_.values):e;return w({type:"SET_VALUES",payload:n}),(void 0===t?r:t)?I(n):Promise.resolve()})),L=(0,e.useCallback)((function(e,t){w({type:"SET_FIELD_ERROR",payload:{field:e,value:t}})}),[]),j=pR((function(e,t,n){return w({type:"SET_FIELD_VALUE",payload:{field:e,value:t}}),(void 0===n?r:n)?I(tR(_.values,e,t)):Promise.resolve()})),M=(0,e.useCallback)((function(e,t){var n,r=t,i=e;if(!XO(e)){e.persist&&e.persist();var a=e.target?e.target:e.currentTarget,o=a.type,s=a.name,u=a.id,c=a.value,l=a.checked,f=(a.outerHTML,a.options),h=a.multiple;r=t||(s||u),i=/number|range/.test(o)?(n=parseFloat(c),isNaN(n)?"":n):/checkbox/.test(o)?function(e,t,n){if("boolean"===typeof e)return Boolean(t);var r=[],i=!1,a=-1;if(Array.isArray(e))r=e,i=(a=e.indexOf(n))>=0;else if(!n||"true"==n||"false"==n)return Boolean(t);if(t&&n&&!i)return r.concat(n);if(!i)return r;return r.slice(0,a).concat(r.slice(a+1))}(eR(_.values,r),l,c):f&&h?function(e){return Array.from(e).filter((function(e){return e.selected})).map((function(e){return e.value}))}(f):c}r&&j(r,i)}),[j,_.values]),U=pR((function(e){if(XO(e))return function(t){return M(t,e)};M(e)})),V=pR((function(e,t,n){return void 0===t&&(t=!0),w({type:"SET_FIELD_TOUCHED",payload:{field:e,value:t}}),(void 0===n?a:n)?I(_.values):Promise.resolve()})),z=(0,e.useCallback)((function(e,t){e.persist&&e.persist();var n=e.target,r=n.name,i=n.id,a=(n.outerHTML,t||(r||i));V(a,!0)}),[V]),q=pR((function(e){if(XO(e))return function(t){return z(t,e)};z(e)})),B=(0,e.useCallback)((function(e){$O(e)?w({type:"SET_FORMIK_STATE",payload:e}):w({type:"SET_FORMIK_STATE",payload:function(){return e}})}),[]),W=(0,e.useCallback)((function(e){w({type:"SET_STATUS",payload:e})}),[]),H=(0,e.useCallback)((function(e){w({type:"SET_ISSUBMITTING",payload:e})}),[]),K=pR((function(){return w({type:"SUBMIT_ATTEMPT"}),I().then((function(e){var t=e instanceof Error;if(!t&&0===Object.keys(e).length){var n;try{if(void 0===(n=Q()))return}catch(e_){throw e_}return Promise.resolve(n).then((function(e){return g.current&&w({type:"SUBMIT_SUCCESS"}),e})).catch((function(e){if(g.current)throw w({type:"SUBMIT_FAILURE"}),e}))}if(g.current&&(w({type:"SUBMIT_FAILURE"}),t))throw e}))})),G=pR((function(e){e&&e.preventDefault&&$O(e.preventDefault)&&e.preventDefault(),e&&e.stopPropagation&&$O(e.stopPropagation)&&e.stopPropagation(),K().catch((function(e){console.warn("Warning: An unhandled error was caught from submitForm()",e)}))})),$={resetForm:N,validateForm:I,validateField:A,setErrors:D,setFieldError:L,setFieldTouched:V,setFieldValue:j,setStatus:W,setSubmitting:H,setTouched:P,setValues:F,setFormikState:B,submitForm:K},Q=pR((function(){return f(_.values,$)})),Y=pR((function(e){e&&e.preventDefault&&$O(e.preventDefault)&&e.preventDefault(),e&&e.stopPropagation&&$O(e.stopPropagation)&&e.stopPropagation(),N()})),X=(0,e.useCallback)((function(e){return{value:eR(_.values,e),error:eR(_.errors,e),touched:!!eR(_.touched,e),initialValue:eR(p.current,e),initialTouched:!!eR(y.current,e),initialError:eR(v.current,e)}}),[_.errors,_.touched,_.values]),J=(0,e.useCallback)((function(e){return{setValue:function(t,n){return j(e,t,n)},setTouched:function(t,n){return V(e,t,n)},setError:function(t){return L(e,t)}}}),[j,V,L]),Z=(0,e.useCallback)((function(e){var t=QO(e),n=t?e.name:e,r=eR(_.values,n),i={name:n,value:r,onChange:U,onBlur:q};if(t){var a=e.type,o=e.value,s=e.as,u=e.multiple;"checkbox"===a?void 0===o?i.checked=!!r:(i.checked=!(!Array.isArray(r)||!~r.indexOf(o)),i.value=o):"radio"===a?(i.checked=r===o,i.value=o):"select"===s&&u&&(i.value=i.value||[],i.multiple=!0)}return i}),[q,U,_.values]),ee=(0,e.useMemo)((function(){return!XC()(p.current,_.values)}),[p.current,_.values]),te=(0,e.useMemo)((function(){return"undefined"!==typeof u?ee?_.errors&&0===Object.keys(_.errors).length:!1!==u&&$O(u)?u(d):u:_.errors&&0===Object.keys(_.errors).length}),[u,ee,_.errors,d]);return BO({},_,{initialValues:p.current,initialErrors:v.current,initialTouched:y.current,initialStatus:m.current,handleBlur:q,handleChange:U,handleReset:Y,handleSubmit:G,resetForm:N,setErrors:D,setFormikState:B,setFieldTouched:V,setFieldValue:j,setFieldError:L,setStatus:W,setSubmitting:H,setTouched:P,setValues:F,submitForm:K,validateForm:I,validateField:A,isValid:te,dirty:ee,unregisterField:R,registerField:O,getFieldProps:Z,getFieldMeta:X,getFieldHelpers:J,validateOnBlur:a,validateOnChange:r,validateOnMount:s})}function lR(t){var n=cR(t),r=t.component,i=t.children,a=t.render,o=t.innerRef;return(0,e.useImperativeHandle)(o,(function(){return n})),(0,e.createElement)(iR,{value:n},r?(0,e.createElement)(r,n):a?a(n):i?$O(i)?i(n):JO(i)?null:e.Children.only(i):null)}function fR(e){var t=Array.isArray(e)?[]:{};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=String(n);!0===Array.isArray(e[r])?t[r]=e[r].map((function(e){return!0===Array.isArray(e)||SI(e)?fR(e):""!==e?e:void 0})):SI(e[r])?t[r]=fR(e[r]):t[r]=""!==e[r]?e[r]:void 0}return t}function hR(e,t,n){var r=e.slice();return t.forEach((function(t,i){if("undefined"===typeof r[i]){var a=!1!==n.clone&&n.isMergeableObject(t);r[i]=a?rI(Array.isArray(t)?[]:{},t,n):t}else n.isMergeableObject(t)?r[i]=rI(e[i],t,n):-1===e.indexOf(t)&&r.push(t)})),r}var dR="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?e.useLayoutEffect:e.useEffect;function pR(t){var n=(0,e.useRef)(t);return dR((function(){n.current=t})),(0,e.useCallback)((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.current.apply(void 0,t)}),[])}function vR(t){var n=t.validate,r=t.name,i=t.render,a=t.children,o=t.as,s=t.component,u=HO(t,["validate","name","render","children","as","component"]),c=HO(aR(),["validate","validationSchema"]);var l=c.registerField,f=c.unregisterField;(0,e.useEffect)((function(){return l(r,{validate:n}),function(){f(r)}}),[l,f,r,n]);var h=c.getFieldProps(BO({name:r},u)),d=c.getFieldMeta(r),p={field:h,form:c};if(i)return i(BO({},p,{meta:d}));if($O(a))return a(BO({},p,{meta:d}));if(s){if("string"===typeof s){var v=u.innerRef,y=HO(u,["innerRef"]);return(0,e.createElement)(s,BO({ref:v},h,y),a)}return(0,e.createElement)(s,BO({field:h,form:c},u),a)}var m=o||"input";if("string"===typeof m){var g=u.innerRef,k=HO(u,["innerRef"]);return(0,e.createElement)(m,BO({ref:g},h,k),a)}return(0,e.createElement)(m,BO({},h,u),a)}var yR=(0,e.forwardRef)((function(t,n){var r=t.action,i=HO(t,["action"]),a=null!=r?r:"#",o=aR(),s=o.handleReset,u=o.handleSubmit;return(0,e.createElement)("form",Object.assign({onSubmit:u,ref:n,onReset:s,action:a},i))}));yR.displayName="Form";var mR=function(e,t,n){var r=gR(e);return r.splice(t,0,n),r},gR=function(e){if(e){if(Array.isArray(e))return[].concat(e);var t=Object.keys(e).map((function(e){return parseInt(e)})).reduce((function(e,t){return t>e?t:e}),0);return Array.from(BO({},e,{length:t+1}))}return[]},kR=function(t){function n(e){var n;return(n=t.call(this,e)||this).updateArrayField=function(e,t,r){var i=n.props,a=i.name;(0,i.formik.setFormikState)((function(n){var i="function"===typeof r?r:e,o="function"===typeof t?t:e,s=tR(n.values,a,e(eR(n.values,a))),u=r?i(eR(n.errors,a)):void 0,c=t?o(eR(n.touched,a)):void 0;return GO(u)&&(u=void 0),GO(c)&&(c=void 0),BO({},n,{values:s,errors:r?tR(n.errors,a,u):n.errors,touched:t?tR(n.touched,a,c):n.touched})}))},n.push=function(e){return n.updateArrayField((function(t){return[].concat(gR(t),[qO(e)])}),!1,!1)},n.handlePush=function(e){return function(){return n.push(e)}},n.swap=function(e,t){return n.updateArrayField((function(n){return function(e,t,n){var r=gR(e),i=r[t];return r[t]=r[n],r[n]=i,r}(n,e,t)}),!0,!0)},n.handleSwap=function(e,t){return function(){return n.swap(e,t)}},n.move=function(e,t){return n.updateArrayField((function(n){return function(e,t,n){var r=gR(e),i=r[t];return r.splice(t,1),r.splice(n,0,i),r}(n,e,t)}),!0,!0)},n.handleMove=function(e,t){return function(){return n.move(e,t)}},n.insert=function(e,t){return n.updateArrayField((function(n){return mR(n,e,t)}),(function(t){return mR(t,e,null)}),(function(t){return mR(t,e,null)}))},n.handleInsert=function(e,t){return function(){return n.insert(e,t)}},n.replace=function(e,t){return n.updateArrayField((function(n){return function(e,t,n){var r=gR(e);return r[t]=n,r}(n,e,t)}),!1,!1)},n.handleReplace=function(e,t){return function(){return n.replace(e,t)}},n.unshift=function(e){var t=-1;return n.updateArrayField((function(n){var r=n?[e].concat(n):[e];return t<0&&(t=r.length),r}),(function(e){var n=e?[null].concat(e):[null];return t<0&&(t=n.length),n}),(function(e){var n=e?[null].concat(e):[null];return t<0&&(t=n.length),n})),t},n.handleUnshift=function(e){return function(){return n.unshift(e)}},n.handleRemove=function(e){return function(){return n.remove(e)}},n.handlePop=function(){return function(){return n.pop()}},n.remove=n.remove.bind(KO(n)),n.pop=n.pop.bind(KO(n)),n}WO(n,t);var r=n.prototype;return r.componentDidUpdate=function(e){this.props.validateOnChange&&this.props.formik.validateOnChange&&!XC()(eR(e.formik.values,e.name),eR(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},r.remove=function(e){var t;return this.updateArrayField((function(n){var r=n?gR(n):[];return t||(t=r[e]),$O(r.splice)&&r.splice(e,1),r}),!0,!0),t},r.pop=function(){var e;return this.updateArrayField((function(t){var n=t;return e||(e=n&&n.pop&&n.pop()),n}),!0,!0),e},r.render=function(){var t={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},n=this.props,r=n.component,i=n.render,a=n.children,o=n.name,s=BO({},t,{form:HO(n.formik,["validate","validationSchema"]),name:o});return r?(0,e.createElement)(r,s):i?i(s):a?"function"===typeof a?a(s):JO(a)?null:e.Children.only(a):null},n}(e.Component);kR.defaultProps={validateOnChange:!0};e.Component,e.Component;var bR=function(e){var t=e.form,n=e.field,r=e.label,i=e.type,a=void 0===i?"text":i,o=t.errors;return(0,AS.jsxs)("div",{className:"mb-2",children:[(0,AS.jsx)("label",{className:"max-w-screen-lg grid",children:r}),(0,AS.jsx)("input",ot({className:"ml-4 border rounded border-gray-300 hover:bg-amber-50",type:a},n)),o[n.name]?(0,AS.jsx)("p",{className:"text-[15px]",children:o[n.name]}):null]})},_R=/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/,wR=function(e){Zt(n,e);var t=on(n);function n(){var e;Qt(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).hendleSubmit=function(e){Cg(xS,e.email,e.password)},e}return Xt(n,[{key:"render",value:function(){return(0,AS.jsx)(lR,{initialValues:{email:"",password:""},onSubmit:this.hendleSubmit,validationSchema:GC().shape({email:EC().email("\u0415mail \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0432\u0435\u0440\u043d\u043e\u0433\u043e \u0444\u043e\u0440\u043c\u0430\u0442\u0430").required("\u0415mail \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u0435\u043d"),password:EC().matches(_R,"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432 \u0438 \u0432\u043a\u043b\u044e\u0447\u0430\u0442\u044c \u043a\u0430\u043a \u043c\u0438\u043d\u0438\u043c\u0443\u043c \u043e\u0434\u043d\u0443 \u0431\u0443\u043a\u0432\u0443 \u0438 \u043e\u0434\u043d\u0443 \u0446\u0438\u0444\u0440\u0443").required("\u041f\u0430\u0440\u043e\u043b\u044c \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u0435\u043d")}),children:function(e){var t=e.isValid;return(0,AS.jsxs)(yR,{className:"w-auto p-4 text-[18px]",children:[(0,AS.jsx)(vR,{name:"email",component:bR,label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0435mail"}),(0,AS.jsx)(vR,{name:"password",component:bR,label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",type:"password"}),(0,AS.jsx)("button",{className:"m-2 border rounded border-gray-300 w-min px-2 hover:bg-amber-50",type:"submit",disabled:!t,children:"\u0412\u0445\u043e\u0434"})]})}})}}]),n}(e.Component),xR=/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/,ER=function(e){Zt(n,e);var t=on(n);function n(){var e;Qt(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).hendleSubmit=function(e){Sg(xS,e.email,e.password).then(Kt($t().mark((function t(){return $t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ag(xS.currentUser,{displayName:e.username});case 2:sy(sv(ES,"users",e.username),{username:e.username});case 3:case"end":return t.stop()}}),t)}))))},e}return Xt(n,[{key:"render",value:function(){return(0,AS.jsx)(lR,{initialValues:{username:"",email:"",password:""},onSubmit:this.hendleSubmit,validationSchema:GC().shape({username:EC().required("\u0418\u043c\u044f \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e").max(20,"\u0418\u043c\u044f \u0434\u043e\u043b\u0436\u043d\u043e \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043d\u0435 \u0431\u043e\u043b\u0435\u0435 20 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"),email:EC().email("\u0415mail \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0432\u0435\u0440\u043d\u043e\u0433\u043e \u0444\u043e\u0440\u043c\u0430\u0442\u0430").required("\u0415mail \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u0435\u043d"),password:EC().matches(xR,"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432 \u0438 \u0432\u043a\u043b\u044e\u0447\u0430\u0442\u044c \u043a\u0430\u043a \u043c\u0438\u043d\u0438\u043c\u0443\u043c \u043e\u0434\u043d\u0443 \u0431\u0443\u043a\u0432\u0443 \u0438 \u043e\u0434\u043d\u0443 \u0446\u0438\u0444\u0440\u0443").required("\u041f\u0430\u0440\u043e\u043b\u044c \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u0435\u043d")}),children:function(e){var t=e.isValid;return(0,AS.jsxs)(yR,{className:"w-auto p-4 text-[18px]",children:[(0,AS.jsx)(vR,{name:"username",component:bR,label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f"}),(0,AS.jsx)(vR,{name:"email",component:bR,label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0435mail"}),(0,AS.jsx)(vR,{name:"password",component:bR,label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",type:"password"}),(0,AS.jsx)("button",{className:"m-2 border rounded border-gray-300 w-min px-2 hover:bg-amber-50",type:"submit",disabled:!t,children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})]})}})}}]),n}(e.Component),SR=function(e){Zt(n,e);var t=on(n);function n(e){var r;return Qt(this,n),(r=t.call(this,e)).addSingUp=function(){r.setState({addFormLogin:!1,addFormSingUp:!0})},r.addLogin=function(){r.setState({addFormLogin:!0,addFormSingUp:!1})},r.state={addFormLogin:!0,addFormSingUp:!1},r}return Xt(n,[{key:"render",value:function(){return(0,AS.jsxs)("div",{className:"bg-white max-w-screen-lg mx-auto text-center w-full p-4",children:[(0,AS.jsx)("button",{onClick:this.addLogin,className:"text-[20px] border px-4 py-2",children:"\u0412\u0445\u043e\u0434"}),(0,AS.jsx)("button",{onClick:this.addSingUp,className:"text-[20px] border px-4 py-2",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),this.state.addFormLogin&&(0,AS.jsx)(wR,{}),this.state.addFormSingUp&&(0,AS.jsx)(ER,{})]})}}]),n}(e.Component),TR=function(e){Zt(n,e);var t=on(n);function n(){return Qt(this,n),t.apply(this,arguments)}return Xt(n,[{key:"render",value:function(){var e=this.props.currentUser;return(0,AS.jsx)("div",{className:"flex flex-col min-h-screen flex-grow w-full",children:e?(0,AS.jsx)(k,{to:"/account"}):(0,AS.jsx)(SR,{})})}}]),n}(e.Component);TR.defaultProps={currentUser:null};var CR=function(e){Zt(n,e);var t=on(n);function n(e){var r;return Qt(this,n),(r=t.call(this,e)).handleChangeState=function(){eT.getCollection("dress").then((function(e){r.setState({dress:e})})),eT.getCollection("suit").then((function(e){r.setState({suit:e})})),eT.getCollection("sport").then((function(e){r.setState({sport:e})})),eT.getCollection("shirts").then((function(e){r.setState({shirts:e})}))},r.state={currentUser:null,dress:null,suit:null,sport:null,shirts:null,isUserLoading:!0},r}return Xt(n,[{key:"componentDidMount",value:function(){var e=this;!function(e,t,n,r){Jn(e).onAuthStateChanged(t,n,r)}(xS,(function(t){e.setState({currentUser:t,isUserLoading:!1})})),this.handleChangeState()}},{key:"render",value:function(){var e=this.state,t=e.currentUser,n=e.dress,r=e.suit,i=e.sport,a=e.shirts,o=e.isUserLoading;return(0,AS.jsxs)(AS.Fragment,{children:[(0,AS.jsx)(OS,{}),(0,AS.jsxs)(x,{children:[(0,AS.jsx)(_,{path:"/",element:(0,AS.jsx)(WS,{})}),(0,AS.jsx)(_,{path:"/account",element:(0,AS.jsx)(bT,{currentUser:t,isUserLoading:o})}),(0,AS.jsx)(_,{path:"/login",element:(0,AS.jsx)(TR,{currentUser:t})}),(0,AS.jsx)(_,{path:"/collections",element:(0,AS.jsx)(uT,{currentUser:t,dress:n,suit:r,sport:i,shirts:a,handleChangeState:this.handleChangeState})})]}),(0,AS.jsx)(RS,{})]})}}]),n}(e.Component);t.render((0,AS.jsx)(e.StrictMode,{children:(0,AS.jsx)(G,{basename:"/shine",children:(0,AS.jsx)(te,{store:NS,children:(0,AS.jsx)(CR,{})})})}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.fc78ce53.js.map